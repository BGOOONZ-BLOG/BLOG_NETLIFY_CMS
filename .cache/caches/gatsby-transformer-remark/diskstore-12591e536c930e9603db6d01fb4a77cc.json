{"expireTime":9007200904342769000,"key":"transformer-remark-markdown-ast-b51b1a65452107cedf017dd5164d109f--","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"What is THIS","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":15,"offset":15},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":15,"offset":15},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"What is ","position":{"start":{"line":4,"column":3,"offset":19},"end":{"line":4,"column":11,"offset":27},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":4,"column":11,"offset":27},"end":{"line":4,"column":17,"offset":33},"indent":[]}},{"type":"text","value":"?","position":{"start":{"line":4,"column":17,"offset":33},"end":{"line":4,"column":18,"offset":34},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":17},"end":{"line":4,"column":18,"offset":34},"indent":[]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"mdn","label":"mdn","referenceType":"full","children":[{"type":"strong","children":[{"type":"inlineCode","value":"this","position":{"start":{"line":6,"column":4,"offset":39},"end":{"line":6,"column":10,"offset":45},"indent":[]}}],"position":{"start":{"line":6,"column":2,"offset":37},"end":{"line":6,"column":12,"offset":47},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":36},"end":{"line":6,"column":18,"offset":53},"indent":[]}},{"type":"text","value":" is a special \"variable\" which implicitly exists in every\nfunction. It can be thought of being similar to Java's ","position":{"start":{"line":6,"column":18,"offset":53},"end":{"line":7,"column":56,"offset":166},"indent":[1]}},{"type":"inlineCode","value":"this","position":{"start":{"line":7,"column":56,"offset":166},"end":{"line":7,"column":62,"offset":172},"indent":[]}},{"type":"text","value":" and Python's\n","position":{"start":{"line":7,"column":62,"offset":172},"end":{"line":8,"column":1,"offset":186},"indent":[1]}},{"type":"inlineCode","value":"self","position":{"start":{"line":8,"column":1,"offset":186},"end":{"line":8,"column":7,"offset":192},"indent":[]}},{"type":"text","value":", but it's much more flexible than that.","position":{"start":{"line":8,"column":7,"offset":192},"end":{"line":8,"column":47,"offset":232},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":36},"end":{"line":8,"column":47,"offset":232},"indent":[1,1]}},{"type":"html","value":"<div class=\"callout warning\">","position":{"start":{"line":10,"column":1,"offset":234},"end":{"line":10,"column":30,"offset":263},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Important","position":{"start":{"line":12,"column":3,"offset":267},"end":{"line":12,"column":12,"offset":276},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":265},"end":{"line":12,"column":14,"offset":278},"indent":[]}},{"type":"text","value":": The value of ","position":{"start":{"line":12,"column":14,"offset":278},"end":{"line":12,"column":29,"offset":293},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":12,"column":29,"offset":293},"end":{"line":12,"column":35,"offset":299},"indent":[]}},{"type":"text","value":" is determined when the\nfunction is ","position":{"start":{"line":12,"column":35,"offset":299},"end":{"line":13,"column":13,"offset":335},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"called","position":{"start":{"line":13,"column":15,"offset":337},"end":{"line":13,"column":21,"offset":343},"indent":[]}}],"position":{"start":{"line":13,"column":13,"offset":335},"end":{"line":13,"column":23,"offset":345},"indent":[]}},{"type":"text","value":", not when the function is\n","position":{"start":{"line":13,"column":23,"offset":345},"end":{"line":14,"column":1,"offset":372},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"defined","position":{"start":{"line":14,"column":2,"offset":373},"end":{"line":14,"column":9,"offset":380},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":372},"end":{"line":14,"column":10,"offset":381},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":14,"column":10,"offset":381},"end":{"line":14,"column":11,"offset":382},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":265},"end":{"line":14,"column":11,"offset":382},"indent":[1,1]}},{"type":"html","value":"</div>","position":{"start":{"line":16,"column":1,"offset":384},"end":{"line":16,"column":7,"offset":390},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Given the following function:","position":{"start":{"line":18,"column":1,"offset":392},"end":{"line":18,"column":30,"offset":421},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":392},"end":{"line":18,"column":30,"offset":421},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":20,"column":1,"offset":423},"end":{"line":20,"column":4,"offset":426},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function foo() {\n    console.log(this);\n}","position":{"start":{"line":23,"column":1,"offset":429},"end":{"line":29,"column":4,"offset":482},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"these would be the values of ","position":{"start":{"line":31,"column":1,"offset":484},"end":{"line":31,"column":30,"offset":513},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":31,"column":30,"offset":513},"end":{"line":31,"column":36,"offset":519},"indent":[]}},{"type":"text","value":" if called in those specific ways:","position":{"start":{"line":31,"column":36,"offset":519},"end":{"line":31,"column":70,"offset":553},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":484},"end":{"line":31,"column":70,"offset":553},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"// \"normal call\": global object / window in browsers\n//                undefined in strict mode\nfoo();\n\n// as object \"method\": to the object\nvar obj = { method: foo };\nobj.method();\n\n// via .call / .apply: To the value passed as first argument\nfoo.call(bar);","position":{"start":{"line":33,"column":1,"offset":555},"end":{"line":44,"column":4,"offset":823},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"definition","identifier":"mdn","label":"mdn","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this","position":{"start":{"line":46,"column":1,"offset":825},"end":{"line":46,"column":88,"offset":912},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is the this keyword","position":{"start":{"line":48,"column":4,"offset":917},"end":{"line":48,"column":28,"offset":941},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":914},"end":{"line":48,"column":28,"offset":941},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In general, the ","position":{"start":{"line":50,"column":1,"offset":943},"end":{"line":50,"column":17,"offset":959},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":50,"column":17,"offset":959},"end":{"line":50,"column":23,"offset":965},"indent":[]}},{"type":"text","value":" references the object of which the function is a property. In other words, the ","position":{"start":{"line":50,"column":23,"offset":965},"end":{"line":50,"column":103,"offset":1045},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":50,"column":103,"offset":1045},"end":{"line":50,"column":109,"offset":1051},"indent":[]}},{"type":"text","value":" references the object that is currently calling the function.","position":{"start":{"line":50,"column":109,"offset":1051},"end":{"line":50,"column":171,"offset":1113},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":943},"end":{"line":50,"column":171,"offset":1113},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Suppose you have an object called ","position":{"start":{"line":52,"column":1,"offset":1115},"end":{"line":52,"column":35,"offset":1149},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":52,"column":35,"offset":1149},"end":{"line":52,"column":44,"offset":1158},"indent":[]}},{"type":"text","value":" that has a method ","position":{"start":{"line":52,"column":44,"offset":1158},"end":{"line":52,"column":63,"offset":1177},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":52,"column":63,"offset":1177},"end":{"line":52,"column":71,"offset":1185},"indent":[]}},{"type":"text","value":". When you call the ","position":{"start":{"line":52,"column":71,"offset":1185},"end":{"line":52,"column":91,"offset":1205},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":52,"column":91,"offset":1205},"end":{"line":52,"column":99,"offset":1213},"indent":[]}},{"type":"text","value":" method, you can access the ","position":{"start":{"line":52,"column":99,"offset":1213},"end":{"line":52,"column":127,"offset":1241},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":52,"column":127,"offset":1241},"end":{"line":52,"column":133,"offset":1247},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":52,"column":133,"offset":1247},"end":{"line":52,"column":141,"offset":1255},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1115},"end":{"line":52,"column":141,"offset":1255},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let counter = {\n  count: 0,\n  next: function () {\n    return ++this.count;\n  },\n};\n\ncounter.next();Code language: JavaScript (javascript)","position":{"start":{"line":54,"column":1,"offset":1257},"end":{"line":63,"column":4,"offset":1404},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Inside the ","position":{"start":{"line":65,"column":1,"offset":1406},"end":{"line":65,"column":12,"offset":1417},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":65,"column":12,"offset":1417},"end":{"line":65,"column":20,"offset":1425},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":65,"column":20,"offset":1425},"end":{"line":65,"column":35,"offset":1440},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":65,"column":35,"offset":1440},"end":{"line":65,"column":41,"offset":1446},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":65,"column":41,"offset":1446},"end":{"line":65,"column":57,"offset":1462},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":65,"column":57,"offset":1462},"end":{"line":65,"column":66,"offset":1471},"indent":[]}},{"type":"text","value":" object. See the following method call:","position":{"start":{"line":65,"column":66,"offset":1471},"end":{"line":65,"column":105,"offset":1510},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":1406},"end":{"line":65,"column":105,"offset":1510},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"counter.next();Code language: CSS (css)","position":{"start":{"line":67,"column":1,"offset":1512},"end":{"line":69,"column":4,"offset":1561},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":71,"column":1,"offset":1563},"end":{"line":71,"column":5,"offset":1567},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":71,"column":5,"offset":1567},"end":{"line":71,"column":13,"offset":1575},"indent":[]}},{"type":"text","value":" is a function that is the property of the ","position":{"start":{"line":71,"column":13,"offset":1575},"end":{"line":71,"column":56,"offset":1618},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":71,"column":56,"offset":1618},"end":{"line":71,"column":65,"offset":1627},"indent":[]}},{"type":"text","value":" object. Therefore, inside the ","position":{"start":{"line":71,"column":65,"offset":1627},"end":{"line":71,"column":96,"offset":1658},"indent":[]}},{"type":"inlineCode","value":"next()","position":{"start":{"line":71,"column":96,"offset":1658},"end":{"line":71,"column":104,"offset":1666},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":71,"column":104,"offset":1666},"end":{"line":71,"column":119,"offset":1681},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":71,"column":119,"offset":1681},"end":{"line":71,"column":125,"offset":1687},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":71,"column":125,"offset":1687},"end":{"line":71,"column":141,"offset":1703},"indent":[]}},{"type":"inlineCode","value":"counter","position":{"start":{"line":71,"column":141,"offset":1703},"end":{"line":71,"column":150,"offset":1712},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":71,"column":150,"offset":1712},"end":{"line":71,"column":158,"offset":1720},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":1563},"end":{"line":71,"column":158,"offset":1720},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Global context","position":{"start":{"line":73,"column":4,"offset":1725},"end":{"line":73,"column":18,"offset":1739},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1722},"end":{"line":73,"column":18,"offset":1739},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the global context, the ","position":{"start":{"line":75,"column":1,"offset":1741},"end":{"line":75,"column":28,"offset":1768},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":75,"column":28,"offset":1768},"end":{"line":75,"column":34,"offset":1774},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":75,"column":34,"offset":1774},"end":{"line":75,"column":50,"offset":1790},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es-next/javascript-globalthis/","children":[{"type":"text","value":"global object","position":{"start":{"line":75,"column":51,"offset":1791},"end":{"line":75,"column":64,"offset":1804},"indent":[]}}],"position":{"start":{"line":75,"column":50,"offset":1790},"end":{"line":75,"column":132,"offset":1872},"indent":[]}},{"type":"text","value":", which is the ","position":{"start":{"line":75,"column":132,"offset":1872},"end":{"line":75,"column":147,"offset":1887},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":75,"column":147,"offset":1887},"end":{"line":75,"column":155,"offset":1895},"indent":[]}},{"type":"text","value":" object on the web browser or ","position":{"start":{"line":75,"column":155,"offset":1895},"end":{"line":75,"column":185,"offset":1925},"indent":[]}},{"type":"inlineCode","value":"global","position":{"start":{"line":75,"column":185,"offset":1925},"end":{"line":75,"column":193,"offset":1933},"indent":[]}},{"type":"text","value":" object on Node.js.","position":{"start":{"line":75,"column":193,"offset":1933},"end":{"line":75,"column":212,"offset":1952},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":1741},"end":{"line":75,"column":212,"offset":1952},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This behavior is consistent in both strict and non-strict modes. Here's the output on the web browser:","position":{"start":{"line":77,"column":1,"offset":1954},"end":{"line":77,"column":103,"offset":2056},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":1954},"end":{"line":77,"column":103,"offset":2056},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"console.log(this === window); // trueCode language: JavaScript (javascript)","position":{"start":{"line":79,"column":1,"offset":2058},"end":{"line":81,"column":4,"offset":2143},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you assign a property to ","position":{"start":{"line":83,"column":1,"offset":2145},"end":{"line":83,"column":29,"offset":2173},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":83,"column":29,"offset":2173},"end":{"line":83,"column":35,"offset":2179},"indent":[]}},{"type":"text","value":" object in the global context, JavaScript will add the property to the global object as shown in the following example:","position":{"start":{"line":83,"column":35,"offset":2179},"end":{"line":83,"column":154,"offset":2298},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2145},"end":{"line":83,"column":154,"offset":2298},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"this.color= 'Red';\nconsole.log(window.color); // 'Red'Code language: JavaScript (javascript)","position":{"start":{"line":85,"column":1,"offset":2300},"end":{"line":88,"column":4,"offset":2402},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Function context","position":{"start":{"line":90,"column":4,"offset":2407},"end":{"line":90,"column":20,"offset":2423},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":2404},"end":{"line":90,"column":20,"offset":2423},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In JavaScript, you can call a ","position":{"start":{"line":92,"column":1,"offset":2425},"end":{"line":92,"column":31,"offset":2455},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-function/","children":[{"type":"text","value":"function","position":{"start":{"line":92,"column":32,"offset":2456},"end":{"line":92,"column":40,"offset":2464},"indent":[]}}],"position":{"start":{"line":92,"column":31,"offset":2455},"end":{"line":92,"column":98,"offset":2522},"indent":[]}},{"type":"text","value":" in the following ways:","position":{"start":{"line":92,"column":98,"offset":2522},"end":{"line":92,"column":121,"offset":2545},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2425},"end":{"line":92,"column":121,"offset":2545},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Function invocation","position":{"start":{"line":94,"column":3,"offset":2549},"end":{"line":94,"column":22,"offset":2568},"indent":[]}}],"position":{"start":{"line":94,"column":3,"offset":2549},"end":{"line":94,"column":22,"offset":2568},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":2547},"end":{"line":94,"column":22,"offset":2568},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Method invocation","position":{"start":{"line":95,"column":3,"offset":2571},"end":{"line":95,"column":20,"offset":2588},"indent":[]}}],"position":{"start":{"line":95,"column":3,"offset":2571},"end":{"line":95,"column":20,"offset":2588},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":2569},"end":{"line":95,"column":20,"offset":2588},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Constructor invocation","position":{"start":{"line":96,"column":3,"offset":2591},"end":{"line":96,"column":25,"offset":2613},"indent":[]}}],"position":{"start":{"line":96,"column":3,"offset":2591},"end":{"line":96,"column":25,"offset":2613},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2589},"end":{"line":96,"column":25,"offset":2613},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Indirect invocation","position":{"start":{"line":97,"column":3,"offset":2616},"end":{"line":97,"column":22,"offset":2635},"indent":[]}}],"position":{"start":{"line":97,"column":3,"offset":2616},"end":{"line":97,"column":22,"offset":2635},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2614},"end":{"line":97,"column":22,"offset":2635},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":2547},"end":{"line":97,"column":22,"offset":2635},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Each function invocation defines its own context. Therefore, the ","position":{"start":{"line":99,"column":1,"offset":2637},"end":{"line":99,"column":66,"offset":2702},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":99,"column":66,"offset":2702},"end":{"line":99,"column":72,"offset":2708},"indent":[]}},{"type":"text","value":" behaves differently.","position":{"start":{"line":99,"column":72,"offset":2708},"end":{"line":99,"column":93,"offset":2729},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2637},"end":{"line":99,"column":93,"offset":2729},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"1) Simple function invocation","position":{"start":{"line":101,"column":5,"offset":2735},"end":{"line":101,"column":34,"offset":2764},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":2731},"end":{"line":101,"column":34,"offset":2764},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the non-strict mode, the ","position":{"start":{"line":103,"column":1,"offset":2766},"end":{"line":103,"column":29,"offset":2794},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":103,"column":29,"offset":2794},"end":{"line":103,"column":35,"offset":2800},"indent":[]}},{"type":"text","value":" references the global object when the function is called as follows:","position":{"start":{"line":103,"column":35,"offset":2800},"end":{"line":103,"column":104,"offset":2869},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":2766},"end":{"line":103,"column":104,"offset":2869},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":105,"column":1,"offset":2871},"end":{"line":105,"column":4,"offset":2874},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function show() {\n   console.log(this === window); // true\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":108,"column":1,"offset":2877},"end":{"line":116,"column":4,"offset":2996},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"When you call the ","position":{"start":{"line":118,"column":1,"offset":2998},"end":{"line":118,"column":19,"offset":3016},"indent":[]}},{"type":"inlineCode","value":"show()","position":{"start":{"line":118,"column":19,"offset":3016},"end":{"line":118,"column":27,"offset":3024},"indent":[]}},{"type":"text","value":" function, the ","position":{"start":{"line":118,"column":27,"offset":3024},"end":{"line":118,"column":42,"offset":3039},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":118,"column":42,"offset":3039},"end":{"line":118,"column":48,"offset":3045},"indent":[]}},{"type":"text","value":" references the ","position":{"start":{"line":118,"column":48,"offset":3045},"end":{"line":118,"column":64,"offset":3061},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es-next/javascript-globalthis/","children":[{"type":"text","value":"global object","position":{"start":{"line":118,"column":65,"offset":3062},"end":{"line":118,"column":78,"offset":3075},"indent":[]}}],"position":{"start":{"line":118,"column":64,"offset":3061},"end":{"line":118,"column":146,"offset":3143},"indent":[]}},{"type":"text","value":", which is the ","position":{"start":{"line":118,"column":146,"offset":3143},"end":{"line":118,"column":161,"offset":3158},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":118,"column":161,"offset":3158},"end":{"line":118,"column":169,"offset":3166},"indent":[]}},{"type":"text","value":" on the web browser and ","position":{"start":{"line":118,"column":169,"offset":3166},"end":{"line":118,"column":193,"offset":3190},"indent":[]}},{"type":"inlineCode","value":"global","position":{"start":{"line":118,"column":193,"offset":3190},"end":{"line":118,"column":201,"offset":3198},"indent":[]}},{"type":"text","value":" on Node.js.","position":{"start":{"line":118,"column":201,"offset":3198},"end":{"line":118,"column":213,"offset":3210},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":2998},"end":{"line":118,"column":213,"offset":3210},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Calling the ","position":{"start":{"line":120,"column":1,"offset":3212},"end":{"line":120,"column":13,"offset":3224},"indent":[]}},{"type":"inlineCode","value":"show()","position":{"start":{"line":120,"column":13,"offset":3224},"end":{"line":120,"column":21,"offset":3232},"indent":[]}},{"type":"text","value":" function is the same as:","position":{"start":{"line":120,"column":21,"offset":3232},"end":{"line":120,"column":46,"offset":3257},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":3212},"end":{"line":120,"column":46,"offset":3257},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"window.show();Code language: JavaScript (javascript)","position":{"start":{"line":122,"column":1,"offset":3259},"end":{"line":124,"column":4,"offset":3321},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In the strict mode, JavaScript sets the ","position":{"start":{"line":126,"column":1,"offset":3323},"end":{"line":126,"column":41,"offset":3363},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":126,"column":41,"offset":3363},"end":{"line":126,"column":47,"offset":3369},"indent":[]}},{"type":"text","value":" inside a function to ","position":{"start":{"line":126,"column":47,"offset":3369},"end":{"line":126,"column":69,"offset":3391},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":126,"column":69,"offset":3391},"end":{"line":126,"column":80,"offset":3402},"indent":[]}},{"type":"text","value":". For example:","position":{"start":{"line":126,"column":80,"offset":3402},"end":{"line":126,"column":94,"offset":3416},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":3323},"end":{"line":126,"column":94,"offset":3416},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"\"use strict\";\n\nfunction show() {\n    console.log(this === undefined);\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":128,"column":1,"offset":3418},"end":{"line":136,"column":4,"offset":3546},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To enable the strict mode, you use the directive ","position":{"start":{"line":138,"column":1,"offset":3548},"end":{"line":138,"column":50,"offset":3597},"indent":[]}},{"type":"inlineCode","value":"\"use strict\"","position":{"start":{"line":138,"column":50,"offset":3597},"end":{"line":138,"column":64,"offset":3611},"indent":[]}},{"type":"text","value":" at the beginning of the JavaScript file. If you want to apply the strict mode to a specific function only, you place it at the top of the function body.","position":{"start":{"line":138,"column":64,"offset":3611},"end":{"line":138,"column":217,"offset":3764},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":3548},"end":{"line":138,"column":217,"offset":3764},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that the strict mode has been available since ECMAScript 5.1. The ","position":{"start":{"line":140,"column":1,"offset":3766},"end":{"line":140,"column":72,"offset":3837},"indent":[]}},{"type":"inlineCode","value":"strict","position":{"start":{"line":140,"column":72,"offset":3837},"end":{"line":140,"column":80,"offset":3845},"indent":[]}},{"type":"text","value":" mode applies to both function and nested functions. For example:","position":{"start":{"line":140,"column":80,"offset":3845},"end":{"line":140,"column":145,"offset":3910},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":3766},"end":{"line":140,"column":145,"offset":3910},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":142,"column":1,"offset":3912},"end":{"line":142,"column":4,"offset":3915},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function show() {\n    \"use strict\";\n    console.log(this === undefined); // true\n\n    function display() {\n        console.log(this === undefined); // true\n    }\n    display();\n}\n\nshow();Code language: JavaScript (javascript)","position":{"start":{"line":145,"column":1,"offset":3918},"end":{"line":159,"column":4,"offset":4155},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":161,"column":1,"offset":4157},"end":{"line":161,"column":8,"offset":4164},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":4157},"end":{"line":161,"column":8,"offset":4164},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"true\ntrueCode language: JavaScript (javascript)","position":{"start":{"line":163,"column":1,"offset":4166},"end":{"line":166,"column":4,"offset":4223},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":168,"column":1,"offset":4225},"end":{"line":168,"column":8,"offset":4232},"indent":[]}},{"type":"inlineCode","value":"display()","position":{"start":{"line":168,"column":8,"offset":4232},"end":{"line":168,"column":19,"offset":4243},"indent":[]}},{"type":"text","value":" inner function, the ","position":{"start":{"line":168,"column":19,"offset":4243},"end":{"line":168,"column":40,"offset":4264},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":168,"column":40,"offset":4264},"end":{"line":168,"column":46,"offset":4270},"indent":[]}},{"type":"text","value":" also set to ","position":{"start":{"line":168,"column":46,"offset":4270},"end":{"line":168,"column":59,"offset":4283},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":168,"column":59,"offset":4283},"end":{"line":168,"column":70,"offset":4294},"indent":[]}},{"type":"text","value":" as shown in the console.","position":{"start":{"line":168,"column":70,"offset":4294},"end":{"line":168,"column":95,"offset":4319},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":4225},"end":{"line":168,"column":95,"offset":4319},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"2) Method invocation","position":{"start":{"line":170,"column":5,"offset":4325},"end":{"line":170,"column":25,"offset":4345},"indent":[]}}],"position":{"start":{"line":170,"column":1,"offset":4321},"end":{"line":170,"column":25,"offset":4345},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you call a method of an object, JavaScript sets ","position":{"start":{"line":172,"column":1,"offset":4347},"end":{"line":172,"column":54,"offset":4400},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":172,"column":54,"offset":4400},"end":{"line":172,"column":60,"offset":4406},"indent":[]}},{"type":"text","value":" to the object that owns the method. See the following ","position":{"start":{"line":172,"column":60,"offset":4406},"end":{"line":172,"column":115,"offset":4461},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":172,"column":115,"offset":4461},"end":{"line":172,"column":120,"offset":4466},"indent":[]}},{"type":"text","value":" object:","position":{"start":{"line":172,"column":120,"offset":4466},"end":{"line":172,"column":128,"offset":4474},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":4347},"end":{"line":172,"column":128,"offset":4474},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let car = {\n    brand: 'Honda',\n    getBrand: function () {\n        return this.brand;\n    }\n}\n\nconsole.log(car.getBrand()); // HondaCode language: JavaScript (javascript)","position":{"start":{"line":174,"column":1,"offset":4476},"end":{"line":183,"column":4,"offset":4657},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":185,"column":1,"offset":4659},"end":{"line":185,"column":22,"offset":4680},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":185,"column":22,"offset":4680},"end":{"line":185,"column":28,"offset":4686},"indent":[]}},{"type":"text","value":" object in the ","position":{"start":{"line":185,"column":28,"offset":4686},"end":{"line":185,"column":43,"offset":4701},"indent":[]}},{"type":"inlineCode","value":"getBrand()","position":{"start":{"line":185,"column":43,"offset":4701},"end":{"line":185,"column":55,"offset":4713},"indent":[]}},{"type":"text","value":" method references the ","position":{"start":{"line":185,"column":55,"offset":4713},"end":{"line":185,"column":78,"offset":4736},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":185,"column":78,"offset":4736},"end":{"line":185,"column":83,"offset":4741},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":185,"column":83,"offset":4741},"end":{"line":185,"column":91,"offset":4749},"indent":[]}}],"position":{"start":{"line":185,"column":1,"offset":4659},"end":{"line":185,"column":91,"offset":4749},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since a method is a property of an object which is a value, you can store it in a variable.","position":{"start":{"line":187,"column":1,"offset":4751},"end":{"line":187,"column":92,"offset":4842},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":4751},"end":{"line":187,"column":92,"offset":4842},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let brand = car.getBrand;Code language: JavaScript (javascript)","position":{"start":{"line":189,"column":1,"offset":4844},"end":{"line":191,"column":4,"offset":4917},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"And then call the method via the variable","position":{"start":{"line":193,"column":1,"offset":4919},"end":{"line":193,"column":42,"offset":4960},"indent":[]}}],"position":{"start":{"line":193,"column":1,"offset":4919},"end":{"line":193,"column":42,"offset":4960},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"console.log(brand()); // undefinedCode language: JavaScript (javascript)","position":{"start":{"line":195,"column":1,"offset":4962},"end":{"line":197,"column":4,"offset":5044},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You get ","position":{"start":{"line":199,"column":1,"offset":5046},"end":{"line":199,"column":9,"offset":5054},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":199,"column":9,"offset":5054},"end":{"line":199,"column":20,"offset":5065},"indent":[]}},{"type":"text","value":" instead of ","position":{"start":{"line":199,"column":20,"offset":5065},"end":{"line":199,"column":32,"offset":5077},"indent":[]}},{"type":"inlineCode","value":"\"Honda\"","position":{"start":{"line":199,"column":32,"offset":5077},"end":{"line":199,"column":41,"offset":5086},"indent":[]}},{"type":"text","value":" because when you call a method without specifying its object, JavaScript sets ","position":{"start":{"line":199,"column":41,"offset":5086},"end":{"line":199,"column":120,"offset":5165},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":199,"column":120,"offset":5165},"end":{"line":199,"column":126,"offset":5171},"indent":[]}},{"type":"text","value":" to the global object in non-strict mode and ","position":{"start":{"line":199,"column":126,"offset":5171},"end":{"line":199,"column":171,"offset":5216},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":199,"column":171,"offset":5216},"end":{"line":199,"column":182,"offset":5227},"indent":[]}},{"type":"text","value":" in the strict mode.","position":{"start":{"line":199,"column":182,"offset":5227},"end":{"line":199,"column":202,"offset":5247},"indent":[]}}],"position":{"start":{"line":199,"column":1,"offset":5046},"end":{"line":199,"column":202,"offset":5247},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To fix this issue, you use the ","position":{"start":{"line":201,"column":1,"offset":5249},"end":{"line":201,"column":32,"offset":5280},"indent":[]}},{"type":"inlineCode","value":"[bind()](https://www.javascripttutorial.net/javascript-bind/)","position":{"start":{"line":201,"column":32,"offset":5280},"end":{"line":201,"column":95,"offset":5343},"indent":[]}},{"type":"text","value":" method of the ","position":{"start":{"line":201,"column":95,"offset":5343},"end":{"line":201,"column":110,"offset":5358},"indent":[]}},{"type":"inlineCode","value":"Function.prototype","position":{"start":{"line":201,"column":110,"offset":5358},"end":{"line":201,"column":130,"offset":5378},"indent":[]}},{"type":"text","value":" object. The ","position":{"start":{"line":201,"column":130,"offset":5378},"end":{"line":201,"column":143,"offset":5391},"indent":[]}},{"type":"inlineCode","value":"bind()","position":{"start":{"line":201,"column":143,"offset":5391},"end":{"line":201,"column":151,"offset":5399},"indent":[]}},{"type":"text","value":" method creates a new function whose the ","position":{"start":{"line":201,"column":151,"offset":5399},"end":{"line":201,"column":192,"offset":5440},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":201,"column":192,"offset":5440},"end":{"line":201,"column":198,"offset":5446},"indent":[]}},{"type":"text","value":" keyword is set to a specified value.","position":{"start":{"line":201,"column":198,"offset":5446},"end":{"line":201,"column":235,"offset":5483},"indent":[]}}],"position":{"start":{"line":201,"column":1,"offset":5249},"end":{"line":201,"column":235,"offset":5483},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let brand = car.getBrand.bind(car);\nconsole.log(brand()); // Honda\nCode language: JavaScript (javascript)","position":{"start":{"line":203,"column":1,"offset":5485},"end":{"line":207,"column":4,"offset":5600},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, when you call the ","position":{"start":{"line":209,"column":1,"offset":5602},"end":{"line":209,"column":36,"offset":5637},"indent":[]}},{"type":"inlineCode","value":"brand()","position":{"start":{"line":209,"column":36,"offset":5637},"end":{"line":209,"column":45,"offset":5646},"indent":[]}},{"type":"text","value":" method, the ","position":{"start":{"line":209,"column":45,"offset":5646},"end":{"line":209,"column":58,"offset":5659},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":209,"column":58,"offset":5659},"end":{"line":209,"column":64,"offset":5665},"indent":[]}},{"type":"text","value":" keyword is bound to the ","position":{"start":{"line":209,"column":64,"offset":5665},"end":{"line":209,"column":89,"offset":5690},"indent":[]}},{"type":"inlineCode","value":"car","position":{"start":{"line":209,"column":89,"offset":5690},"end":{"line":209,"column":94,"offset":5695},"indent":[]}},{"type":"text","value":" object. For example:","position":{"start":{"line":209,"column":94,"offset":5695},"end":{"line":209,"column":115,"offset":5716},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":5602},"end":{"line":209,"column":115,"offset":5716},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let car = {\n    brand: 'Honda',\n    getBrand: function () {\n        return this.brand;\n    }\n}\n\nlet bike = {\n    brand: 'Harley Davidson'\n}\n\nlet brand = car.getBrand.bind(bike);\nconsole.log(brand());Code language: JavaScript (javascript)","position":{"start":{"line":211,"column":1,"offset":5718},"end":{"line":225,"column":4,"offset":5965},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":227,"column":1,"offset":5967},"end":{"line":227,"column":8,"offset":5974},"indent":[]}}],"position":{"start":{"line":227,"column":1,"offset":5967},"end":{"line":227,"column":8,"offset":5974},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"Harley Davidson","position":{"start":{"line":229,"column":1,"offset":5976},"end":{"line":231,"column":4,"offset":6001},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":233,"column":1,"offset":6003},"end":{"line":233,"column":22,"offset":6024},"indent":[]}},{"type":"inlineCode","value":"bind()","position":{"start":{"line":233,"column":22,"offset":6024},"end":{"line":233,"column":30,"offset":6032},"indent":[]}},{"type":"text","value":" method sets the ","position":{"start":{"line":233,"column":30,"offset":6032},"end":{"line":233,"column":47,"offset":6049},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":233,"column":47,"offset":6049},"end":{"line":233,"column":53,"offset":6055},"indent":[]}},{"type":"text","value":" to the ","position":{"start":{"line":233,"column":53,"offset":6055},"end":{"line":233,"column":61,"offset":6063},"indent":[]}},{"type":"inlineCode","value":"bike","position":{"start":{"line":233,"column":61,"offset":6063},"end":{"line":233,"column":67,"offset":6069},"indent":[]}},{"type":"text","value":" object, therefore, you see the value of the ","position":{"start":{"line":233,"column":67,"offset":6069},"end":{"line":233,"column":112,"offset":6114},"indent":[]}},{"type":"inlineCode","value":"brand","position":{"start":{"line":233,"column":112,"offset":6114},"end":{"line":233,"column":119,"offset":6121},"indent":[]}},{"type":"text","value":" property of the ","position":{"start":{"line":233,"column":119,"offset":6121},"end":{"line":233,"column":136,"offset":6138},"indent":[]}},{"type":"inlineCode","value":"bike","position":{"start":{"line":233,"column":136,"offset":6138},"end":{"line":233,"column":142,"offset":6144},"indent":[]}},{"type":"text","value":" object on the console.","position":{"start":{"line":233,"column":142,"offset":6144},"end":{"line":233,"column":165,"offset":6167},"indent":[]}}],"position":{"start":{"line":233,"column":1,"offset":6003},"end":{"line":233,"column":165,"offset":6167},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"3) Constructor invocation","position":{"start":{"line":235,"column":5,"offset":6173},"end":{"line":235,"column":30,"offset":6198},"indent":[]}}],"position":{"start":{"line":235,"column":1,"offset":6169},"end":{"line":235,"column":30,"offset":6198},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you use the ","position":{"start":{"line":237,"column":1,"offset":6200},"end":{"line":237,"column":18,"offset":6217},"indent":[]}},{"type":"inlineCode","value":"new","position":{"start":{"line":237,"column":18,"offset":6217},"end":{"line":237,"column":23,"offset":6222},"indent":[]}},{"type":"text","value":" keyword to create an instance of a function object, you use the function as a constructor.","position":{"start":{"line":237,"column":23,"offset":6222},"end":{"line":237,"column":114,"offset":6313},"indent":[]}}],"position":{"start":{"line":237,"column":1,"offset":6200},"end":{"line":237,"column":114,"offset":6313},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following example declares a ","position":{"start":{"line":239,"column":1,"offset":6315},"end":{"line":239,"column":34,"offset":6348},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":239,"column":34,"offset":6348},"end":{"line":239,"column":39,"offset":6353},"indent":[]}},{"type":"text","value":" function, then invokes it as a constructor:","position":{"start":{"line":239,"column":39,"offset":6353},"end":{"line":239,"column":83,"offset":6397},"indent":[]}}],"position":{"start":{"line":239,"column":1,"offset":6315},"end":{"line":239,"column":83,"offset":6397},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":241,"column":1,"offset":6399},"end":{"line":241,"column":4,"offset":6402},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    this.brand = brand;\n}\n\nCar.prototype.getBrand = function () {\n    return this.brand;\n}\n\nlet car = new Car('Honda');\nconsole.log(car.getBrand());Code language: JavaScript (javascript)","position":{"start":{"line":244,"column":1,"offset":6405},"end":{"line":257,"column":4,"offset":6625},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The expression ","position":{"start":{"line":259,"column":1,"offset":6627},"end":{"line":259,"column":16,"offset":6642},"indent":[]}},{"type":"inlineCode","value":"new Car('Honda')","position":{"start":{"line":259,"column":16,"offset":6642},"end":{"line":259,"column":34,"offset":6660},"indent":[]}},{"type":"text","value":" is a constructor invocation of the ","position":{"start":{"line":259,"column":34,"offset":6660},"end":{"line":259,"column":70,"offset":6696},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":259,"column":70,"offset":6696},"end":{"line":259,"column":75,"offset":6701},"indent":[]}},{"type":"text","value":" function.","position":{"start":{"line":259,"column":75,"offset":6701},"end":{"line":259,"column":85,"offset":6711},"indent":[]}}],"position":{"start":{"line":259,"column":1,"offset":6627},"end":{"line":259,"column":85,"offset":6711},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"JavaScript creates a new object and sets ","position":{"start":{"line":261,"column":1,"offset":6713},"end":{"line":261,"column":42,"offset":6754},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":261,"column":42,"offset":6754},"end":{"line":261,"column":48,"offset":6760},"indent":[]}},{"type":"text","value":" to the newly created object. This pattern works great with only one potential problem.","position":{"start":{"line":261,"column":48,"offset":6760},"end":{"line":261,"column":135,"offset":6847},"indent":[]}}],"position":{"start":{"line":261,"column":1,"offset":6713},"end":{"line":261,"column":135,"offset":6847},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now, you can invoke the ","position":{"start":{"line":263,"column":1,"offset":6849},"end":{"line":263,"column":25,"offset":6873},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":263,"column":25,"offset":6873},"end":{"line":263,"column":32,"offset":6880},"indent":[]}},{"type":"text","value":" as a function or as a constructor. If you omit the ","position":{"start":{"line":263,"column":32,"offset":6880},"end":{"line":263,"column":84,"offset":6932},"indent":[]}},{"type":"inlineCode","value":"new","position":{"start":{"line":263,"column":84,"offset":6932},"end":{"line":263,"column":89,"offset":6937},"indent":[]}},{"type":"text","value":" keyword as follows:","position":{"start":{"line":263,"column":89,"offset":6937},"end":{"line":263,"column":109,"offset":6957},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":6849},"end":{"line":263,"column":109,"offset":6957},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"var bmw = Car('BMW');\nconsole.log(bmw.brand);\n// => TypeError: Cannot read property 'brand' of undefinedCode language: JavaScript (javascript)","position":{"start":{"line":265,"column":1,"offset":6959},"end":{"line":269,"column":4,"offset":7111},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Since the ","position":{"start":{"line":271,"column":1,"offset":7113},"end":{"line":271,"column":11,"offset":7123},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":271,"column":11,"offset":7123},"end":{"line":271,"column":17,"offset":7129},"indent":[]}},{"type":"text","value":" value in the ","position":{"start":{"line":271,"column":17,"offset":7129},"end":{"line":271,"column":31,"offset":7143},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":271,"column":31,"offset":7143},"end":{"line":271,"column":38,"offset":7150},"indent":[]}},{"type":"text","value":" sets to the global object, the ","position":{"start":{"line":271,"column":38,"offset":7150},"end":{"line":271,"column":70,"offset":7182},"indent":[]}},{"type":"inlineCode","value":"bmw.brand","position":{"start":{"line":271,"column":70,"offset":7182},"end":{"line":271,"column":81,"offset":7193},"indent":[]}},{"type":"text","value":" returns ","position":{"start":{"line":271,"column":81,"offset":7193},"end":{"line":271,"column":90,"offset":7202},"indent":[]}},{"type":"inlineCode","value":"undefined","position":{"start":{"line":271,"column":90,"offset":7202},"end":{"line":271,"column":101,"offset":7213},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":271,"column":101,"offset":7213},"end":{"line":271,"column":102,"offset":7214},"indent":[]}}],"position":{"start":{"line":271,"column":1,"offset":7113},"end":{"line":271,"column":102,"offset":7214},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To make sure that the ","position":{"start":{"line":273,"column":1,"offset":7216},"end":{"line":273,"column":23,"offset":7238},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":273,"column":23,"offset":7238},"end":{"line":273,"column":30,"offset":7245},"indent":[]}},{"type":"text","value":" function is always invoked using constructor invocation, you add a check at the beginning of the ","position":{"start":{"line":273,"column":30,"offset":7245},"end":{"line":273,"column":128,"offset":7343},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":273,"column":128,"offset":7343},"end":{"line":273,"column":135,"offset":7350},"indent":[]}},{"type":"text","value":" function as follows:","position":{"start":{"line":273,"column":135,"offset":7350},"end":{"line":273,"column":156,"offset":7371},"indent":[]}}],"position":{"start":{"line":273,"column":1,"offset":7216},"end":{"line":273,"column":156,"offset":7371},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":275,"column":1,"offset":7373},"end":{"line":275,"column":4,"offset":7376},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    if (!(this instanceof Car)) {\n        throw Error('Must use the new operator to call the function');\n    }\n    this.brand = brand;\n}Code language: JavaScript (javascript)","position":{"start":{"line":278,"column":1,"offset":7379},"end":{"line":287,"column":4,"offset":7587},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"ES6 introduced a meta-property named ","position":{"start":{"line":289,"column":1,"offset":7589},"end":{"line":289,"column":38,"offset":7626},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/javascript-new-target/","children":[{"type":"inlineCode","value":"new.target","position":{"start":{"line":289,"column":39,"offset":7627},"end":{"line":289,"column":51,"offset":7639},"indent":[]}}],"position":{"start":{"line":289,"column":38,"offset":7626},"end":{"line":289,"column":115,"offset":7703},"indent":[]}},{"type":"text","value":" that allows you to detect whether a function is invoked as a simple invocation or as a constructor.","position":{"start":{"line":289,"column":115,"offset":7703},"end":{"line":289,"column":215,"offset":7803},"indent":[]}}],"position":{"start":{"line":289,"column":1,"offset":7589},"end":{"line":289,"column":215,"offset":7803},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can modify the ","position":{"start":{"line":291,"column":1,"offset":7805},"end":{"line":291,"column":20,"offset":7824},"indent":[]}},{"type":"inlineCode","value":"Car()","position":{"start":{"line":291,"column":20,"offset":7824},"end":{"line":291,"column":27,"offset":7831},"indent":[]}},{"type":"text","value":" function that uses the ","position":{"start":{"line":291,"column":27,"offset":7831},"end":{"line":291,"column":51,"offset":7855},"indent":[]}},{"type":"inlineCode","value":"new.target","position":{"start":{"line":291,"column":51,"offset":7855},"end":{"line":291,"column":63,"offset":7867},"indent":[]}},{"type":"text","value":" metaproperty as follows:","position":{"start":{"line":291,"column":63,"offset":7867},"end":{"line":291,"column":88,"offset":7892},"indent":[]}}],"position":{"start":{"line":291,"column":1,"offset":7805},"end":{"line":291,"column":88,"offset":7892},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":293,"column":1,"offset":7894},"end":{"line":293,"column":4,"offset":7897},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car(brand) {\n    if (!new.target) {\n        throw Error('Must use the new operator to call the function');\n    }\n    this.brand = brand;\n}Code language: JavaScript (javascript)","position":{"start":{"line":296,"column":1,"offset":7900},"end":{"line":305,"column":4,"offset":8097},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"4) Indirect Invocation","position":{"start":{"line":307,"column":5,"offset":8103},"end":{"line":307,"column":27,"offset":8125},"indent":[]}}],"position":{"start":{"line":307,"column":1,"offset":8099},"end":{"line":307,"column":27,"offset":8125},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In JavaScript, ","position":{"start":{"line":309,"column":1,"offset":8127},"end":{"line":309,"column":16,"offset":8142},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-functions-are-first-class-citizens/","children":[{"type":"text","value":"functions are first-class citizens","position":{"start":{"line":309,"column":17,"offset":8143},"end":{"line":309,"column":51,"offset":8177},"indent":[]}}],"position":{"start":{"line":309,"column":16,"offset":8142},"end":{"line":309,"column":135,"offset":8261},"indent":[]}},{"type":"text","value":". In other words, functions are objects, which are instances of the ","position":{"start":{"line":309,"column":135,"offset":8261},"end":{"line":309,"column":203,"offset":8329},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-function-type/","children":[{"type":"text","value":"Function type","position":{"start":{"line":309,"column":204,"offset":8330},"end":{"line":309,"column":217,"offset":8343},"indent":[]}}],"position":{"start":{"line":309,"column":203,"offset":8329},"end":{"line":309,"column":280,"offset":8406},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":309,"column":280,"offset":8406},"end":{"line":309,"column":281,"offset":8407},"indent":[]}}],"position":{"start":{"line":309,"column":1,"offset":8127},"end":{"line":309,"column":281,"offset":8407},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":311,"column":1,"offset":8409},"end":{"line":311,"column":5,"offset":8413},"indent":[]}},{"type":"inlineCode","value":"Function","position":{"start":{"line":311,"column":5,"offset":8413},"end":{"line":311,"column":15,"offset":8423},"indent":[]}},{"type":"text","value":" type has two methods: ","position":{"start":{"line":311,"column":15,"offset":8423},"end":{"line":311,"column":38,"offset":8446},"indent":[]}},{"type":"inlineCode","value":"[call()](https://www.javascripttutorial.net/javascript-call/)","position":{"start":{"line":311,"column":38,"offset":8446},"end":{"line":311,"column":101,"offset":8509},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":311,"column":101,"offset":8509},"end":{"line":311,"column":106,"offset":8514},"indent":[]}},{"type":"inlineCode","value":"[apply()](https://www.javascripttutorial.net/javascript-apply-method/)","position":{"start":{"line":311,"column":106,"offset":8514},"end":{"line":311,"column":178,"offset":8586},"indent":[]}},{"type":"text","value":" . These methods allow you to set the ","position":{"start":{"line":311,"column":178,"offset":8586},"end":{"line":311,"column":216,"offset":8624},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":311,"column":216,"offset":8624},"end":{"line":311,"column":222,"offset":8630},"indent":[]}},{"type":"text","value":" value when calling a function. For example:","position":{"start":{"line":311,"column":222,"offset":8630},"end":{"line":311,"column":266,"offset":8674},"indent":[]}}],"position":{"start":{"line":311,"column":1,"offset":8409},"end":{"line":311,"column":266,"offset":8674},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":313,"column":1,"offset":8676},"end":{"line":313,"column":4,"offset":8679},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function getBrand(prefix) {\n    console.log(prefix + this.brand);\n}\n\nlet honda = {\n    brand: 'Honda'\n};\nlet audi = {\n    brand: 'Audi'\n};\n\ngetBrand.call(honda, \"It's a \");\ngetBrand.call(audi, \"It's an \");Code language: JavaScript (javascript)","position":{"start":{"line":316,"column":1,"offset":8682},"end":{"line":332,"column":4,"offset":8937},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Output:","position":{"start":{"line":334,"column":1,"offset":8939},"end":{"line":334,"column":8,"offset":8946},"indent":[]}}],"position":{"start":{"line":334,"column":1,"offset":8939},"end":{"line":334,"column":8,"offset":8946},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"It's a Honda\nIt's an AudiCode language: PHP (php)","position":{"start":{"line":336,"column":1,"offset":8948},"end":{"line":339,"column":4,"offset":9007},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, we called the ","position":{"start":{"line":341,"column":1,"offset":9009},"end":{"line":341,"column":32,"offset":9040},"indent":[]}},{"type":"inlineCode","value":"getBrand()","position":{"start":{"line":341,"column":32,"offset":9040},"end":{"line":341,"column":44,"offset":9052},"indent":[]}},{"type":"text","value":" function indirectly using the ","position":{"start":{"line":341,"column":44,"offset":9052},"end":{"line":341,"column":75,"offset":9083},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":341,"column":75,"offset":9083},"end":{"line":341,"column":83,"offset":9091},"indent":[]}},{"type":"text","value":" method of the ","position":{"start":{"line":341,"column":83,"offset":9091},"end":{"line":341,"column":98,"offset":9106},"indent":[]}},{"type":"inlineCode","value":"getBrand","position":{"start":{"line":341,"column":98,"offset":9106},"end":{"line":341,"column":108,"offset":9116},"indent":[]}},{"type":"text","value":" function. We passed ","position":{"start":{"line":341,"column":108,"offset":9116},"end":{"line":341,"column":129,"offset":9137},"indent":[]}},{"type":"inlineCode","value":"honda","position":{"start":{"line":341,"column":129,"offset":9137},"end":{"line":341,"column":136,"offset":9144},"indent":[]}},{"type":"text","value":" and  ","position":{"start":{"line":341,"column":136,"offset":9144},"end":{"line":341,"column":142,"offset":9150},"indent":[]}},{"type":"inlineCode","value":"audi","position":{"start":{"line":341,"column":142,"offset":9150},"end":{"line":341,"column":148,"offset":9156},"indent":[]}},{"type":"text","value":" object as the first argument of the ","position":{"start":{"line":341,"column":148,"offset":9156},"end":{"line":341,"column":185,"offset":9193},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":341,"column":185,"offset":9193},"end":{"line":341,"column":193,"offset":9201},"indent":[]}},{"type":"text","value":" method, therefore, we got the corresponding brand in each call.","position":{"start":{"line":341,"column":193,"offset":9201},"end":{"line":341,"column":257,"offset":9265},"indent":[]}}],"position":{"start":{"line":341,"column":1,"offset":9009},"end":{"line":341,"column":257,"offset":9265},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":343,"column":1,"offset":9267},"end":{"line":343,"column":5,"offset":9271},"indent":[]}},{"type":"inlineCode","value":"apply()","position":{"start":{"line":343,"column":5,"offset":9271},"end":{"line":343,"column":14,"offset":9280},"indent":[]}},{"type":"text","value":" method is similar to the ","position":{"start":{"line":343,"column":14,"offset":9280},"end":{"line":343,"column":40,"offset":9306},"indent":[]}},{"type":"inlineCode","value":"call()","position":{"start":{"line":343,"column":40,"offset":9306},"end":{"line":343,"column":48,"offset":9314},"indent":[]}},{"type":"text","value":" method except that its second argument is an array of arguments.","position":{"start":{"line":343,"column":48,"offset":9314},"end":{"line":343,"column":113,"offset":9379},"indent":[]}}],"position":{"start":{"line":343,"column":1,"offset":9267},"end":{"line":343,"column":113,"offset":9379},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"getBrand.apply(honda, [\"It's a \"]); // \"It's a Honda\"\ngetBrand.apply(audi, [\"It's an \"]); // \"It's a Audi\"Code language: JavaScript (javascript)","position":{"start":{"line":345,"column":1,"offset":9381},"end":{"line":348,"column":4,"offset":9535},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Arrow functions","position":{"start":{"line":350,"column":4,"offset":9540},"end":{"line":350,"column":19,"offset":9555},"indent":[]}}],"position":{"start":{"line":350,"column":1,"offset":9537},"end":{"line":350,"column":19,"offset":9555},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/","children":[{"type":"text","value":"ES6","position":{"start":{"line":352,"column":2,"offset":9558},"end":{"line":352,"column":5,"offset":9561},"indent":[]}}],"position":{"start":{"line":352,"column":1,"offset":9557},"end":{"line":352,"column":47,"offset":9603},"indent":[]}},{"type":"text","value":" introduced a new concept named ","position":{"start":{"line":352,"column":47,"offset":9603},"end":{"line":352,"column":79,"offset":9635},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/es6/javascript-arrow-function/","children":[{"type":"text","value":"arrow function","position":{"start":{"line":352,"column":80,"offset":9636},"end":{"line":352,"column":94,"offset":9650},"indent":[]}}],"position":{"start":{"line":352,"column":79,"offset":9635},"end":{"line":352,"column":162,"offset":9718},"indent":[]}},{"type":"text","value":". In arrow functions, JavaScript sets the ","position":{"start":{"line":352,"column":162,"offset":9718},"end":{"line":352,"column":204,"offset":9760},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":352,"column":204,"offset":9760},"end":{"line":352,"column":210,"offset":9766},"indent":[]}},{"type":"text","value":" lexically.","position":{"start":{"line":352,"column":210,"offset":9766},"end":{"line":352,"column":221,"offset":9777},"indent":[]}}],"position":{"start":{"line":352,"column":1,"offset":9557},"end":{"line":352,"column":221,"offset":9777},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It means the arrow function does not create its own ","position":{"start":{"line":354,"column":1,"offset":9779},"end":{"line":354,"column":53,"offset":9831},"indent":[]}},{"type":"link","title":null,"url":"https://www.javascripttutorial.net/javascript-execution-context/","children":[{"type":"text","value":"execution context","position":{"start":{"line":354,"column":54,"offset":9832},"end":{"line":354,"column":71,"offset":9849},"indent":[]}}],"position":{"start":{"line":354,"column":53,"offset":9831},"end":{"line":354,"column":138,"offset":9916},"indent":[]}},{"type":"text","value":" but inherits the ","position":{"start":{"line":354,"column":138,"offset":9916},"end":{"line":354,"column":156,"offset":9934},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":354,"column":156,"offset":9934},"end":{"line":354,"column":162,"offset":9940},"indent":[]}},{"type":"text","value":" from the outer function where the arrow function is defined. See the following example:","position":{"start":{"line":354,"column":162,"offset":9940},"end":{"line":354,"column":250,"offset":10028},"indent":[]}}],"position":{"start":{"line":354,"column":1,"offset":9779},"end":{"line":354,"column":250,"offset":10028},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"let getThis = () => this;\nconsole.log(getThis() === window); // trueCode language: JavaScript (javascript)","position":{"start":{"line":356,"column":1,"offset":10030},"end":{"line":359,"column":4,"offset":10146},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this example, the ","position":{"start":{"line":361,"column":1,"offset":10148},"end":{"line":361,"column":22,"offset":10169},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":361,"column":22,"offset":10169},"end":{"line":361,"column":28,"offset":10175},"indent":[]}},{"type":"text","value":" value is set to the global object i.e., ","position":{"start":{"line":361,"column":28,"offset":10175},"end":{"line":361,"column":69,"offset":10216},"indent":[]}},{"type":"inlineCode","value":"window","position":{"start":{"line":361,"column":69,"offset":10216},"end":{"line":361,"column":77,"offset":10224},"indent":[]}},{"type":"text","value":" in the web browser.","position":{"start":{"line":361,"column":77,"offset":10224},"end":{"line":361,"column":97,"offset":10244},"indent":[]}}],"position":{"start":{"line":361,"column":1,"offset":10148},"end":{"line":361,"column":97,"offset":10244},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Since an arrow function does not create its own execution context, defining a method using an arrow function will cause an issue. For example:","position":{"start":{"line":363,"column":1,"offset":10246},"end":{"line":363,"column":143,"offset":10388},"indent":[]}}],"position":{"start":{"line":363,"column":1,"offset":10246},"end":{"line":363,"column":143,"offset":10388},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":365,"column":1,"offset":10390},"end":{"line":365,"column":4,"offset":10393},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"function Car() {\n    this.speed = 120;\n}\n\nCar.prototype.getSpeed = () => {\n    return this.speed;\n}\n\nvar car = new Car();\ncar.getSpeed(); // TypeErrorCode language: JavaScript (javascript)","position":{"start":{"line":368,"column":1,"offset":10396},"end":{"line":381,"column":4,"offset":10596},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Inside the ","position":{"start":{"line":383,"column":1,"offset":10598},"end":{"line":383,"column":12,"offset":10609},"indent":[]}},{"type":"inlineCode","value":"getSpeed()","position":{"start":{"line":383,"column":12,"offset":10609},"end":{"line":383,"column":24,"offset":10621},"indent":[]}},{"type":"text","value":" method, the ","position":{"start":{"line":383,"column":24,"offset":10621},"end":{"line":383,"column":37,"offset":10634},"indent":[]}},{"type":"inlineCode","value":"this","position":{"start":{"line":383,"column":37,"offset":10634},"end":{"line":383,"column":43,"offset":10640},"indent":[]}},{"type":"text","value":" value reference the global object, not the ","position":{"start":{"line":383,"column":43,"offset":10640},"end":{"line":383,"column":87,"offset":10684},"indent":[]}},{"type":"inlineCode","value":"Car","position":{"start":{"line":383,"column":87,"offset":10684},"end":{"line":383,"column":92,"offset":10689},"indent":[]}},{"type":"text","value":" object. Therefore the ","position":{"start":{"line":383,"column":92,"offset":10689},"end":{"line":383,"column":115,"offset":10712},"indent":[]}},{"type":"inlineCode","value":"car.getSpeed()","position":{"start":{"line":383,"column":115,"offset":10712},"end":{"line":383,"column":131,"offset":10728},"indent":[]}},{"type":"text","value":" invocation causes an error because the global object does not have the ","position":{"start":{"line":383,"column":131,"offset":10728},"end":{"line":383,"column":203,"offset":10800},"indent":[]}},{"type":"inlineCode","value":"speed","position":{"start":{"line":383,"column":203,"offset":10800},"end":{"line":383,"column":210,"offset":10807},"indent":[]}},{"type":"text","value":" property.","position":{"start":{"line":383,"column":210,"offset":10807},"end":{"line":383,"column":220,"offset":10817},"indent":[]}}],"position":{"start":{"line":383,"column":1,"offset":10598},"end":{"line":383,"column":220,"offset":10817},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":384,"column":1,"offset":10818}}}}