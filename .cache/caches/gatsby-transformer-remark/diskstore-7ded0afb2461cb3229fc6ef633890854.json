{"expireTime":9007200904342770000,"key":"transformer-remark-markdown-html-ast-2674ae3f991c640448d879c3cb0af160--","val":{"type":"root","children":[{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":2,"column":5,"offset":5},"end":{"line":2,"column":13,"offset":13}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":13,"offset":13}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"REST"}],"position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":7,"offset":21}}},{"type":"text","value":" is a generally agreed-upon set of principles and constraints. They are ","position":{"start":{"line":4,"column":7,"offset":21},"end":{"line":4,"column":79,"offset":93}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"recommendations","position":{"start":{"line":4,"column":81,"offset":95},"end":{"line":4,"column":96,"offset":110}}}],"position":{"start":{"line":4,"column":79,"offset":93},"end":{"line":4,"column":98,"offset":112}}},{"type":"text","value":", not a standard.","position":{"start":{"line":4,"column":98,"offset":112},"end":{"line":4,"column":115,"offset":129}}}],"position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":115,"offset":129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"// inside /api/apiRoutes.js <- this can be place anywhere and called anything\nconst express = require('express');\n\n// if the other routers are not nested inside /api then the paths would change\nconst userRoutes = require('./users/userRoutes');\nconst productRoutes = require('./products/productRoutes');\nconst clientRoutes = require('./clients/clientRoutes');\n\nconst router = express.Router(); // notice the Uppercase R\n\n// this file will only be used when the route begins with \"/api\"\n// so we can remove that from the URLs, so \"/api/users\" becomes simply \"/users\"\nrouter.use('/users', userRoutes);\nrouter.use('/products', productRoutes);\nrouter.use('/clients', clientRoutes);\n\n// .. and any other endpoint related to the user's resource\n\n// after the route has been fully configured, we then export it so it can be required where needed\nmodule.exports = router; // standard convention dictates that this is the last line on the file\n"}],"position":{"start":{"line":6,"column":1,"offset":131},"end":{"line":25,"column":100,"offset":1124}}}],"position":{"start":{"line":6,"column":1,"offset":131},"end":{"line":25,"column":100,"offset":1124}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Objective 1 — explain the role of a foreign key","position":{"start":{"line":27,"column":1,"offset":1126},"end":{"line":27,"column":170,"offset":1295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":29,"column":5,"offset":1301},"end":{"line":29,"column":13,"offset":1309}}}],"position":{"start":{"line":29,"column":1,"offset":1297},"end":{"line":29,"column":13,"offset":1309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Foreign keys","position":{"start":{"line":31,"column":3,"offset":1313},"end":{"line":31,"column":15,"offset":1325}}}],"position":{"start":{"line":31,"column":1,"offset":1311},"end":{"line":31,"column":17,"offset":1327}}},{"type":"text","value":" are a type of table field used for creating links between tables. Like ","position":{"start":{"line":31,"column":17,"offset":1327},"end":{"line":31,"column":89,"offset":1399}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary keys","position":{"start":{"line":31,"column":91,"offset":1401},"end":{"line":31,"column":103,"offset":1413}}}],"position":{"start":{"line":31,"column":89,"offset":1399},"end":{"line":31,"column":105,"offset":1415}}},{"type":"text","value":", they are most often integers that identify (rather than store) data. However, whereas a primary key is used to id rows in a table, foreign keys are used to connect a record in one table to a record in a second table.","position":{"start":{"line":31,"column":105,"offset":1415},"end":{"line":31,"column":323,"offset":1633}}}],"position":{"start":{"line":31,"column":1,"offset":1311},"end":{"line":31,"column":323,"offset":1633}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":33,"column":5,"offset":1639},"end":{"line":33,"column":17,"offset":1651}}}],"position":{"start":{"line":33,"column":1,"offset":1635},"end":{"line":33,"column":17,"offset":1651}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider the following ","position":{"start":{"line":35,"column":1,"offset":1653},"end":{"line":35,"column":24,"offset":1676}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":35,"column":24,"offset":1676},"end":{"line":35,"column":31,"offset":1683}}},{"type":"text","value":" and ","position":{"start":{"line":35,"column":31,"offset":1683},"end":{"line":35,"column":36,"offset":1688}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":35,"column":36,"offset":1688},"end":{"line":35,"column":46,"offset":1698}}},{"type":"text","value":" tables.","position":{"start":{"line":35,"column":46,"offset":1698},"end":{"line":35,"column":54,"offset":1706}}}],"position":{"start":{"line":35,"column":1,"offset":1653},"end":{"line":35,"column":54,"offset":1706}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/b88ebcd8fa3a4fa3a36cf99c939f6067\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":37,"column":1,"offset":1708},"end":{"line":37,"column":106,"offset":1813}}},{"type":"text","value":"Untitled","position":{"start":{"line":37,"column":106,"offset":1813},"end":{"line":37,"column":114,"offset":1821}}},{"type":"raw","value":"</a>","position":{"start":{"line":37,"column":114,"offset":1821},"end":{"line":37,"column":118,"offset":1825}}}],"position":{"start":{"line":37,"column":1,"offset":1708},"end":{"line":37,"column":118,"offset":1825}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/a4ccaec69c484ce0bcd03d2e8a83e489\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":39,"column":1,"offset":1827},"end":{"line":39,"column":106,"offset":1932}}},{"type":"text","value":"Untitled","position":{"start":{"line":39,"column":106,"offset":1932},"end":{"line":39,"column":114,"offset":1940}}},{"type":"raw","value":"</a>","position":{"start":{"line":39,"column":114,"offset":1940},"end":{"line":39,"column":118,"offset":1944}}}],"position":{"start":{"line":39,"column":1,"offset":1827},"end":{"line":39,"column":118,"offset":1944}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":41,"column":1,"offset":1946},"end":{"line":41,"column":5,"offset":1950}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":41,"column":5,"offset":1950},"end":{"line":41,"column":14,"offset":1959}}},{"type":"text","value":" in the ","position":{"start":{"line":41,"column":14,"offset":1959},"end":{"line":41,"column":22,"offset":1967}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":41,"column":22,"offset":1967},"end":{"line":41,"column":32,"offset":1977}}},{"type":"text","value":" table is an example of a ","position":{"start":{"line":41,"column":32,"offset":1977},"end":{"line":41,"column":58,"offset":2003}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foreign key"}],"position":{"start":{"line":41,"column":58,"offset":2003},"end":{"line":41,"column":71,"offset":2016}}},{"type":"text","value":". Each entry in the ","position":{"start":{"line":41,"column":71,"offset":2016},"end":{"line":41,"column":91,"offset":2036}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":41,"column":91,"offset":2036},"end":{"line":41,"column":100,"offset":2045}}},{"type":"text","value":" (foreign key) column corresponds to an ","position":{"start":{"line":41,"column":100,"offset":2045},"end":{"line":41,"column":140,"offset":2085}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":41,"column":140,"offset":2085},"end":{"line":41,"column":144,"offset":2089}}},{"type":"text","value":" (primary key) in the ","position":{"start":{"line":41,"column":144,"offset":2089},"end":{"line":41,"column":166,"offset":2111}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":41,"column":166,"offset":2111},"end":{"line":41,"column":173,"offset":2118}}},{"type":"text","value":" table. This allows us to track which farm each rancher belongs to while keeping the tables normalized.","position":{"start":{"line":41,"column":173,"offset":2118},"end":{"line":41,"column":276,"offset":2221}}}],"position":{"start":{"line":41,"column":1,"offset":1946},"end":{"line":41,"column":276,"offset":2221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we could only see the ","position":{"start":{"line":43,"column":1,"offset":2223},"end":{"line":43,"column":26,"offset":2248}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":43,"column":26,"offset":2248},"end":{"line":43,"column":36,"offset":2258}}},{"type":"text","value":" table, we would know that John, Jane, and Jen all work together and that Jim and Jay also work together. However, to know where any of them work, we would need to look at the ","position":{"start":{"line":43,"column":36,"offset":2258},"end":{"line":43,"column":212,"offset":2434}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":43,"column":212,"offset":2434},"end":{"line":43,"column":219,"offset":2441}}},{"type":"text","value":" table.","position":{"start":{"line":43,"column":219,"offset":2441},"end":{"line":43,"column":226,"offset":2448}}}],"position":{"start":{"line":43,"column":1,"offset":2223},"end":{"line":43,"column":226,"offset":2448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Challenge","position":{"start":{"line":45,"column":5,"offset":2454},"end":{"line":45,"column":14,"offset":2463}}}],"position":{"start":{"line":45,"column":1,"offset":2450},"end":{"line":45,"column":14,"offset":2463}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Open ","position":{"start":{"line":47,"column":1,"offset":2465},"end":{"line":47,"column":6,"offset":2470}}},{"type":"raw","value":"<a href=\"https://www.w3schools.com/sql/trysql.asp?filename=trysql_op_in\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":47,"column":6,"offset":2470},"end":{"line":47,"column":119,"offset":2583}}},{"type":"text","value":"SQLTryIT (Links to an external site.)","position":{"start":{"line":47,"column":119,"offset":2583},"end":{"line":47,"column":156,"offset":2620}}},{"type":"raw","value":"</a>","position":{"start":{"line":47,"column":156,"offset":2620},"end":{"line":47,"column":160,"offset":2624}}},{"type":"text","value":".","position":{"start":{"line":47,"column":160,"offset":2624},"end":{"line":47,"column":161,"offset":2625}}}],"position":{"start":{"line":47,"column":1,"offset":2465},"end":{"line":47,"column":161,"offset":2625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"How many records in the products table belong to the category \"confections\"?","position":{"start":{"line":49,"column":1,"offset":2627},"end":{"line":49,"column":77,"offset":2703}}}],"position":{"start":{"line":49,"column":1,"offset":2627},"end":{"line":49,"column":77,"offset":2703}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Objective 2 — query data from multiple tables","position":{"start":{"line":51,"column":5,"offset":2709},"end":{"line":51,"column":50,"offset":2754}}}],"position":{"start":{"line":51,"column":1,"offset":2705},"end":{"line":51,"column":50,"offset":2754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we understand the basics of querying data from a single table, let's move on to selecting data from multiple tables using JOIN operations.","position":{"start":{"line":53,"column":1,"offset":2756},"end":{"line":53,"column":148,"offset":2903}}}],"position":{"start":{"line":53,"column":1,"offset":2756},"end":{"line":53,"column":148,"offset":2903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":55,"column":5,"offset":2909},"end":{"line":55,"column":13,"offset":2917}}}],"position":{"start":{"line":55,"column":1,"offset":2905},"end":{"line":55,"column":13,"offset":2917}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can use a ","position":{"start":{"line":57,"column":1,"offset":2919},"end":{"line":57,"column":14,"offset":2932}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JOIN"}],"position":{"start":{"line":57,"column":14,"offset":2932},"end":{"line":57,"column":20,"offset":2938}}},{"type":"text","value":" to combine query data from multiple tables using a single ","position":{"start":{"line":57,"column":20,"offset":2938},"end":{"line":57,"column":79,"offset":2997}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":57,"column":79,"offset":2997},"end":{"line":57,"column":87,"offset":3005}}},{"type":"text","value":" statement.","position":{"start":{"line":57,"column":87,"offset":3005},"end":{"line":57,"column":98,"offset":3016}}}],"position":{"start":{"line":57,"column":1,"offset":2919},"end":{"line":57,"column":98,"offset":3016}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are different types of joins; some are listed below:","position":{"start":{"line":59,"column":1,"offset":3018},"end":{"line":59,"column":59,"offset":3076}}}],"position":{"start":{"line":59,"column":1,"offset":3018},"end":{"line":59,"column":59,"offset":3076}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"9c7e\">","position":{"start":{"line":61,"column":3,"offset":3080},"end":{"line":61,"column":19,"offset":3096}}},{"type":"text","value":"inner joins.","position":{"start":{"line":61,"column":19,"offset":3096},"end":{"line":61,"column":31,"offset":3108}}},{"type":"raw","value":"</span>","position":{"start":{"line":61,"column":31,"offset":3108},"end":{"line":61,"column":38,"offset":3115}}}],"position":{"start":{"line":61,"column":1,"offset":3078},"end":{"line":61,"column":38,"offset":3115}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7cd3\">","position":{"start":{"line":62,"column":3,"offset":3118},"end":{"line":62,"column":19,"offset":3134}}},{"type":"text","value":"outer joins.","position":{"start":{"line":62,"column":19,"offset":3134},"end":{"line":62,"column":31,"offset":3146}}},{"type":"raw","value":"</span>","position":{"start":{"line":62,"column":31,"offset":3146},"end":{"line":62,"column":38,"offset":3153}}}],"position":{"start":{"line":62,"column":1,"offset":3116},"end":{"line":62,"column":38,"offset":3153}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"96e6\">","position":{"start":{"line":63,"column":3,"offset":3156},"end":{"line":63,"column":19,"offset":3172}}},{"type":"text","value":"left joins.","position":{"start":{"line":63,"column":19,"offset":3172},"end":{"line":63,"column":30,"offset":3183}}},{"type":"raw","value":"</span>","position":{"start":{"line":63,"column":30,"offset":3183},"end":{"line":63,"column":37,"offset":3190}}}],"position":{"start":{"line":63,"column":1,"offset":3154},"end":{"line":63,"column":37,"offset":3190}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0e55\">","position":{"start":{"line":64,"column":3,"offset":3193},"end":{"line":64,"column":19,"offset":3209}}},{"type":"text","value":"right joins.","position":{"start":{"line":64,"column":19,"offset":3209},"end":{"line":64,"column":31,"offset":3221}}},{"type":"raw","value":"</span>","position":{"start":{"line":64,"column":31,"offset":3221},"end":{"line":64,"column":38,"offset":3228}}}],"position":{"start":{"line":64,"column":1,"offset":3191},"end":{"line":64,"column":38,"offset":3228}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d582\">","position":{"start":{"line":65,"column":3,"offset":3231},"end":{"line":65,"column":19,"offset":3247}}},{"type":"text","value":"cross joins.","position":{"start":{"line":65,"column":19,"offset":3247},"end":{"line":65,"column":31,"offset":3259}}},{"type":"raw","value":"</span>","position":{"start":{"line":65,"column":31,"offset":3259},"end":{"line":65,"column":38,"offset":3266}}}],"position":{"start":{"line":65,"column":1,"offset":3229},"end":{"line":65,"column":38,"offset":3266}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6716\">","position":{"start":{"line":66,"column":3,"offset":3269},"end":{"line":66,"column":19,"offset":3285}}},{"type":"text","value":"non-equality joins.","position":{"start":{"line":66,"column":19,"offset":3285},"end":{"line":66,"column":38,"offset":3304}}},{"type":"raw","value":"</span>","position":{"start":{"line":66,"column":38,"offset":3304},"end":{"line":66,"column":45,"offset":3311}}}],"position":{"start":{"line":66,"column":1,"offset":3267},"end":{"line":66,"column":45,"offset":3311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b7f0\">","position":{"start":{"line":67,"column":3,"offset":3314},"end":{"line":67,"column":19,"offset":3330}}},{"type":"text","value":"self joins.","position":{"start":{"line":67,"column":19,"offset":3330},"end":{"line":67,"column":30,"offset":3341}}},{"type":"raw","value":"</span>","position":{"start":{"line":67,"column":30,"offset":3341},"end":{"line":67,"column":37,"offset":3348}}}],"position":{"start":{"line":67,"column":1,"offset":3312},"end":{"line":67,"column":37,"offset":3348}}},{"type":"text","value":"\n"}],"position":{"start":{"line":61,"column":1,"offset":3078},"end":{"line":67,"column":37,"offset":3348}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using ","position":{"start":{"line":69,"column":1,"offset":3350},"end":{"line":69,"column":7,"offset":3356}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"joins"}],"position":{"start":{"line":69,"column":7,"offset":3356},"end":{"line":69,"column":14,"offset":3363}}},{"type":"text","value":" requires that the two tables of interest contain at least one field with shared information. For example, if a ","position":{"start":{"line":69,"column":14,"offset":3363},"end":{"line":69,"column":126,"offset":3475}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":69,"column":127,"offset":3476},"end":{"line":69,"column":138,"offset":3487}}}],"position":{"start":{"line":69,"column":126,"offset":3475},"end":{"line":69,"column":139,"offset":3488}}},{"type":"text","value":" table has an ","position":{"start":{"line":69,"column":139,"offset":3488},"end":{"line":69,"column":153,"offset":3502}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":69,"column":154,"offset":3503},"end":{"line":69,"column":156,"offset":3505}}}],"position":{"start":{"line":69,"column":153,"offset":3502},"end":{"line":69,"column":157,"offset":3506}}},{"type":"text","value":" field, and an employee table has a ","position":{"start":{"line":69,"column":157,"offset":3506},"end":{"line":69,"column":193,"offset":3542}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":69,"column":194,"offset":3543},"end":{"line":69,"column":204,"offset":3553}}}],"position":{"start":{"line":69,"column":193,"offset":3542},"end":{"line":69,"column":205,"offset":3554}}},{"type":"text","value":"id_ field, and the values that exist in the ","position":{"start":{"line":69,"column":205,"offset":3554},"end":{"line":69,"column":249,"offset":3598}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":69,"column":250,"offset":3599},"end":{"line":69,"column":252,"offset":3601}}}],"position":{"start":{"line":69,"column":249,"offset":3598},"end":{"line":69,"column":253,"offset":3602}}},{"type":"text","value":" column of the ","position":{"start":{"line":69,"column":253,"offset":3602},"end":{"line":69,"column":268,"offset":3617}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":69,"column":269,"offset":3618},"end":{"line":69,"column":280,"offset":3629}}}],"position":{"start":{"line":69,"column":268,"offset":3617},"end":{"line":69,"column":281,"offset":3630}}},{"type":"text","value":" table live in the ","position":{"start":{"line":69,"column":281,"offset":3630},"end":{"line":69,"column":300,"offset":3649}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":69,"column":301,"offset":3650},"end":{"line":69,"column":311,"offset":3660}}}],"position":{"start":{"line":69,"column":300,"offset":3649},"end":{"line":69,"column":312,"offset":3661}}},{"type":"text","value":"id_ field of the employee table, we can use those fields to join both tables like so:","position":{"start":{"line":69,"column":312,"offset":3661},"end":{"line":69,"column":397,"offset":3746}}}],"position":{"start":{"line":69,"column":1,"offset":3350},"end":{"line":69,"column":397,"offset":3746}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees\njoin departments on employees.department_id = departments.id\n"}],"position":{"start":{"line":71,"column":1,"offset":3748},"end":{"line":72,"column":65,"offset":3840}}}],"position":{"start":{"line":71,"column":1,"offset":3748},"end":{"line":72,"column":65,"offset":3840}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This query will return the data from both tables for every instance where the ","position":{"start":{"line":74,"column":1,"offset":3842},"end":{"line":74,"column":79,"offset":3920}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ON"}],"position":{"start":{"line":74,"column":79,"offset":3920},"end":{"line":74,"column":83,"offset":3924}}},{"type":"text","value":" condition is true. If there are employees with no value for department","position":{"start":{"line":74,"column":83,"offset":3924},"end":{"line":74,"column":154,"offset":3995}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id or where the value stored in the field does not correspond to an existing id in the","position":{"start":{"line":74,"column":155,"offset":3996},"end":{"line":74,"column":241,"offset":4082}}}],"position":{"start":{"line":74,"column":154,"offset":3995},"end":{"line":74,"column":242,"offset":4083}}},{"type":"text","value":" departments ","position":{"start":{"line":74,"column":242,"offset":4083},"end":{"line":74,"column":255,"offset":4096}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table, then that record will NOT be returned. In a similar fashion, any records from the","position":{"start":{"line":74,"column":256,"offset":4097},"end":{"line":74,"column":344,"offset":4185}}}],"position":{"start":{"line":74,"column":255,"offset":4096},"end":{"line":74,"column":345,"offset":4186}}},{"type":"text","value":" departments ","position":{"start":{"line":74,"column":345,"offset":4186},"end":{"line":74,"column":358,"offset":4199}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table that don't have an employee associated with them will also be omitted from the results. Basically, if the","position":{"start":{"line":74,"column":359,"offset":4200},"end":{"line":74,"column":470,"offset":4311}}}],"position":{"start":{"line":74,"column":358,"offset":4199},"end":{"line":74,"column":471,"offset":4312}}},{"type":"text","value":" id","position":{"start":{"line":74,"column":471,"offset":4312},"end":{"line":74,"column":474,"offset":4315}}},{"type":"text","value":"*","position":{"start":{"line":74,"column":474,"offset":4315},"end":{"line":74,"column":476,"offset":4317}}},{"type":"text","value":" does not show as the value of department_id for an employee, it won't be able to join.","position":{"start":{"line":74,"column":476,"offset":4317},"end":{"line":74,"column":563,"offset":4404}}}],"position":{"start":{"line":74,"column":1,"offset":3842},"end":{"line":74,"column":563,"offset":4404}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can shorten the condition by giving the table names an alias. This is a common practice. Below is the same example using aliases, picking which fields to return and sorting the results:","position":{"start":{"line":76,"column":1,"offset":4406},"end":{"line":76,"column":189,"offset":4594}}}],"position":{"start":{"line":76,"column":1,"offset":4406},"end":{"line":76,"column":189,"offset":4594}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select d.id, d.name, e.id, e.first_name, e.last_name, e.salary\nfrom employees as e\njoin departments as d\n  on e.department_id = d.id\norder by d.name, e.last_name\n"}],"position":{"start":{"line":78,"column":1,"offset":4596},"end":{"line":82,"column":33,"offset":4777}}}],"position":{"start":{"line":78,"column":1,"offset":4596},"end":{"line":82,"column":33,"offset":4777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that we can take advantage of white space and indentation to make queries more readable.","position":{"start":{"line":84,"column":1,"offset":4779},"end":{"line":84,"column":96,"offset":4874}}}],"position":{"start":{"line":84,"column":1,"offset":4779},"end":{"line":84,"column":96,"offset":4874}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are several ways of writing joins, but the one shown here should work on all database management systems and avoid some pitfalls, so we recommend it.","position":{"start":{"line":86,"column":1,"offset":4876},"end":{"line":86,"column":156,"offset":5031}}}],"position":{"start":{"line":86,"column":1,"offset":4876},"end":{"line":86,"column":156,"offset":5031}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for performing a similar join using Knex is as follows:","position":{"start":{"line":88,"column":1,"offset":5033},"end":{"line":88,"column":67,"offset":5099}}}],"position":{"start":{"line":88,"column":1,"offset":5033},"end":{"line":88,"column":67,"offset":5099}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('employees as e')\n  .join('departments as d', 'e.department_id', 'd.id')\n  .select('d.id', 'd.name', 'e.first_name', 'e.last_name', 'e.salary')\n"}],"position":{"start":{"line":90,"column":1,"offset":5101},"end":{"line":92,"column":75,"offset":5259}}}],"position":{"start":{"line":90,"column":1,"offset":5101},"end":{"line":92,"column":75,"offset":5259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":94,"column":5,"offset":5265},"end":{"line":94,"column":17,"offset":5277}}}],"position":{"start":{"line":94,"column":1,"offset":5261},"end":{"line":94,"column":17,"offset":5277}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good explanation of how the different types of joins can be seen ","position":{"start":{"line":96,"column":1,"offset":5279},"end":{"line":96,"column":68,"offset":5346}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/sql-joins.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":96,"column":68,"offset":5346},"end":{"line":96,"column":169,"offset":5447}}},{"type":"text","value":"in this article from w3resource.com (Links to an external site.)","position":{"start":{"line":96,"column":169,"offset":5447},"end":{"line":96,"column":233,"offset":5511}}},{"type":"raw","value":"</a>","position":{"start":{"line":96,"column":233,"offset":5511},"end":{"line":96,"column":237,"offset":5515}}},{"type":"text","value":".","position":{"start":{"line":96,"column":237,"offset":5515},"end":{"line":96,"column":238,"offset":5516}}}],"position":{"start":{"line":96,"column":1,"offset":5279},"end":{"line":96,"column":238,"offset":5516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Challenge","position":{"start":{"line":98,"column":5,"offset":5522},"end":{"line":98,"column":14,"offset":5531}}}],"position":{"start":{"line":98,"column":1,"offset":5518},"end":{"line":98,"column":14,"offset":5531}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use ","position":{"start":{"line":100,"column":1,"offset":5533},"end":{"line":100,"column":5,"offset":5537}}},{"type":"raw","value":"<a href=\"https://www.w3schools.com/Sql/tryit.asp?filename=trysql_select_top\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":100,"column":5,"offset":5537},"end":{"line":100,"column":122,"offset":5654}}},{"type":"text","value":"this online tool (Links to an external site.)","position":{"start":{"line":100,"column":122,"offset":5654},"end":{"line":100,"column":167,"offset":5699}}},{"type":"raw","value":"</a>","position":{"start":{"line":100,"column":167,"offset":5699},"end":{"line":100,"column":171,"offset":5703}}},{"type":"text","value":" to write the following queries:","position":{"start":{"line":100,"column":171,"offset":5703},"end":{"line":100,"column":203,"offset":5735}}}],"position":{"start":{"line":100,"column":1,"offset":5533},"end":{"line":100,"column":203,"offset":5735}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"9ccf\">","position":{"start":{"line":102,"column":3,"offset":5739},"end":{"line":102,"column":19,"offset":5755}}},{"type":"text","value":"list the products, including their category name.","position":{"start":{"line":102,"column":19,"offset":5755},"end":{"line":102,"column":68,"offset":5804}}},{"type":"raw","value":"</span>","position":{"start":{"line":102,"column":68,"offset":5804},"end":{"line":102,"column":75,"offset":5811}}}],"position":{"start":{"line":102,"column":1,"offset":5737},"end":{"line":102,"column":75,"offset":5811}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b07f\">","position":{"start":{"line":103,"column":3,"offset":5814},"end":{"line":103,"column":19,"offset":5830}}},{"type":"text","value":"list the products, including the supplier name.","position":{"start":{"line":103,"column":19,"offset":5830},"end":{"line":103,"column":66,"offset":5877}}},{"type":"raw","value":"</span>","position":{"start":{"line":103,"column":66,"offset":5877},"end":{"line":103,"column":73,"offset":5884}}}],"position":{"start":{"line":103,"column":1,"offset":5812},"end":{"line":103,"column":73,"offset":5884}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7b08\">","position":{"start":{"line":104,"column":3,"offset":5887},"end":{"line":104,"column":19,"offset":5903}}},{"type":"text","value":"list the products, including both the category name and supplier name.","position":{"start":{"line":104,"column":19,"offset":5903},"end":{"line":104,"column":89,"offset":5973}}},{"type":"raw","value":"</span>","position":{"start":{"line":104,"column":89,"offset":5973},"end":{"line":104,"column":96,"offset":5980}}}],"position":{"start":{"line":104,"column":1,"offset":5885},"end":{"line":104,"column":96,"offset":5980}}},{"type":"text","value":"\n"}],"position":{"start":{"line":102,"column":1,"offset":5737},"end":{"line":104,"column":96,"offset":5980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQL Joins?","position":{"start":{"line":106,"column":5,"offset":5986},"end":{"line":106,"column":23,"offset":6004}}}],"position":{"start":{"line":106,"column":1,"offset":5982},"end":{"line":106,"column":23,"offset":6004}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An SQL JOIN clause combines rows from two or more tables. It creates a set of rows in a temporary table.","position":{"start":{"line":108,"column":1,"offset":6006},"end":{"line":108,"column":105,"offset":6110}}}],"position":{"start":{"line":108,"column":1,"offset":6006},"end":{"line":108,"column":105,"offset":6110}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How to Join two tables in SQL?","position":{"start":{"line":110,"column":5,"offset":6116},"end":{"line":110,"column":35,"offset":6146}}}],"position":{"start":{"line":110,"column":1,"offset":6112},"end":{"line":110,"column":35,"offset":6146}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A JOIN works on two or more tables if they have at least one common field and have a relationship between them.","position":{"start":{"line":112,"column":1,"offset":6148},"end":{"line":112,"column":112,"offset":6259}}}],"position":{"start":{"line":112,"column":1,"offset":6148},"end":{"line":112,"column":112,"offset":6259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"JOIN keeps the base tables (structure and data) unchanged.","position":{"start":{"line":114,"column":1,"offset":6261},"end":{"line":114,"column":59,"offset":6319}}}],"position":{"start":{"line":114,"column":1,"offset":6261},"end":{"line":114,"column":59,"offset":6319}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Join vs. Subquery","position":{"start":{"line":116,"column":5,"offset":6325},"end":{"line":116,"column":22,"offset":6342}}}],"position":{"start":{"line":116,"column":1,"offset":6321},"end":{"line":116,"column":22,"offset":6342}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"eeea\">","position":{"start":{"line":118,"column":3,"offset":6346},"end":{"line":118,"column":19,"offset":6362}}},{"type":"text","value":"JOINs are faster than a subquery and it is very rare that the opposite.","position":{"start":{"line":118,"column":19,"offset":6362},"end":{"line":118,"column":90,"offset":6433}}},{"type":"raw","value":"</span>","position":{"start":{"line":118,"column":90,"offset":6433},"end":{"line":118,"column":97,"offset":6440}}}],"position":{"start":{"line":118,"column":1,"offset":6344},"end":{"line":118,"column":97,"offset":6440}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3b2e\">","position":{"start":{"line":119,"column":3,"offset":6443},"end":{"line":119,"column":19,"offset":6459}}},{"type":"text","value":"In JOINs the RDBMS calculates an execution plan, that can predict, what data should be loaded and how much it will take to processed and as a result this process save some times, unlike the subquery there is no pre-process calculation and run all the queries and load all their data to do the processing.","position":{"start":{"line":119,"column":19,"offset":6459},"end":{"line":119,"column":323,"offset":6763}}},{"type":"raw","value":"</span>","position":{"start":{"line":119,"column":323,"offset":6763},"end":{"line":119,"column":330,"offset":6770}}}],"position":{"start":{"line":119,"column":1,"offset":6441},"end":{"line":119,"column":330,"offset":6770}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"84ce\">","position":{"start":{"line":120,"column":3,"offset":6773},"end":{"line":120,"column":19,"offset":6789}}},{"type":"text","value":"A JOIN is checked conditions first and then put it into table and displays; where as a subquery take separate temp table internally and checking condition.","position":{"start":{"line":120,"column":19,"offset":6789},"end":{"line":120,"column":174,"offset":6944}}},{"type":"raw","value":"</span>","position":{"start":{"line":120,"column":174,"offset":6944},"end":{"line":120,"column":181,"offset":6951}}}],"position":{"start":{"line":120,"column":1,"offset":6771},"end":{"line":120,"column":181,"offset":6951}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3002\">","position":{"start":{"line":121,"column":3,"offset":6954},"end":{"line":121,"column":19,"offset":6970}}},{"type":"text","value":"When joins are using, there should be connection between two or more than two tables and each table has a relation with other while subquery means query inside another query, has no need to relation, it works on columns and conditions.","position":{"start":{"line":121,"column":19,"offset":6970},"end":{"line":121,"column":254,"offset":7205}}},{"type":"raw","value":"</span>","position":{"start":{"line":121,"column":254,"offset":7205},"end":{"line":121,"column":261,"offset":7212}}}],"position":{"start":{"line":121,"column":1,"offset":6952},"end":{"line":121,"column":261,"offset":7212}}},{"type":"text","value":"\n"}],"position":{"start":{"line":118,"column":1,"offset":6344},"end":{"line":121,"column":261,"offset":7212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SQL JOINS: EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":123,"column":5,"offset":7218},"end":{"line":123,"column":43,"offset":7256}}}],"position":{"start":{"line":123,"column":1,"offset":7214},"end":{"line":123,"column":43,"offset":7256}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The are two types of SQL JOINS — EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":125,"column":1,"offset":7258},"end":{"line":125,"column":61,"offset":7318}}}],"position":{"start":{"line":125,"column":1,"offset":7258},"end":{"line":125,"column":61,"offset":7318}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"31e6\">","position":{"start":{"line":127,"column":5,"offset":7324},"end":{"line":127,"column":21,"offset":7340}}},{"type":"text","value":"SQL EQUI JOIN :","position":{"start":{"line":127,"column":21,"offset":7340},"end":{"line":127,"column":36,"offset":7355}}},{"type":"raw","value":"</span>","position":{"start":{"line":127,"column":36,"offset":7355},"end":{"line":127,"column":43,"offset":7362}}}],"position":{"start":{"line":127,"column":1,"offset":7320},"end":{"line":127,"column":43,"offset":7362}}},{"type":"text","value":"\n"}],"position":{"start":{"line":127,"column":1,"offset":7320},"end":{"line":127,"column":43,"offset":7362}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN is a simple SQL join uses the equal sign(=) as the comparison operator for the condition. It has two types — SQL Outer join and SQL Inner join.","position":{"start":{"line":129,"column":1,"offset":7364},"end":{"line":129,"column":162,"offset":7525}}}],"position":{"start":{"line":129,"column":1,"offset":7364},"end":{"line":129,"column":162,"offset":7525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d86b\">","position":{"start":{"line":131,"column":5,"offset":7531},"end":{"line":131,"column":21,"offset":7547}}},{"type":"text","value":"SQL NON EQUI JOIN :","position":{"start":{"line":131,"column":21,"offset":7547},"end":{"line":131,"column":40,"offset":7566}}},{"type":"raw","value":"</span>","position":{"start":{"line":131,"column":40,"offset":7566},"end":{"line":131,"column":47,"offset":7573}}}],"position":{"start":{"line":131,"column":1,"offset":7527},"end":{"line":131,"column":47,"offset":7573}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":7527},"end":{"line":131,"column":47,"offset":7573}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":133,"column":1,"offset":7575},"end":{"line":133,"column":5,"offset":7579}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL NON EQUI JOIN","position":{"start":{"line":133,"column":7,"offset":7581},"end":{"line":133,"column":24,"offset":7598}}}],"position":{"start":{"line":133,"column":5,"offset":7579},"end":{"line":133,"column":26,"offset":7600}}},{"type":"text","value":" is a join uses comparison operator other than the equal sign like ","position":{"start":{"line":133,"column":26,"offset":7600},"end":{"line":133,"column":93,"offset":7667}}},{"type":"text","value":">","position":{"start":{"line":133,"column":93,"offset":7667},"end":{"line":133,"column":97,"offset":7671}}},{"type":"text","value":", ","position":{"start":{"line":133,"column":97,"offset":7671},"end":{"line":133,"column":99,"offset":7673}}},{"type":"text","value":"<","position":{"start":{"line":133,"column":99,"offset":7673},"end":{"line":133,"column":103,"offset":7677}}},{"type":"text","value":", ","position":{"start":{"line":133,"column":103,"offset":7677},"end":{"line":133,"column":105,"offset":7679}}},{"type":"text","value":">","position":{"start":{"line":133,"column":105,"offset":7679},"end":{"line":133,"column":109,"offset":7683}}},{"type":"text","value":"=, ","position":{"start":{"line":133,"column":109,"offset":7683},"end":{"line":133,"column":112,"offset":7686}}},{"type":"text","value":"<","position":{"start":{"line":133,"column":112,"offset":7686},"end":{"line":133,"column":116,"offset":7690}}},{"type":"text","value":"= with the condition.","position":{"start":{"line":133,"column":116,"offset":7690},"end":{"line":133,"column":137,"offset":7711}}}],"position":{"start":{"line":133,"column":1,"offset":7575},"end":{"line":133,"column":137,"offset":7711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL EQUI JOIN : INNER JOIN and OUTER JOIN","position":{"start":{"line":135,"column":3,"offset":7715},"end":{"line":135,"column":44,"offset":7756}}}],"position":{"start":{"line":135,"column":1,"offset":7713},"end":{"line":135,"column":46,"offset":7758}}}],"position":{"start":{"line":135,"column":1,"offset":7713},"end":{"line":135,"column":46,"offset":7758}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN can be classified into two types — INNER JOIN and OUTER JOIN","position":{"start":{"line":137,"column":1,"offset":7760},"end":{"line":137,"column":79,"offset":7838}}}],"position":{"start":{"line":137,"column":1,"offset":7760},"end":{"line":137,"column":79,"offset":7838}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c9b5\">","position":{"start":{"line":139,"column":5,"offset":7844},"end":{"line":139,"column":21,"offset":7860}}},{"type":"text","value":"SQL INNER JOIN","position":{"start":{"line":139,"column":21,"offset":7860},"end":{"line":139,"column":35,"offset":7874}}},{"type":"raw","value":"</span>","position":{"start":{"line":139,"column":35,"offset":7874},"end":{"line":139,"column":42,"offset":7881}}}],"position":{"start":{"line":139,"column":1,"offset":7840},"end":{"line":139,"column":42,"offset":7881}}},{"type":"text","value":"\n"}],"position":{"start":{"line":139,"column":1,"offset":7840},"end":{"line":139,"column":42,"offset":7881}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from tables where the key record of one table is equal to the key records of another table.","position":{"start":{"line":141,"column":1,"offset":7883},"end":{"line":141,"column":132,"offset":8014}}}],"position":{"start":{"line":141,"column":1,"offset":7883},"end":{"line":141,"column":132,"offset":8014}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6bc6\">","position":{"start":{"line":143,"column":5,"offset":8020},"end":{"line":143,"column":21,"offset":8036}}},{"type":"text","value":"SQL OUTER JOIN","position":{"start":{"line":143,"column":21,"offset":8036},"end":{"line":143,"column":35,"offset":8050}}},{"type":"raw","value":"</span>","position":{"start":{"line":143,"column":35,"offset":8050},"end":{"line":143,"column":42,"offset":8057}}}],"position":{"start":{"line":143,"column":1,"offset":8016},"end":{"line":143,"column":42,"offset":8057}}},{"type":"text","value":"\n"}],"position":{"start":{"line":143,"column":1,"offset":8016},"end":{"line":143,"column":42,"offset":8057}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from one table and only those rows from the secondary table where the joined condition is satisfying i.e. the columns are equal in both tables.","position":{"start":{"line":145,"column":1,"offset":8059},"end":{"line":145,"column":184,"offset":8242}}}],"position":{"start":{"line":145,"column":1,"offset":8059},"end":{"line":145,"column":184,"offset":8242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to perform a JOIN query, the required information we need are:","position":{"start":{"line":147,"column":1,"offset":8244},"end":{"line":147,"column":72,"offset":8315}}}],"position":{"start":{"line":147,"column":1,"offset":8244},"end":{"line":147,"column":72,"offset":8315}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"a)","position":{"start":{"line":149,"column":3,"offset":8319},"end":{"line":149,"column":5,"offset":8321}}}],"position":{"start":{"line":149,"column":1,"offset":8317},"end":{"line":149,"column":7,"offset":8323}}},{"type":"text","value":" The name of the tables","position":{"start":{"line":149,"column":7,"offset":8323},"end":{"line":149,"column":30,"offset":8346}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"b)","position":{"start":{"line":149,"column":32,"offset":8348},"end":{"line":149,"column":34,"offset":8350}}}],"position":{"start":{"line":149,"column":30,"offset":8346},"end":{"line":149,"column":36,"offset":8352}}},{"type":"text","value":" Name of the columns of two or more tables, based on which a condition will perform.","position":{"start":{"line":149,"column":36,"offset":8352},"end":{"line":149,"column":120,"offset":8436}}}],"position":{"start":{"line":149,"column":1,"offset":8317},"end":{"line":149,"column":120,"offset":8436}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Syntax:","position":{"start":{"line":151,"column":3,"offset":8440},"end":{"line":151,"column":10,"offset":8447}}}],"position":{"start":{"line":151,"column":1,"offset":8438},"end":{"line":151,"column":12,"offset":8449}}}],"position":{"start":{"line":151,"column":1,"offset":8438},"end":{"line":151,"column":12,"offset":8449}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM table1\njoin_type table2\n[ON (join_condition)]\n"}],"position":{"start":{"line":153,"column":1,"offset":8451},"end":{"line":155,"column":26,"offset":8513}}}],"position":{"start":{"line":153,"column":1,"offset":8451},"end":{"line":155,"column":26,"offset":8513}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Parameters:","position":{"start":{"line":157,"column":3,"offset":8517},"end":{"line":157,"column":14,"offset":8528}}}],"position":{"start":{"line":157,"column":1,"offset":8515},"end":{"line":157,"column":16,"offset":8530}}}],"position":{"start":{"line":157,"column":1,"offset":8515},"end":{"line":157,"column":16,"offset":8530}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/3e2d9e2f028e4b7abf2da81156a54364\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":159,"column":1,"offset":8532},"end":{"line":159,"column":106,"offset":8637}}},{"type":"text","value":"Untitled","position":{"start":{"line":159,"column":106,"offset":8637},"end":{"line":159,"column":114,"offset":8645}}},{"type":"raw","value":"</a>","position":{"start":{"line":159,"column":114,"offset":8645},"end":{"line":159,"column":118,"offset":8649}}}],"position":{"start":{"line":159,"column":1,"offset":8532},"end":{"line":159,"column":118,"offset":8649}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Pictorial Presentation of SQL Joins:","position":{"start":{"line":161,"column":3,"offset":8653},"end":{"line":161,"column":39,"offset":8689}}}],"position":{"start":{"line":161,"column":1,"offset":8651},"end":{"line":161,"column":41,"offset":8691}}}],"position":{"start":{"line":161,"column":1,"offset":8651},"end":{"line":161,"column":41,"offset":8691}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*bbwqJEpV2a9WZG-t.gif\" class=\"graf-image\" /></figure>**Example:**","position":{"start":{"line":163,"column":1,"offset":8693},"end":{"line":163,"column":125,"offset":8817}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: company","position":{"start":{"line":165,"column":3,"offset":8821},"end":{"line":165,"column":24,"offset":8842}}}],"position":{"start":{"line":165,"column":1,"offset":8819},"end":{"line":165,"column":26,"offset":8844}}}],"position":{"start":{"line":165,"column":1,"offset":8819},"end":{"line":165,"column":26,"offset":8844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: foods","position":{"start":{"line":167,"column":3,"offset":8848},"end":{"line":167,"column":22,"offset":8867}}}],"position":{"start":{"line":167,"column":1,"offset":8846},"end":{"line":167,"column":24,"offset":8869}}}],"position":{"start":{"line":167,"column":1,"offset":8846},"end":{"line":167,"column":24,"offset":8869}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To join two tables 'company' and 'foods', the following SQL statement can be used :","position":{"start":{"line":169,"column":1,"offset":8871},"end":{"line":169,"column":84,"offset":8954}}}],"position":{"start":{"line":169,"column":1,"offset":8871},"end":{"line":169,"column":84,"offset":8954}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL Code:","position":{"start":{"line":171,"column":3,"offset":8958},"end":{"line":171,"column":12,"offset":8967}}}],"position":{"start":{"line":171,"column":1,"offset":8956},"end":{"line":171,"column":14,"offset":8969}}}],"position":{"start":{"line":171,"column":1,"offset":8956},"end":{"line":171,"column":14,"offset":8969}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT  company.company_id,company.company_name,\nfoods.item_id,foods.item_name\nFROM company,foods;\n"}],"position":{"start":{"line":173,"column":1,"offset":8971},"end":{"line":175,"column":24,"offset":9081}}}],"position":{"start":{"line":173,"column":1,"offset":8971},"end":{"line":175,"column":24,"offset":9081}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy","position":{"start":{"line":177,"column":1,"offset":9083},"end":{"line":177,"column":5,"offset":9087}}}],"position":{"start":{"line":177,"column":1,"offset":9083},"end":{"line":177,"column":5,"offset":9087}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Output:","position":{"start":{"line":179,"column":1,"offset":9089},"end":{"line":179,"column":8,"offset":9096}}}],"position":{"start":{"line":179,"column":1,"offset":9089},"end":{"line":179,"column":8,"offset":9096}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMPAN COMPANY_NAME              ITEM_ID  ITEM_NAME\n------ ------------------------- -------- ---------------\n18     Order All                 1        Chex Mix\n18     Order All                 6        Cheez-It\n18     Order All                 2        BN Biscuit\n18     Order All                 3        Mighty Munch\n18     Order All                 4        Pot Rice\n18     Order All                 5        Jaffa Cakes\n18     Order All                 7        Salt n Shake\n15     Jack Hill Ltd             1        Chex Mix\n15     Jack Hill Ltd             6        Cheez-It\n15     Jack Hill Ltd             2        BN Biscuit\n15     Jack Hill Ltd             3        Mighty Munch\n15     Jack Hill Ltd             4        Pot Rice\n15     Jack Hill Ltd             5        Jaffa Cakes\n15     Jack Hill Ltd             7        Salt n Shake\n16     Akas Foods                1        Chex Mix\n16     Akas Foods                6        Cheez-It\n16     Akas Foods                2        BN Biscuit\n16     Akas Foods                3        Mighty Munch\n16     Akas Foods                4        Pot Rice\n16     Akas Foods                5        Jaffa Cakes\n16     Akas Foods                7        Salt n Shake\n.........\n.........\n.........\n"}],"position":{"start":{"line":181,"column":1,"offset":9098},"end":{"line":206,"column":14,"offset":10451}}}],"position":{"start":{"line":181,"column":1,"offset":9098},"end":{"line":206,"column":14,"offset":10451}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"JOINS: Relational Databases","position":{"start":{"line":208,"column":3,"offset":10455},"end":{"line":208,"column":30,"offset":10482}}}],"position":{"start":{"line":208,"column":1,"offset":10453},"end":{"line":208,"column":32,"offset":10484}}}],"position":{"start":{"line":208,"column":1,"offset":10453},"end":{"line":208,"column":32,"offset":10484}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"74c4\">","position":{"start":{"line":210,"column":3,"offset":10488},"end":{"line":210,"column":19,"offset":10504}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/oracle/joins/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":210,"column":19,"offset":10504},"end":{"line":210,"column":120,"offset":10605}}},{"type":"raw","value":"<strong>","position":{"start":{"line":210,"column":120,"offset":10605},"end":{"line":210,"column":128,"offset":10613}}},{"type":"text","value":"Oracle JOINS","position":{"start":{"line":210,"column":128,"offset":10613},"end":{"line":210,"column":140,"offset":10625}}},{"type":"raw","value":"</strong>","position":{"start":{"line":210,"column":140,"offset":10625},"end":{"line":210,"column":149,"offset":10634}}},{"type":"raw","value":"</a>","position":{"start":{"line":210,"column":149,"offset":10634},"end":{"line":210,"column":153,"offset":10638}}},{"type":"raw","value":"</span>","position":{"start":{"line":210,"column":153,"offset":10638},"end":{"line":210,"column":160,"offset":10645}}}],"position":{"start":{"line":210,"column":1,"offset":10486},"end":{"line":210,"column":160,"offset":10645}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f8da\">","position":{"start":{"line":211,"column":3,"offset":10648},"end":{"line":211,"column":19,"offset":10664}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/mysql/advance-query-in-mysql/mysql-joins.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":211,"column":19,"offset":10664},"end":{"line":211,"column":142,"offset":10787}}},{"type":"raw","value":"<strong>","position":{"start":{"line":211,"column":142,"offset":10787},"end":{"line":211,"column":150,"offset":10795}}},{"type":"text","value":"MySQL JOINS","position":{"start":{"line":211,"column":150,"offset":10795},"end":{"line":211,"column":161,"offset":10806}}},{"type":"raw","value":"</strong>","position":{"start":{"line":211,"column":161,"offset":10806},"end":{"line":211,"column":170,"offset":10815}}},{"type":"raw","value":"</a>","position":{"start":{"line":211,"column":170,"offset":10815},"end":{"line":211,"column":174,"offset":10819}}},{"type":"raw","value":"</span>","position":{"start":{"line":211,"column":174,"offset":10819},"end":{"line":211,"column":181,"offset":10826}}}],"position":{"start":{"line":211,"column":1,"offset":10646},"end":{"line":211,"column":181,"offset":10826}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"33a5\">","position":{"start":{"line":212,"column":3,"offset":10829},"end":{"line":212,"column":19,"offset":10845}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/PostgreSQL/postgresql-join.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":212,"column":19,"offset":10845},"end":{"line":212,"column":128,"offset":10954}}},{"type":"raw","value":"<strong>","position":{"start":{"line":212,"column":128,"offset":10954},"end":{"line":212,"column":136,"offset":10962}}},{"type":"text","value":"PostgreSQL JOINS","position":{"start":{"line":212,"column":136,"offset":10962},"end":{"line":212,"column":152,"offset":10978}}},{"type":"raw","value":"</strong>","position":{"start":{"line":212,"column":152,"offset":10978},"end":{"line":212,"column":161,"offset":10987}}},{"type":"raw","value":"</a>","position":{"start":{"line":212,"column":161,"offset":10987},"end":{"line":212,"column":165,"offset":10991}}},{"type":"raw","value":"</span>","position":{"start":{"line":212,"column":165,"offset":10991},"end":{"line":212,"column":172,"offset":10998}}}],"position":{"start":{"line":212,"column":1,"offset":10827},"end":{"line":212,"column":172,"offset":10998}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b578\">","position":{"start":{"line":213,"column":3,"offset":11001},"end":{"line":213,"column":19,"offset":11017}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sqlite/sqlite-inner-join.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":213,"column":19,"offset":11017},"end":{"line":213,"column":126,"offset":11124}}},{"type":"raw","value":"<strong>","position":{"start":{"line":213,"column":126,"offset":11124},"end":{"line":213,"column":134,"offset":11132}}},{"type":"text","value":"SQLite JOINS","position":{"start":{"line":213,"column":134,"offset":11132},"end":{"line":213,"column":146,"offset":11144}}},{"type":"raw","value":"</strong>","position":{"start":{"line":213,"column":146,"offset":11144},"end":{"line":213,"column":155,"offset":11153}}},{"type":"raw","value":"</a>","position":{"start":{"line":213,"column":155,"offset":11153},"end":{"line":213,"column":159,"offset":11157}}},{"type":"raw","value":"</span>","position":{"start":{"line":213,"column":159,"offset":11157},"end":{"line":213,"column":166,"offset":11164}}}],"position":{"start":{"line":213,"column":1,"offset":10999},"end":{"line":213,"column":166,"offset":11164}}},{"type":"text","value":"\n"}],"position":{"start":{"line":210,"column":1,"offset":10486},"end":{"line":213,"column":166,"offset":11164}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Key points to remember:","position":{"start":{"line":215,"column":3,"offset":11168},"end":{"line":215,"column":26,"offset":11191}}}],"position":{"start":{"line":215,"column":1,"offset":11166},"end":{"line":215,"column":28,"offset":11193}}}],"position":{"start":{"line":215,"column":1,"offset":11166},"end":{"line":215,"column":28,"offset":11193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Click on the following to get the slides presentation -","position":{"start":{"line":217,"column":2,"offset":11196},"end":{"line":217,"column":57,"offset":11251}}}],"position":{"start":{"line":217,"column":1,"offset":11195},"end":{"line":217,"column":58,"offset":11252}}}],"position":{"start":{"line":217,"column":1,"offset":11195},"end":{"line":217,"column":58,"offset":11252}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*lP_nQo6VtVu_68nx.png\" class=\"graf-image\" /></figure>###","position":{"start":{"line":219,"column":1,"offset":11254},"end":{"line":219,"column":116,"offset":11369}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Practice SQL Exercises","position":{"start":{"line":221,"column":3,"offset":11373},"end":{"line":221,"column":25,"offset":11395}}}],"position":{"start":{"line":221,"column":1,"offset":11371},"end":{"line":221,"column":27,"offset":11397}}}],"position":{"start":{"line":221,"column":1,"offset":11371},"end":{"line":221,"column":27,"offset":11397}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0765\">","position":{"start":{"line":223,"column":3,"offset":11401},"end":{"line":223,"column":19,"offset":11417}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":223,"column":19,"offset":11417},"end":{"line":223,"column":121,"offset":11519}}},{"type":"raw","value":"<strong>","position":{"start":{"line":223,"column":121,"offset":11519},"end":{"line":223,"column":129,"offset":11527}}},{"type":"text","value":"SQL Exercises, Practice, Solution","position":{"start":{"line":223,"column":129,"offset":11527},"end":{"line":223,"column":162,"offset":11560}}},{"type":"raw","value":"</strong>","position":{"start":{"line":223,"column":162,"offset":11560},"end":{"line":223,"column":171,"offset":11569}}},{"type":"raw","value":"</a>","position":{"start":{"line":223,"column":171,"offset":11569},"end":{"line":223,"column":175,"offset":11573}}},{"type":"raw","value":"</span>","position":{"start":{"line":223,"column":175,"offset":11573},"end":{"line":223,"column":182,"offset":11580}}}],"position":{"start":{"line":223,"column":1,"offset":11399},"end":{"line":223,"column":182,"offset":11580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4cd9\">","position":{"start":{"line":224,"column":3,"offset":11583},"end":{"line":224,"column":19,"offset":11599}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-retrieve-from-table.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":224,"column":19,"offset":11599},"end":{"line":224,"column":139,"offset":11719}}},{"type":"raw","value":"<strong>","position":{"start":{"line":224,"column":139,"offset":11719},"end":{"line":224,"column":147,"offset":11727}}},{"type":"text","value":"SQL Retrieve data from tables [33 Exercises]","position":{"start":{"line":224,"column":147,"offset":11727},"end":{"line":224,"column":191,"offset":11771}}},{"type":"raw","value":"</strong>","position":{"start":{"line":224,"column":191,"offset":11771},"end":{"line":224,"column":200,"offset":11780}}},{"type":"raw","value":"</a>","position":{"start":{"line":224,"column":200,"offset":11780},"end":{"line":224,"column":204,"offset":11784}}},{"type":"raw","value":"</span>","position":{"start":{"line":224,"column":204,"offset":11784},"end":{"line":224,"column":211,"offset":11791}}}],"position":{"start":{"line":224,"column":1,"offset":11581},"end":{"line":224,"column":211,"offset":11791}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7204\">","position":{"start":{"line":225,"column":3,"offset":11794},"end":{"line":225,"column":19,"offset":11810}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-boolean-operators.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":225,"column":19,"offset":11810},"end":{"line":225,"column":137,"offset":11928}}},{"type":"raw","value":"<strong>","position":{"start":{"line":225,"column":137,"offset":11928},"end":{"line":225,"column":145,"offset":11936}}},{"type":"text","value":"SQL Boolean and Relational operators [12 Exercises]","position":{"start":{"line":225,"column":145,"offset":11936},"end":{"line":225,"column":196,"offset":11987}}},{"type":"raw","value":"</strong>","position":{"start":{"line":225,"column":196,"offset":11987},"end":{"line":225,"column":205,"offset":11996}}},{"type":"raw","value":"</a>","position":{"start":{"line":225,"column":205,"offset":11996},"end":{"line":225,"column":209,"offset":12000}}},{"type":"raw","value":"</span>","position":{"start":{"line":225,"column":209,"offset":12000},"end":{"line":225,"column":216,"offset":12007}}}],"position":{"start":{"line":225,"column":1,"offset":11792},"end":{"line":225,"column":216,"offset":12007}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"3d4e\">","position":{"start":{"line":226,"column":3,"offset":12010},"end":{"line":226,"column":19,"offset":12026}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-wildcard-special-operators.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":226,"column":19,"offset":12026},"end":{"line":226,"column":146,"offset":12153}}},{"type":"raw","value":"<strong>","position":{"start":{"line":226,"column":146,"offset":12153},"end":{"line":226,"column":154,"offset":12161}}},{"type":"text","value":"SQL Wildcard and Special operators [22 Exercises]","position":{"start":{"line":226,"column":154,"offset":12161},"end":{"line":226,"column":203,"offset":12210}}},{"type":"raw","value":"</strong>","position":{"start":{"line":226,"column":203,"offset":12210},"end":{"line":226,"column":212,"offset":12219}}},{"type":"raw","value":"</a>","position":{"start":{"line":226,"column":212,"offset":12219},"end":{"line":226,"column":216,"offset":12223}}},{"type":"raw","value":"</span>","position":{"start":{"line":226,"column":216,"offset":12223},"end":{"line":226,"column":223,"offset":12230}}}],"position":{"start":{"line":226,"column":1,"offset":12008},"end":{"line":226,"column":223,"offset":12230}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"7afb\">","position":{"start":{"line":227,"column":3,"offset":12233},"end":{"line":227,"column":19,"offset":12249}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-aggregate-functions.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":227,"column":19,"offset":12249},"end":{"line":227,"column":139,"offset":12369}}},{"type":"raw","value":"<strong>","position":{"start":{"line":227,"column":139,"offset":12369},"end":{"line":227,"column":147,"offset":12377}}},{"type":"text","value":"SQL Aggregate Functions [25 Exercises]","position":{"start":{"line":227,"column":147,"offset":12377},"end":{"line":227,"column":185,"offset":12415}}},{"type":"raw","value":"</strong>","position":{"start":{"line":227,"column":185,"offset":12415},"end":{"line":227,"column":194,"offset":12424}}},{"type":"raw","value":"</a>","position":{"start":{"line":227,"column":194,"offset":12424},"end":{"line":227,"column":198,"offset":12428}}},{"type":"raw","value":"</span>","position":{"start":{"line":227,"column":198,"offset":12428},"end":{"line":227,"column":205,"offset":12435}}}],"position":{"start":{"line":227,"column":1,"offset":12231},"end":{"line":227,"column":205,"offset":12435}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cc71\">","position":{"start":{"line":228,"column":3,"offset":12438},"end":{"line":228,"column":19,"offset":12454}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-fromatting-output-exercises.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":228,"column":19,"offset":12454},"end":{"line":228,"column":147,"offset":12582}}},{"type":"raw","value":"<strong>","position":{"start":{"line":228,"column":147,"offset":12582},"end":{"line":228,"column":155,"offset":12590}}},{"type":"text","value":"SQL Formatting query output [10 Exercises]","position":{"start":{"line":228,"column":155,"offset":12590},"end":{"line":228,"column":197,"offset":12632}}},{"type":"raw","value":"</strong>","position":{"start":{"line":228,"column":197,"offset":12632},"end":{"line":228,"column":206,"offset":12641}}},{"type":"raw","value":"</a>","position":{"start":{"line":228,"column":206,"offset":12641},"end":{"line":228,"column":210,"offset":12645}}},{"type":"raw","value":"</span>","position":{"start":{"line":228,"column":210,"offset":12645},"end":{"line":228,"column":217,"offset":12652}}}],"position":{"start":{"line":228,"column":1,"offset":12436},"end":{"line":228,"column":217,"offset":12652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"77bf\">","position":{"start":{"line":229,"column":3,"offset":12655},"end":{"line":229,"column":19,"offset":12671}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/s/sql-exercises/ql-exercises-quering-on-multiple-table.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":229,"column":19,"offset":12671},"end":{"line":229,"column":166,"offset":12818}}},{"type":"raw","value":"<strong>","position":{"start":{"line":229,"column":166,"offset":12818},"end":{"line":229,"column":174,"offset":12826}}},{"type":"text","value":"SQL Quering on Multiple Tables [7 Exercises]","position":{"start":{"line":229,"column":174,"offset":12826},"end":{"line":229,"column":218,"offset":12870}}},{"type":"raw","value":"</strong>","position":{"start":{"line":229,"column":218,"offset":12870},"end":{"line":229,"column":227,"offset":12879}}},{"type":"raw","value":"</a>","position":{"start":{"line":229,"column":227,"offset":12879},"end":{"line":229,"column":231,"offset":12883}}},{"type":"raw","value":"</span>","position":{"start":{"line":229,"column":231,"offset":12883},"end":{"line":229,"column":238,"offset":12890}}}],"position":{"start":{"line":229,"column":1,"offset":12653},"end":{"line":229,"column":238,"offset":12890}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0bc2\">","position":{"start":{"line":230,"column":3,"offset":12893},"end":{"line":230,"column":19,"offset":12909}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sorting-and-filtering-hr/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":230,"column":19,"offset":12909},"end":{"line":230,"column":146,"offset":13036}}},{"type":"raw","value":"<strong>","position":{"start":{"line":230,"column":146,"offset":13036},"end":{"line":230,"column":154,"offset":13044}}},{"type":"text","value":"FILTERING and SORTING on HR Database [38 Exercises]","position":{"start":{"line":230,"column":154,"offset":13044},"end":{"line":230,"column":205,"offset":13095}}},{"type":"raw","value":"</strong>","position":{"start":{"line":230,"column":205,"offset":13095},"end":{"line":230,"column":214,"offset":13104}}},{"type":"raw","value":"</a>","position":{"start":{"line":230,"column":214,"offset":13104},"end":{"line":230,"column":218,"offset":13108}}},{"type":"raw","value":"</span>","position":{"start":{"line":230,"column":218,"offset":13108},"end":{"line":230,"column":225,"offset":13115}}}],"position":{"start":{"line":230,"column":1,"offset":12891},"end":{"line":230,"column":225,"offset":13115}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e28a\">","position":{"start":{"line":231,"column":3,"offset":13118},"end":{"line":231,"column":19,"offset":13134}}},{"type":"text","value":"SQL JOINS","position":{"start":{"line":231,"column":19,"offset":13134},"end":{"line":231,"column":28,"offset":13143}}},{"type":"raw","value":"</span>","position":{"start":{"line":231,"column":28,"offset":13143},"end":{"line":231,"column":35,"offset":13150}}}],"position":{"start":{"line":231,"column":1,"offset":13116},"end":{"line":231,"column":35,"offset":13150}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"84a2\">","position":{"start":{"line":232,"column":3,"offset":13153},"end":{"line":232,"column":19,"offset":13169}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-joins-exercises.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":232,"column":19,"offset":13169},"end":{"line":232,"column":135,"offset":13285}}},{"type":"raw","value":"<strong>","position":{"start":{"line":232,"column":135,"offset":13285},"end":{"line":232,"column":143,"offset":13293}}},{"type":"text","value":"SQL JOINS [29 Exercises]","position":{"start":{"line":232,"column":143,"offset":13293},"end":{"line":232,"column":167,"offset":13317}}},{"type":"raw","value":"</strong>","position":{"start":{"line":232,"column":167,"offset":13317},"end":{"line":232,"column":176,"offset":13326}}},{"type":"raw","value":"</a>","position":{"start":{"line":232,"column":176,"offset":13326},"end":{"line":232,"column":180,"offset":13330}}},{"type":"raw","value":"</span>","position":{"start":{"line":232,"column":180,"offset":13330},"end":{"line":232,"column":187,"offset":13337}}}],"position":{"start":{"line":232,"column":1,"offset":13151},"end":{"line":232,"column":187,"offset":13337}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f97b\">","position":{"start":{"line":233,"column":3,"offset":13340},"end":{"line":233,"column":19,"offset":13356}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/joins-hr/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":233,"column":19,"offset":13356},"end":{"line":233,"column":130,"offset":13467}}},{"type":"raw","value":"<strong>","position":{"start":{"line":233,"column":130,"offset":13467},"end":{"line":233,"column":138,"offset":13475}}},{"type":"text","value":"SQL JOINS on HR Database [27 Exercises]","position":{"start":{"line":233,"column":138,"offset":13475},"end":{"line":233,"column":177,"offset":13514}}},{"type":"raw","value":"</strong>","position":{"start":{"line":233,"column":177,"offset":13514},"end":{"line":233,"column":186,"offset":13523}}},{"type":"raw","value":"</a>","position":{"start":{"line":233,"column":186,"offset":13523},"end":{"line":233,"column":190,"offset":13527}}},{"type":"raw","value":"</span>","position":{"start":{"line":233,"column":190,"offset":13527},"end":{"line":233,"column":197,"offset":13534}}}],"position":{"start":{"line":233,"column":1,"offset":13338},"end":{"line":233,"column":197,"offset":13534}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b33e\">  ","position":{"start":{"line":234,"column":3,"offset":13537},"end":{"line":234,"column":21,"offset":13555}}},{"type":"text","value":"\n"}],"position":{"start":{"line":234,"column":1,"offset":13535},"end":{"line":234,"column":21,"offset":13555}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"</span>","position":{"start":{"line":235,"column":3,"offset":13558},"end":{"line":235,"column":10,"offset":13565}}},{"type":"text","value":"\n"}],"position":{"start":{"line":235,"column":1,"offset":13556},"end":{"line":235,"column":10,"offset":13565}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0983\">","position":{"start":{"line":236,"column":3,"offset":13568},"end":{"line":236,"column":19,"offset":13584}}},{"type":"text","value":"SQL SUBQUERIES","position":{"start":{"line":236,"column":19,"offset":13584},"end":{"line":236,"column":33,"offset":13598}}},{"type":"raw","value":"</span>","position":{"start":{"line":236,"column":33,"offset":13598},"end":{"line":236,"column":40,"offset":13605}}}],"position":{"start":{"line":236,"column":1,"offset":13566},"end":{"line":236,"column":40,"offset":13605}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"423b\">","position":{"start":{"line":237,"column":3,"offset":13608},"end":{"line":237,"column":19,"offset":13624}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/subqueries/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":237,"column":19,"offset":13624},"end":{"line":237,"column":132,"offset":13737}}},{"type":"raw","value":"<strong>","position":{"start":{"line":237,"column":132,"offset":13737},"end":{"line":237,"column":140,"offset":13745}}},{"type":"text","value":"SQL SUBQUERIES [39 Exercises]","position":{"start":{"line":237,"column":140,"offset":13745},"end":{"line":237,"column":169,"offset":13774}}},{"type":"raw","value":"</strong>","position":{"start":{"line":237,"column":169,"offset":13774},"end":{"line":237,"column":178,"offset":13783}}},{"type":"raw","value":"</a>","position":{"start":{"line":237,"column":178,"offset":13783},"end":{"line":237,"column":182,"offset":13787}}},{"type":"raw","value":"</span>","position":{"start":{"line":237,"column":182,"offset":13787},"end":{"line":237,"column":189,"offset":13794}}}],"position":{"start":{"line":237,"column":1,"offset":13606},"end":{"line":237,"column":189,"offset":13794}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a4d7\">","position":{"start":{"line":238,"column":3,"offset":13797},"end":{"line":238,"column":19,"offset":13813}}},{"type":"text","value":"<a href=\"https","position":{"start":{"line":238,"column":19,"offset":13813},"end":{"line":238,"column":33,"offset":13827}}}],"position":{"start":{"line":238,"column":1,"offset":13795},"end":{"line":238,"column":33,"offset":13827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b63d\">  ","position":{"start":{"line":239,"column":3,"offset":13830},"end":{"line":239,"column":21,"offset":13848}}},{"type":"text","value":"\n"}],"position":{"start":{"line":239,"column":1,"offset":13828},"end":{"line":239,"column":21,"offset":13848}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"</span>","position":{"start":{"line":240,"column":3,"offset":13851},"end":{"line":240,"column":10,"offset":13858}}},{"type":"text","value":"\n"}],"position":{"start":{"line":240,"column":1,"offset":13849},"end":{"line":240,"column":10,"offset":13858}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2c29\">","position":{"start":{"line":241,"column":3,"offset":13861},"end":{"line":241,"column":19,"offset":13877}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/union/sql-union.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":241,"column":19,"offset":13877},"end":{"line":241,"column":131,"offset":13989}}},{"type":"raw","value":"<strong>","position":{"start":{"line":241,"column":131,"offset":13989},"end":{"line":241,"column":139,"offset":13997}}},{"type":"text","value":"SQL Union[9 Exercises]","position":{"start":{"line":241,"column":139,"offset":13997},"end":{"line":241,"column":161,"offset":14019}}},{"type":"raw","value":"</strong>","position":{"start":{"line":241,"column":161,"offset":14019},"end":{"line":241,"column":170,"offset":14028}}},{"type":"raw","value":"</a>","position":{"start":{"line":241,"column":170,"offset":14028},"end":{"line":241,"column":174,"offset":14032}}},{"type":"raw","value":"</span>","position":{"start":{"line":241,"column":174,"offset":14032},"end":{"line":241,"column":181,"offset":14039}}}],"position":{"start":{"line":241,"column":1,"offset":13859},"end":{"line":241,"column":181,"offset":14039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"92c5\">","position":{"start":{"line":242,"column":3,"offset":14042},"end":{"line":242,"column":19,"offset":14058}}},{"type":"text","value":"<a href=\"","position":{"start":{"line":242,"column":19,"offset":14058},"end":{"line":242,"column":28,"offset":14067}}},{"type":"element","tagName":"a","properties":{"href":"https://www"},"children":[{"type":"text","value":"https://www","position":{"start":{"line":242,"column":28,"offset":14067},"end":{"line":242,"column":39,"offset":14078}}}],"position":{"start":{"line":242,"column":28,"offset":14067},"end":{"line":242,"column":39,"offset":14078}}},{"type":"text","value":".","position":{"start":{"line":242,"column":39,"offset":14078},"end":{"line":242,"column":40,"offset":14079}}}],"position":{"start":{"line":242,"column":1,"offset":14040},"end":{"line":242,"column":40,"offset":14079}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d3e5\">","position":{"start":{"line":243,"column":3,"offset":14082},"end":{"line":243,"column":19,"offset":14098}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/sql-user-management.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":243,"column":19,"offset":14098},"end":{"line":243,"column":135,"offset":14214}}},{"type":"raw","value":"<strong>","position":{"start":{"line":243,"column":135,"offset":14214},"end":{"line":243,"column":143,"offset":14222}}},{"type":"text","value":"SQL User Account Management [16 Exercise]","position":{"start":{"line":243,"column":143,"offset":14222},"end":{"line":243,"column":184,"offset":14263}}},{"type":"raw","value":"</strong>","position":{"start":{"line":243,"column":184,"offset":14263},"end":{"line":243,"column":193,"offset":14272}}},{"type":"raw","value":"</a>","position":{"start":{"line":243,"column":193,"offset":14272},"end":{"line":243,"column":197,"offset":14276}}},{"type":"raw","value":"</span>","position":{"start":{"line":243,"column":197,"offset":14276},"end":{"line":243,"column":204,"offset":14283}}}],"position":{"start":{"line":243,"column":1,"offset":14080},"end":{"line":243,"column":204,"offset":14283}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e280\">","position":{"start":{"line":244,"column":3,"offset":14286},"end":{"line":244,"column":19,"offset":14302}}},{"type":"text","value":"Movie Database","position":{"start":{"line":244,"column":19,"offset":14302},"end":{"line":244,"column":33,"offset":14316}}},{"type":"raw","value":"</span>","position":{"start":{"line":244,"column":33,"offset":14316},"end":{"line":244,"column":40,"offset":14323}}}],"position":{"start":{"line":244,"column":1,"offset":14284},"end":{"line":244,"column":40,"offset":14323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5198\">","position":{"start":{"line":245,"column":3,"offset":14326},"end":{"line":245,"column":19,"offset":14342}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/movie-database-exercise/basic-exercises-on-movie-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":245,"column":19,"offset":14342},"end":{"line":245,"column":173,"offset":14496}}},{"type":"raw","value":"<strong>","position":{"start":{"line":245,"column":173,"offset":14496},"end":{"line":245,"column":181,"offset":14504}}},{"type":"text","value":"BASIC queries on movie Database [10 Exercises]","position":{"start":{"line":245,"column":181,"offset":14504},"end":{"line":245,"column":227,"offset":14550}}},{"type":"raw","value":"</strong>","position":{"start":{"line":245,"column":227,"offset":14550},"end":{"line":245,"column":236,"offset":14559}}},{"type":"text","value":"</a","position":{"start":{"line":245,"column":236,"offset":14559},"end":{"line":245,"column":239,"offset":14562}}}],"position":{"start":{"line":245,"column":1,"offset":14324},"end":{"line":245,"column":239,"offset":14562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ddd5\">","position":{"start":{"line":246,"column":3,"offset":14565},"end":{"line":246,"column":19,"offset":14581}}},{"type":"text","value":"<a href=\"https","position":{"start":{"line":246,"column":19,"offset":14581},"end":{"line":246,"column":33,"offset":14595}}}],"position":{"start":{"line":246,"column":1,"offset":14563},"end":{"line":246,"column":33,"offset":14595}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5363\">","position":{"start":{"line":247,"column":3,"offset":14598},"end":{"line":247,"column":19,"offset":14614}}},{"type":"text","value":"<a href=\"https://www.w","position":{"start":{"line":247,"column":19,"offset":14614},"end":{"line":247,"column":41,"offset":14636}}}],"position":{"start":{"line":247,"column":1,"offset":14596},"end":{"line":247,"column":41,"offset":14636}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"b248\">  ","position":{"start":{"line":248,"column":3,"offset":14639},"end":{"line":248,"column":21,"offset":14657}}},{"type":"text","value":"\n"}],"position":{"start":{"line":248,"column":1,"offset":14637},"end":{"line":248,"column":21,"offset":14657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"</span>","position":{"start":{"line":249,"column":3,"offset":14660},"end":{"line":249,"column":10,"offset":14667}}},{"type":"text","value":"\n"}],"position":{"start":{"line":249,"column":1,"offset":14658},"end":{"line":249,"column":10,"offset":14667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d5ba\">","position":{"start":{"line":250,"column":3,"offset":14670},"end":{"line":250,"column":19,"offset":14686}}},{"type":"text","value":"Soccer Database","position":{"start":{"line":250,"column":19,"offset":14686},"end":{"line":250,"column":34,"offset":14701}}},{"type":"raw","value":"</span>","position":{"start":{"line":250,"column":34,"offset":14701},"end":{"line":250,"column":41,"offset":14708}}}],"position":{"start":{"line":250,"column":1,"offset":14668},"end":{"line":250,"column":41,"offset":14708}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a586\">","position":{"start":{"line":251,"column":3,"offset":14711},"end":{"line":251,"column":19,"offset":14727}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":251,"column":19,"offset":14727},"end":{"line":251,"column":146,"offset":14854}}},{"type":"raw","value":"<strong>","position":{"start":{"line":251,"column":146,"offset":14854},"end":{"line":251,"column":154,"offset":14862}}},{"type":"text","value":"Introduction","position":{"start":{"line":251,"column":154,"offset":14862},"end":{"line":251,"column":166,"offset":14874}}},{"type":"raw","value":"</strong>","position":{"start":{"line":251,"column":166,"offset":14874},"end":{"line":251,"column":175,"offset":14883}}},{"type":"raw","value":"</a>","position":{"start":{"line":251,"column":175,"offset":14883},"end":{"line":251,"column":179,"offset":14887}}},{"type":"raw","value":"</span>","position":{"start":{"line":251,"column":179,"offset":14887},"end":{"line":251,"column":186,"offset":14894}}}],"position":{"start":{"line":251,"column":1,"offset":14709},"end":{"line":251,"column":186,"offset":14894}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d585\">","position":{"start":{"line":252,"column":3,"offset":14897},"end":{"line":252,"column":19,"offset":14913}}},{"type":"text","value":"<a href=\"https","position":{"start":{"line":252,"column":19,"offset":14913},"end":{"line":252,"column":33,"offset":14927}}}],"position":{"start":{"line":252,"column":1,"offset":14895},"end":{"line":252,"column":33,"offset":14927}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b626\">","position":{"start":{"line":253,"column":3,"offset":14930},"end":{"line":253,"column":19,"offset":14946}}},{"type":"text","value":"<a href=\"","position":{"start":{"line":253,"column":19,"offset":14946},"end":{"line":253,"column":28,"offset":14955}}},{"type":"element","tagName":"a","properties":{"href":"https://www.w3r"},"children":[{"type":"text","value":"https://www.w3r","position":{"start":{"line":253,"column":28,"offset":14955},"end":{"line":253,"column":43,"offset":14970}}}],"position":{"start":{"line":253,"column":28,"offset":14955},"end":{"line":253,"column":43,"offset":14970}}}],"position":{"start":{"line":253,"column":1,"offset":14928},"end":{"line":253,"column":43,"offset":14970}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"95e1\">","position":{"start":{"line":254,"column":3,"offset":14973},"end":{"line":254,"column":19,"offset":14989}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/soccer-database-exercise/joins-exercises-on-soccer-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":254,"column":19,"offset":14989},"end":{"line":254,"column":175,"offset":15145}}},{"type":"raw","value":"<strong>","position":{"start":{"line":254,"column":175,"offset":15145},"end":{"line":254,"column":183,"offset":15153}}},{"type":"text","value":"JOINS","position":{"start":{"line":254,"column":183,"offset":15153},"end":{"line":254,"column":188,"offset":15158}}}],"position":{"start":{"line":254,"column":1,"offset":14971},"end":{"line":254,"column":188,"offset":15158}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"05ba\">  ","position":{"start":{"line":255,"column":3,"offset":15161},"end":{"line":255,"column":21,"offset":15179}}},{"type":"text","value":"\n"}],"position":{"start":{"line":255,"column":1,"offset":15159},"end":{"line":255,"column":21,"offset":15179}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"</span>","position":{"start":{"line":256,"column":3,"offset":15182},"end":{"line":256,"column":10,"offset":15189}}},{"type":"text","value":"\n"}],"position":{"start":{"line":256,"column":1,"offset":15180},"end":{"line":256,"column":10,"offset":15189}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2b7b\">","position":{"start":{"line":257,"column":3,"offset":15192},"end":{"line":257,"column":19,"offset":15208}}},{"type":"text","value":"Hospital Database","position":{"start":{"line":257,"column":19,"offset":15208},"end":{"line":257,"column":36,"offset":15225}}},{"type":"raw","value":"</span>","position":{"start":{"line":257,"column":36,"offset":15225},"end":{"line":257,"column":43,"offset":15232}}}],"position":{"start":{"line":257,"column":1,"offset":15190},"end":{"line":257,"column":43,"offset":15232}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"788d\">","position":{"start":{"line":258,"column":3,"offset":15235},"end":{"line":258,"column":19,"offset":15251}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/hospital-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":258,"column":19,"offset":15251},"end":{"line":258,"column":148,"offset":15380}}},{"type":"raw","value":"<strong>","position":{"start":{"line":258,"column":148,"offset":15380},"end":{"line":258,"column":156,"offset":15388}}},{"type":"text","value":"Introduction","position":{"start":{"line":258,"column":156,"offset":15388},"end":{"line":258,"column":168,"offset":15400}}},{"type":"raw","value":"</strong>","position":{"start":{"line":258,"column":168,"offset":15400},"end":{"line":258,"column":177,"offset":15409}}},{"type":"raw","value":"</a>","position":{"start":{"line":258,"column":177,"offset":15409},"end":{"line":258,"column":181,"offset":15413}}},{"type":"raw","value":"</span>","position":{"start":{"line":258,"column":181,"offset":15413},"end":{"line":258,"column":188,"offset":15420}}}],"position":{"start":{"line":258,"column":1,"offset":15233},"end":{"line":258,"column":188,"offset":15420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0c32\">","position":{"start":{"line":259,"column":3,"offset":15423},"end":{"line":259,"column":19,"offset":15439}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/hospital-database-exercise/sql-exercise-on-hospital-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":259,"column":19,"offset":15439},"end":{"line":259,"column":176,"offset":15596}}},{"type":"raw","value":"<strong>","position":{"start":{"line":259,"column":176,"offset":15596},"end":{"line":259,"column":184,"offset":15604}}},{"type":"text","value":"BASIC, SUBQUERIES, and JOINS [39 Exercises]","position":{"start":{"line":259,"column":184,"offset":15604},"end":{"line":259,"column":227,"offset":15647}}},{"type":"raw","value":"</strong>","position":{"start":{"line":259,"column":227,"offset":15647},"end":{"line":259,"column":236,"offset":15656}}},{"type":"raw","value":"</a>","position":{"start":{"line":259,"column":236,"offset":15656},"end":{"line":259,"column":240,"offset":15660}}},{"type":"raw","value":"</span>","position":{"start":{"line":259,"column":240,"offset":15660},"end":{"line":259,"column":247,"offset":15667}}}],"position":{"start":{"line":259,"column":1,"offset":15421},"end":{"line":259,"column":247,"offset":15667}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"228b\">  ","position":{"start":{"line":260,"column":3,"offset":15670},"end":{"line":260,"column":21,"offset":15688}}},{"type":"text","value":"\n"}],"position":{"start":{"line":260,"column":1,"offset":15668},"end":{"line":260,"column":21,"offset":15688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"</span>","position":{"start":{"line":261,"column":3,"offset":15691},"end":{"line":261,"column":10,"offset":15698}}},{"type":"text","value":"\n"}],"position":{"start":{"line":261,"column":1,"offset":15689},"end":{"line":261,"column":10,"offset":15698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"54d4\">","position":{"start":{"line":262,"column":3,"offset":15701},"end":{"line":262,"column":19,"offset":15717}}},{"type":"text","value":"Employee Database","position":{"start":{"line":262,"column":19,"offset":15717},"end":{"line":262,"column":36,"offset":15734}}},{"type":"raw","value":"</span>","position":{"start":{"line":262,"column":36,"offset":15734},"end":{"line":262,"column":43,"offset":15741}}}],"position":{"start":{"line":262,"column":1,"offset":15699},"end":{"line":262,"column":43,"offset":15741}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c6fb\">","position":{"start":{"line":263,"column":3,"offset":15744},"end":{"line":263,"column":19,"offset":15760}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/employee-database-exercise/index.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":263,"column":19,"offset":15760},"end":{"line":263,"column":148,"offset":15889}}},{"type":"raw","value":"<strong>","position":{"start":{"line":263,"column":148,"offset":15889},"end":{"line":263,"column":156,"offset":15897}}},{"type":"text","value":"BASIC queries on employee Database [115 Exercises]","position":{"start":{"line":263,"column":156,"offset":15897},"end":{"line":263,"column":206,"offset":15947}}},{"type":"raw","value":"</strong>","position":{"start":{"line":263,"column":206,"offset":15947},"end":{"line":263,"column":215,"offset":15956}}},{"type":"raw","value":"</a>","position":{"start":{"line":263,"column":215,"offset":15956},"end":{"line":263,"column":219,"offset":15960}}},{"type":"raw","value":"</span>","position":{"start":{"line":263,"column":219,"offset":15960},"end":{"line":263,"column":226,"offset":15967}}}],"position":{"start":{"line":263,"column":1,"offset":15742},"end":{"line":263,"column":226,"offset":15967}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0419\">","position":{"start":{"line":264,"column":3,"offset":15970},"end":{"line":264,"column":19,"offset":15986}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql-exercises/employee-database-exercise/subqueries-exercises-on-employee-database.php\" class=\"markup--anchor markup--li-anchor\">","position":{"start":{"line":264,"column":19,"offset":15986},"end":{"line":264,"column":184,"offset":16151}}},{"type":"raw","value":"<strong>","position":{"start":{"line":264,"column":184,"offset":16151},"end":{"line":264,"column":192,"offset":16159}}},{"type":"text","value":"SUBQUERIES on employee Database [77 Exercises]","position":{"start":{"line":264,"column":192,"offset":16159},"end":{"line":264,"column":238,"offset":16205}}},{"type":"raw","value":"</strong>","position":{"start":{"line":264,"column":238,"offset":16205},"end":{"line":264,"column":247,"offset":16214}}},{"type":"raw","value":"</a>","position":{"start":{"line":264,"column":247,"offset":16214},"end":{"line":264,"column":251,"offset":16218}}},{"type":"raw","value":"</span>","position":{"start":{"line":264,"column":251,"offset":16218},"end":{"line":264,"column":258,"offset":16225}}}],"position":{"start":{"line":264,"column":1,"offset":15968},"end":{"line":264,"column":258,"offset":16225}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"raw","value":"<span id=\"cb3e\">  \n</span>","position":{"start":{"line":265,"column":3,"offset":16228},"end":{"line":266,"column":12,"offset":16258}}},{"type":"text","value":"\n"}],"position":{"start":{"line":265,"column":1,"offset":16226},"end":{"line":266,"column":12,"offset":16258}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b3da\">","position":{"start":{"line":267,"column":3,"offset":16261},"end":{"line":267,"column":19,"offset":16277}}},{"type":"text","value":"More to come!","position":{"start":{"line":267,"column":19,"offset":16277},"end":{"line":267,"column":32,"offset":16290}}},{"type":"raw","value":"</span>","position":{"start":{"line":267,"column":32,"offset":16290},"end":{"line":267,"column":39,"offset":16297}}}],"position":{"start":{"line":267,"column":1,"offset":16259},"end":{"line":267,"column":39,"offset":16297}}},{"type":"text","value":"\n"}],"position":{"start":{"line":223,"column":1,"offset":11399},"end":{"line":267,"column":39,"offset":16297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Objective 3 — write database access methods","position":{"start":{"line":269,"column":5,"offset":16303},"end":{"line":269,"column":48,"offset":16346}}}],"position":{"start":{"line":269,"column":1,"offset":16299},"end":{"line":269,"column":48,"offset":16346}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":271,"column":5,"offset":16352},"end":{"line":271,"column":13,"offset":16360}}}],"position":{"start":{"line":271,"column":1,"offset":16348},"end":{"line":271,"column":13,"offset":16360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we can write database code directly into our endpoints, best practices dictate that all database logic exists in separate, modular methods. These files containing database access helpers are often called ","position":{"start":{"line":273,"column":1,"offset":16362},"end":{"line":273,"column":211,"offset":16572}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"models","position":{"start":{"line":273,"column":213,"offset":16574},"end":{"line":273,"column":219,"offset":16580}}}],"position":{"start":{"line":273,"column":211,"offset":16572},"end":{"line":273,"column":221,"offset":16582}}}],"position":{"start":{"line":273,"column":1,"offset":16362},"end":{"line":273,"column":221,"offset":16582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":275,"column":5,"offset":16588},"end":{"line":275,"column":17,"offset":16600}}}],"position":{"start":{"line":275,"column":1,"offset":16584},"end":{"line":275,"column":17,"offset":16600}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To handle CRUD operations for a single resource, we would want to create a ","position":{"start":{"line":277,"column":1,"offset":16602},"end":{"line":277,"column":76,"offset":16677}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"model","position":{"start":{"line":277,"column":78,"offset":16679},"end":{"line":277,"column":83,"offset":16684}}}],"position":{"start":{"line":277,"column":76,"offset":16677},"end":{"line":277,"column":85,"offset":16686}}},{"type":"text","value":" (or database access file) containing the following methods:","position":{"start":{"line":277,"column":85,"offset":16686},"end":{"line":277,"column":145,"offset":16746}}}],"position":{"start":{"line":277,"column":1,"offset":16602},"end":{"line":277,"column":145,"offset":16746}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n}\n\nfunction findById(id) {\n}\n\nfunction add(user) {\n}\n\nfunction update(changes, id) {\n}\n\nfunction remove(id) {\n}\n"}],"position":{"start":{"line":279,"column":1,"offset":16748},"end":{"line":292,"column":6,"offset":16917}}}],"position":{"start":{"line":279,"column":1,"offset":16748},"end":{"line":292,"column":6,"offset":16917}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each of these functions would use Knex logic to perform the necessary database operation.","position":{"start":{"line":294,"column":1,"offset":16919},"end":{"line":294,"column":90,"offset":17008}}}],"position":{"start":{"line":294,"column":1,"offset":16919},"end":{"line":294,"column":90,"offset":17008}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n  return db('users');\n}\n"}],"position":{"start":{"line":296,"column":1,"offset":17010},"end":{"line":298,"column":6,"offset":17063}}}],"position":{"start":{"line":296,"column":1,"offset":17010},"end":{"line":298,"column":6,"offset":17063}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For each method, we can choose what value to return. For example, we may prefer ","position":{"start":{"line":300,"column":1,"offset":17065},"end":{"line":300,"column":81,"offset":17145}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":300,"column":81,"offset":17145},"end":{"line":300,"column":93,"offset":17157}}},{"type":"text","value":" to return a single ","position":{"start":{"line":300,"column":93,"offset":17157},"end":{"line":300,"column":113,"offset":17177}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":300,"column":113,"offset":17177},"end":{"line":300,"column":119,"offset":17183}}},{"type":"text","value":" object rather than an array.","position":{"start":{"line":300,"column":119,"offset":17183},"end":{"line":300,"column":148,"offset":17212}}}],"position":{"start":{"line":300,"column":1,"offset":17065},"end":{"line":300,"column":148,"offset":17212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function findById(id) {\n// first() returns the first entry in the db matching the query\n  return db('users').where({ id }).first();\n}\n"}],"position":{"start":{"line":302,"column":1,"offset":17214},"end":{"line":305,"column":6,"offset":17363}}}],"position":{"start":{"line":302,"column":1,"offset":17214},"end":{"line":305,"column":6,"offset":17363}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also use existing methods like ","position":{"start":{"line":307,"column":1,"offset":17365},"end":{"line":307,"column":39,"offset":17403}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":307,"column":39,"offset":17403},"end":{"line":307,"column":51,"offset":17415}}},{"type":"text","value":" to help ","position":{"start":{"line":307,"column":51,"offset":17415},"end":{"line":307,"column":60,"offset":17424}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"add()"}],"position":{"start":{"line":307,"column":60,"offset":17424},"end":{"line":307,"column":67,"offset":17431}}},{"type":"text","value":" return the new user (instead of just the id).","position":{"start":{"line":307,"column":67,"offset":17431},"end":{"line":307,"column":113,"offset":17477}}}],"position":{"start":{"line":307,"column":1,"offset":17365},"end":{"line":307,"column":113,"offset":17477}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function add(user) {\n  db('users').insert(user)\n    .then(ids => {\n      return findById(ids[0]);\n    });\n}\n"}],"position":{"start":{"line":309,"column":1,"offset":17479},"end":{"line":314,"column":6,"offset":17610}}}],"position":{"start":{"line":309,"column":1,"offset":17479},"end":{"line":314,"column":6,"offset":17610}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once all methods are written as desired, we can export them like so:","position":{"start":{"line":316,"column":1,"offset":17612},"end":{"line":316,"column":69,"offset":17680}}}],"position":{"start":{"line":316,"column":1,"offset":17612},"end":{"line":316,"column":69,"offset":17680}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n  find,\n  findById,\n  add,\n  update,\n  delete,\n}\n"}],"position":{"start":{"line":318,"column":1,"offset":17682},"end":{"line":324,"column":6,"offset":17777}}}],"position":{"start":{"line":318,"column":1,"offset":17682},"end":{"line":324,"column":6,"offset":17777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"…and use the helpers in our endpoints","position":{"start":{"line":326,"column":1,"offset":17779},"end":{"line":326,"column":38,"offset":17816}}}],"position":{"start":{"line":326,"column":1,"offset":17779},"end":{"line":326,"column":38,"offset":17816}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const User = require('./user-model.js');\n\nrouter.get('/', (req, res) => {\n  User.find()\n    .then(users => {\n      res.json(users);\n    })\n    .catch(&nbsp;err => {});\n});\n"}],"position":{"start":{"line":328,"column":1,"offset":17818},"end":{"line":336,"column":8,"offset":18021}}}],"position":{"start":{"line":328,"column":1,"offset":17818},"end":{"line":336,"column":8,"offset":18021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There should no be ","position":{"start":{"line":338,"column":1,"offset":18023},"end":{"line":338,"column":20,"offset":18042}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":338,"column":20,"offset":18042},"end":{"line":338,"column":26,"offset":18048}}},{"type":"text","value":" code in the endpoints themselves.","position":{"start":{"line":338,"column":26,"offset":18048},"end":{"line":338,"column":60,"offset":18082}}}],"position":{"start":{"line":338,"column":1,"offset":18023},"end":{"line":338,"column":60,"offset":18082}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>","position":{"start":{"line":340,"column":1,"offset":18084},"end":{"line":340,"column":119,"offset":18202}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### A database is a collection of data organized for easy retrieval and manipulation.","position":{"start":{"line":342,"column":1,"offset":18204},"end":{"line":342,"column":204,"offset":18407}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We're concerned only with digital databases, those that run on computers or other electronic devices. Digital databases have been around since the 1960s. Relational databases, those which store \"related\" data, are the oldest and most common type of database in use today.","position":{"start":{"line":344,"column":1,"offset":18409},"end":{"line":344,"column":272,"offset":18680}}}],"position":{"start":{"line":344,"column":1,"offset":18409},"end":{"line":344,"column":272,"offset":18680}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Data Persistence","position":{"start":{"line":346,"column":5,"offset":18686},"end":{"line":346,"column":21,"offset":18702}}}],"position":{"start":{"line":346,"column":1,"offset":18682},"end":{"line":346,"column":21,"offset":18702}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A database is often necessary because our application or code requires data persistence. This term refers to data that is infrequently accessed and not likely to be modified. In less technical terms, the information will be safely stored and remain untouched unless intentionally modified.","position":{"start":{"line":348,"column":1,"offset":18704},"end":{"line":348,"column":290,"offset":18993}}}],"position":{"start":{"line":348,"column":1,"offset":18704},"end":{"line":348,"column":290,"offset":18993}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A familiar example of non-persistent data would be JavaScript objects and arrays, which reset each time the code runs.","position":{"start":{"line":350,"column":1,"offset":18995},"end":{"line":350,"column":119,"offset":19113}}}],"position":{"start":{"line":350,"column":1,"offset":18995},"end":{"line":350,"column":119,"offset":19113}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Relational Databases","position":{"start":{"line":352,"column":5,"offset":19119},"end":{"line":352,"column":25,"offset":19139}}}],"position":{"start":{"line":352,"column":1,"offset":19115},"end":{"line":352,"column":25,"offset":19139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In relational databases, ","position":{"start":{"line":354,"column":1,"offset":19141},"end":{"line":354,"column":26,"offset":19166}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"the data is stored in tabular format grouped into rows and columns","position":{"start":{"line":354,"column":28,"offset":19168},"end":{"line":354,"column":94,"offset":19234}}}],"position":{"start":{"line":354,"column":26,"offset":19166},"end":{"line":354,"column":96,"offset":19236}}},{"type":"text","value":" (similar to spreadsheets). A collection of rows is called a table. Each row represents a single record in the table and is made up of one or more columns.","position":{"start":{"line":354,"column":96,"offset":19236},"end":{"line":354,"column":251,"offset":19391}}}],"position":{"start":{"line":354,"column":1,"offset":19141},"end":{"line":354,"column":251,"offset":19391}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These kinds of databases are relational because a ","position":{"start":{"line":356,"column":1,"offset":19393},"end":{"line":356,"column":51,"offset":19443}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"relation","position":{"start":{"line":356,"column":52,"offset":19444},"end":{"line":356,"column":60,"offset":19452}}}],"position":{"start":{"line":356,"column":51,"offset":19443},"end":{"line":356,"column":61,"offset":19453}}},{"type":"text","value":" is a mathematical idea equivalent to a table. So relational databases are databases that store their data in tables.","position":{"start":{"line":356,"column":61,"offset":19453},"end":{"line":356,"column":178,"offset":19570}}}],"position":{"start":{"line":356,"column":1,"offset":19393},"end":{"line":356,"column":178,"offset":19570}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Tables","position":{"start":{"line":358,"column":5,"offset":19576},"end":{"line":358,"column":11,"offset":19582}}}],"position":{"start":{"line":358,"column":1,"offset":19572},"end":{"line":358,"column":11,"offset":19582}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Below are some basic facts about tables:","position":{"start":{"line":360,"column":3,"offset":19586},"end":{"line":360,"column":43,"offset":19626}}}],"position":{"start":{"line":360,"column":1,"offset":19584},"end":{"line":360,"column":45,"offset":19628}}}],"position":{"start":{"line":360,"column":1,"offset":19584},"end":{"line":360,"column":45,"offset":19628}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables organize data in rows and columns.","position":{"start":{"line":362,"column":3,"offset":19632},"end":{"line":362,"column":44,"offset":19673}}}],"position":{"start":{"line":362,"column":3,"offset":19632},"end":{"line":362,"column":44,"offset":19673}}},{"type":"text","value":"\n"}],"position":{"start":{"line":362,"column":1,"offset":19630},"end":{"line":362,"column":44,"offset":19673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each row in a table represents one distinct record.","position":{"start":{"line":364,"column":3,"offset":19677},"end":{"line":364,"column":54,"offset":19728}}}],"position":{"start":{"line":364,"column":3,"offset":19677},"end":{"line":364,"column":54,"offset":19728}}},{"type":"text","value":"\n"}],"position":{"start":{"line":364,"column":1,"offset":19675},"end":{"line":364,"column":54,"offset":19728}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each column represents a field or attribute that is common to all the records.","position":{"start":{"line":366,"column":3,"offset":19732},"end":{"line":366,"column":81,"offset":19810}}}],"position":{"start":{"line":366,"column":3,"offset":19732},"end":{"line":366,"column":81,"offset":19810}}},{"type":"text","value":"\n"}],"position":{"start":{"line":366,"column":1,"offset":19730},"end":{"line":366,"column":81,"offset":19810}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fields should have a descriptive name and a data type appropriate for the attribute it represents.","position":{"start":{"line":368,"column":3,"offset":19814},"end":{"line":368,"column":101,"offset":19912}}}],"position":{"start":{"line":368,"column":3,"offset":19814},"end":{"line":368,"column":101,"offset":19912}}},{"type":"text","value":"\n"}],"position":{"start":{"line":368,"column":1,"offset":19812},"end":{"line":368,"column":101,"offset":19912}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables usually have more rows than columns.","position":{"start":{"line":370,"column":3,"offset":19916},"end":{"line":370,"column":46,"offset":19959}}}],"position":{"start":{"line":370,"column":3,"offset":19916},"end":{"line":370,"column":46,"offset":19959}}},{"type":"text","value":"\n"}],"position":{"start":{"line":370,"column":1,"offset":19914},"end":{"line":370,"column":46,"offset":19959}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tables have primary keys that uniquely identify each row.","position":{"start":{"line":372,"column":3,"offset":19963},"end":{"line":372,"column":60,"offset":20020}}}],"position":{"start":{"line":372,"column":3,"offset":19963},"end":{"line":372,"column":60,"offset":20020}}},{"type":"text","value":"\n"}],"position":{"start":{"line":372,"column":1,"offset":19961},"end":{"line":372,"column":60,"offset":20020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Foreign keys represent the relationships with other tables.","position":{"start":{"line":374,"column":3,"offset":20024},"end":{"line":374,"column":62,"offset":20083}}}],"position":{"start":{"line":374,"column":3,"offset":20024},"end":{"line":374,"column":62,"offset":20083}}},{"type":"text","value":"\n"}],"position":{"start":{"line":374,"column":1,"offset":20022},"end":{"line":374,"column":62,"offset":20083}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*7ZPYzWNRcs2PBL6p.jpg\" class=\"graf-image\" /></figure><figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### SQL:","position":{"start":{"line":376,"column":1,"offset":20085},"end":{"line":376,"column":239,"offset":20323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQL is a standard language, which means that it almost certainly will be supported, no matter how your database is managed. That said, be aware that the SQL language can vary depending on database management tools. This lesson focuses on a set of core commands that never change. Learning the standard commands is an excellent introduction since the knowledge transfers between database products.","position":{"start":{"line":378,"column":1,"offset":20325},"end":{"line":378,"column":397,"offset":20721}}}],"position":{"start":{"line":378,"column":1,"offset":20325},"end":{"line":378,"column":397,"offset":20721}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for SQL is English-like and requires fewer symbols than programming languages like C, Java, and JavaScript.","position":{"start":{"line":380,"column":1,"offset":20723},"end":{"line":380,"column":119,"offset":20841}}}],"position":{"start":{"line":380,"column":1,"offset":20723},"end":{"line":380,"column":119,"offset":20841}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is declarative and concise, which means there is a lot less to learn to use it effectively.","position":{"start":{"line":382,"column":1,"offset":20843},"end":{"line":382,"column":95,"offset":20937}}}],"position":{"start":{"line":382,"column":1,"offset":20843},"end":{"line":382,"column":95,"offset":20937}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When learning SQL, it is helpful to understand that each command is designed for a different purpose. If we classify the commands by purpose, we'll end up with the following sub-categories of SQL:","position":{"start":{"line":384,"column":1,"offset":20939},"end":{"line":384,"column":197,"offset":21135}}}],"position":{"start":{"line":384,"column":1,"offset":20939},"end":{"line":384,"column":197,"offset":21135}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"aba8\">","position":{"start":{"line":386,"column":3,"offset":21139},"end":{"line":386,"column":19,"offset":21155}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Definition Language (DDL)","position":{"start":{"line":386,"column":21,"offset":21157},"end":{"line":386,"column":51,"offset":21187}}}],"position":{"start":{"line":386,"column":19,"offset":21155},"end":{"line":386,"column":53,"offset":21189}}},{"type":"text","value":": used to modify database objects. Some examples are: ","position":{"start":{"line":386,"column":53,"offset":21189},"end":{"line":386,"column":107,"offset":21243}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"CREATE TABLE"}],"position":{"start":{"line":386,"column":107,"offset":21243},"end":{"line":386,"column":121,"offset":21257}}},{"type":"text","value":", ","position":{"start":{"line":386,"column":121,"offset":21257},"end":{"line":386,"column":123,"offset":21259}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ALTER TABLE"}],"position":{"start":{"line":386,"column":123,"offset":21259},"end":{"line":386,"column":136,"offset":21272}}},{"type":"text","value":", and ","position":{"start":{"line":386,"column":136,"offset":21272},"end":{"line":386,"column":142,"offset":21278}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DROP TABLE"}],"position":{"start":{"line":386,"column":142,"offset":21278},"end":{"line":386,"column":154,"offset":21290}}},{"type":"text","value":".","position":{"start":{"line":386,"column":154,"offset":21290},"end":{"line":386,"column":155,"offset":21291}}},{"type":"raw","value":"</span>","position":{"start":{"line":386,"column":155,"offset":21291},"end":{"line":386,"column":162,"offset":21298}}}],"position":{"start":{"line":386,"column":1,"offset":21137},"end":{"line":386,"column":162,"offset":21298}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4f3f\">","position":{"start":{"line":387,"column":3,"offset":21301},"end":{"line":387,"column":19,"offset":21317}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Manipulation Language (DML)","position":{"start":{"line":387,"column":21,"offset":21319},"end":{"line":387,"column":53,"offset":21351}}}],"position":{"start":{"line":387,"column":19,"offset":21317},"end":{"line":387,"column":55,"offset":21353}}},{"type":"text","value":": used to manipulate the data stored in the database. Some examples are: ","position":{"start":{"line":387,"column":55,"offset":21353},"end":{"line":387,"column":128,"offset":21426}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":387,"column":128,"offset":21426},"end":{"line":387,"column":136,"offset":21434}}},{"type":"text","value":", ","position":{"start":{"line":387,"column":136,"offset":21434},"end":{"line":387,"column":138,"offset":21436}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":387,"column":138,"offset":21436},"end":{"line":387,"column":146,"offset":21444}}},{"type":"text","value":", and ","position":{"start":{"line":387,"column":146,"offset":21444},"end":{"line":387,"column":152,"offset":21450}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":387,"column":152,"offset":21450},"end":{"line":387,"column":160,"offset":21458}}},{"type":"text","value":".","position":{"start":{"line":387,"column":160,"offset":21458},"end":{"line":387,"column":161,"offset":21459}}},{"type":"raw","value":"</span>","position":{"start":{"line":387,"column":161,"offset":21459},"end":{"line":387,"column":168,"offset":21466}}}],"position":{"start":{"line":387,"column":1,"offset":21299},"end":{"line":387,"column":168,"offset":21466}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"e1f2\">","position":{"start":{"line":388,"column":3,"offset":21469},"end":{"line":388,"column":19,"offset":21485}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Query Language (DQL)","position":{"start":{"line":388,"column":21,"offset":21487},"end":{"line":388,"column":46,"offset":21512}}}],"position":{"start":{"line":388,"column":19,"offset":21485},"end":{"line":388,"column":48,"offset":21514}}},{"type":"text","value":": used to ask questions about the data stored in the database. The most commonly used SQL command is ","position":{"start":{"line":388,"column":48,"offset":21514},"end":{"line":388,"column":149,"offset":21615}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":388,"column":149,"offset":21615},"end":{"line":388,"column":157,"offset":21623}}},{"type":"text","value":", and it falls in this category.","position":{"start":{"line":388,"column":157,"offset":21623},"end":{"line":388,"column":189,"offset":21655}}},{"type":"raw","value":"</span>","position":{"start":{"line":388,"column":189,"offset":21655},"end":{"line":388,"column":196,"offset":21662}}}],"position":{"start":{"line":388,"column":1,"offset":21467},"end":{"line":388,"column":196,"offset":21662}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4474\">","position":{"start":{"line":389,"column":3,"offset":21665},"end":{"line":389,"column":19,"offset":21681}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data Control Language (DCL)","position":{"start":{"line":389,"column":21,"offset":21683},"end":{"line":389,"column":48,"offset":21710}}}],"position":{"start":{"line":389,"column":19,"offset":21681},"end":{"line":389,"column":50,"offset":21712}}},{"type":"text","value":": used to manage database security and user's access to data. These commands fall into the realm of Database Administrators. Some examples are ","position":{"start":{"line":389,"column":50,"offset":21712},"end":{"line":389,"column":193,"offset":21855}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GRANT"}],"position":{"start":{"line":389,"column":193,"offset":21855},"end":{"line":389,"column":200,"offset":21862}}},{"type":"text","value":" and ","position":{"start":{"line":389,"column":200,"offset":21862},"end":{"line":389,"column":205,"offset":21867}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"REVOKE"}],"position":{"start":{"line":389,"column":205,"offset":21867},"end":{"line":389,"column":213,"offset":21875}}},{"type":"text","value":".","position":{"start":{"line":389,"column":213,"offset":21875},"end":{"line":389,"column":214,"offset":21876}}},{"type":"raw","value":"</span>","position":{"start":{"line":389,"column":214,"offset":21876},"end":{"line":389,"column":221,"offset":21883}}}],"position":{"start":{"line":389,"column":1,"offset":21663},"end":{"line":389,"column":221,"offset":21883}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"921b\">","position":{"start":{"line":390,"column":3,"offset":21886},"end":{"line":390,"column":19,"offset":21902}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Transaction Control Commands","position":{"start":{"line":390,"column":21,"offset":21904},"end":{"line":390,"column":49,"offset":21932}}}],"position":{"start":{"line":390,"column":19,"offset":21902},"end":{"line":390,"column":51,"offset":21934}}},{"type":"text","value":": used for managing groups of statements that must execute as a unit or not execute at all. Examples are ","position":{"start":{"line":390,"column":51,"offset":21934},"end":{"line":390,"column":156,"offset":22039}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMMIT"}],"position":{"start":{"line":390,"column":156,"offset":22039},"end":{"line":390,"column":164,"offset":22047}}},{"type":"text","value":" and ","position":{"start":{"line":390,"column":164,"offset":22047},"end":{"line":390,"column":169,"offset":22052}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ROLLBACK"}],"position":{"start":{"line":390,"column":169,"offset":22052},"end":{"line":390,"column":179,"offset":22062}}},{"type":"text","value":".","position":{"start":{"line":390,"column":179,"offset":22062},"end":{"line":390,"column":180,"offset":22063}}},{"type":"raw","value":"</span>","position":{"start":{"line":390,"column":180,"offset":22063},"end":{"line":390,"column":187,"offset":22070}}}],"position":{"start":{"line":390,"column":1,"offset":21884},"end":{"line":390,"column":187,"offset":22070}}},{"type":"text","value":"\n"}],"position":{"start":{"line":386,"column":1,"offset":21137},"end":{"line":390,"column":187,"offset":22070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As a developer, you'll need to get familiar with DDL and become proficient using DML and DQL. This lesson will cover only DML and DQL commands.","position":{"start":{"line":392,"column":1,"offset":22072},"end":{"line":392,"column":144,"offset":22215}}}],"position":{"start":{"line":392,"column":1,"offset":22072},"end":{"line":392,"column":144,"offset":22215}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":394,"column":1,"offset":22217},"end":{"line":394,"column":4,"offset":22220}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>The four SQL operations covered in this section will allow a user to **query**, **insert**, and **modify** a database table.","position":{"start":{"line":396,"column":1,"offset":22222},"end":{"line":396,"column":243,"offset":22464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Query","position":{"start":{"line":398,"column":5,"offset":22470},"end":{"line":398,"column":10,"offset":22475}}}],"position":{"start":{"line":398,"column":1,"offset":22466},"end":{"line":398,"column":10,"offset":22475}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":400,"column":1,"offset":22477},"end":{"line":400,"column":3,"offset":22479}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"query","position":{"start":{"line":400,"column":5,"offset":22481},"end":{"line":400,"column":10,"offset":22486}}}],"position":{"start":{"line":400,"column":3,"offset":22479},"end":{"line":400,"column":12,"offset":22488}}},{"type":"text","value":" is a SQL statement used to retrieve data from a database. The command used to write queries is ","position":{"start":{"line":400,"column":12,"offset":22488},"end":{"line":400,"column":108,"offset":22584}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":400,"column":108,"offset":22584},"end":{"line":400,"column":116,"offset":22592}}},{"type":"text","value":", and it is one of the most commonly used SQL commands.","position":{"start":{"line":400,"column":116,"offset":22592},"end":{"line":400,"column":171,"offset":22647}}}],"position":{"start":{"line":400,"column":1,"offset":22477},"end":{"line":400,"column":171,"offset":22647}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for a ","position":{"start":{"line":402,"column":1,"offset":22649},"end":{"line":402,"column":24,"offset":22672}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":402,"column":24,"offset":22672},"end":{"line":402,"column":32,"offset":22680}}},{"type":"text","value":" statement is this:","position":{"start":{"line":402,"column":32,"offset":22680},"end":{"line":402,"column":51,"offset":22699}}}],"position":{"start":{"line":402,"column":1,"offset":22649},"end":{"line":402,"column":51,"offset":22699}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select <selection> from <table name>;\n"}],"position":{"start":{"line":404,"column":1,"offset":22701},"end":{"line":404,"column":42,"offset":22742}}}],"position":{"start":{"line":404,"column":1,"offset":22701},"end":{"line":404,"column":42,"offset":22742}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To see all the fields on a table, we can use a ","position":{"start":{"line":406,"column":1,"offset":22744},"end":{"line":406,"column":48,"offset":22791}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"*"}],"position":{"start":{"line":406,"column":48,"offset":22791},"end":{"line":406,"column":51,"offset":22794}}},{"type":"text","value":" as the ","position":{"start":{"line":406,"column":51,"offset":22794},"end":{"line":406,"column":59,"offset":22802}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"selection"}],"position":{"start":{"line":406,"column":59,"offset":22802},"end":{"line":406,"column":70,"offset":22813}}},{"type":"text","value":".","position":{"start":{"line":406,"column":70,"offset":22813},"end":{"line":406,"column":71,"offset":22814}}}],"position":{"start":{"line":406,"column":1,"offset":22744},"end":{"line":406,"column":71,"offset":22814}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees;\n"}],"position":{"start":{"line":408,"column":1,"offset":22816},"end":{"line":408,"column":29,"offset":22844}}}],"position":{"start":{"line":408,"column":1,"offset":22816},"end":{"line":408,"column":29,"offset":22844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The preceding statement would show all the records and all the columns for each record in the ","position":{"start":{"line":410,"column":1,"offset":22846},"end":{"line":410,"column":95,"offset":22940}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"employees"}],"position":{"start":{"line":410,"column":95,"offset":22940},"end":{"line":410,"column":106,"offset":22951}}},{"type":"text","value":" table.","position":{"start":{"line":410,"column":106,"offset":22951},"end":{"line":410,"column":113,"offset":22958}}}],"position":{"start":{"line":410,"column":1,"offset":22846},"end":{"line":410,"column":113,"offset":22958}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To pick the fields we want to see, we use a comma-separated list:","position":{"start":{"line":412,"column":1,"offset":22960},"end":{"line":412,"column":66,"offset":23025}}}],"position":{"start":{"line":412,"column":1,"offset":22960},"end":{"line":412,"column":66,"offset":23025}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select first_name, last_name, salary from employees;\n"}],"position":{"start":{"line":414,"column":1,"offset":23027},"end":{"line":414,"column":57,"offset":23083}}}],"position":{"start":{"line":414,"column":1,"offset":23027},"end":{"line":414,"column":57,"offset":23083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The return of that statement would hold all records from the listed fields.","position":{"start":{"line":416,"column":1,"offset":23085},"end":{"line":416,"column":76,"offset":23160}}}],"position":{"start":{"line":416,"column":1,"offset":23085},"end":{"line":416,"column":76,"offset":23160}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can extend the ","position":{"start":{"line":418,"column":1,"offset":23162},"end":{"line":418,"column":19,"offset":23180}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":418,"column":19,"offset":23180},"end":{"line":418,"column":27,"offset":23188}}},{"type":"text","value":" command's capabilities using ","position":{"start":{"line":418,"column":27,"offset":23188},"end":{"line":418,"column":57,"offset":23218}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"clauses"}],"position":{"start":{"line":418,"column":57,"offset":23218},"end":{"line":418,"column":66,"offset":23227}}},{"type":"text","value":" for things like filtering, sorting, pagination, and more.","position":{"start":{"line":418,"column":66,"offset":23227},"end":{"line":418,"column":124,"offset":23285}}}],"position":{"start":{"line":418,"column":1,"offset":23162},"end":{"line":418,"column":124,"offset":23285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It is possible to query multiple tables in a single query. But, in this section, we only perform queries on a single table. We will cover performing queries on multiple tables in another section.","position":{"start":{"line":420,"column":1,"offset":23287},"end":{"line":420,"column":196,"offset":23482}}}],"position":{"start":{"line":420,"column":1,"offset":23287},"end":{"line":420,"column":196,"offset":23482}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Insert","position":{"start":{"line":422,"column":5,"offset":23488},"end":{"line":422,"column":11,"offset":23494}}}],"position":{"start":{"line":422,"column":1,"offset":23484},"end":{"line":422,"column":11,"offset":23494}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To ","position":{"start":{"line":424,"column":1,"offset":23496},"end":{"line":424,"column":4,"offset":23499}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"insert","position":{"start":{"line":424,"column":6,"offset":23501},"end":{"line":424,"column":12,"offset":23507}}}],"position":{"start":{"line":424,"column":4,"offset":23499},"end":{"line":424,"column":14,"offset":23509}}},{"type":"text","value":" new data into a table, we'll use the ","position":{"start":{"line":424,"column":14,"offset":23509},"end":{"line":424,"column":52,"offset":23547}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":424,"column":52,"offset":23547},"end":{"line":424,"column":60,"offset":23555}}},{"type":"text","value":" command. The basic syntax for an ","position":{"start":{"line":424,"column":60,"offset":23555},"end":{"line":424,"column":94,"offset":23589}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":424,"column":94,"offset":23589},"end":{"line":424,"column":102,"offset":23597}}},{"type":"text","value":" statement is this:","position":{"start":{"line":424,"column":102,"offset":23597},"end":{"line":424,"column":121,"offset":23616}}}],"position":{"start":{"line":424,"column":1,"offset":23496},"end":{"line":424,"column":121,"offset":23616}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"insert into <table name> (<selection>) values (<values>)\n"}],"position":{"start":{"line":426,"column":1,"offset":23618},"end":{"line":426,"column":61,"offset":23678}}}],"position":{"start":{"line":426,"column":1,"offset":23618},"end":{"line":426,"column":61,"offset":23678}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this formula, we can specify which values will be inserted into which fields like so:","position":{"start":{"line":428,"column":1,"offset":23680},"end":{"line":428,"column":92,"offset":23771}}}],"position":{"start":{"line":428,"column":1,"offset":23680},"end":{"line":428,"column":92,"offset":23771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"insert into Customers (Country, CustomerName, ContactName, Address, City, PostalCode)\nvalues ('USA', 'WebDev School', 'Austen Allred', '1 WebDev Court', 'Provo', '84601');\n"}],"position":{"start":{"line":430,"column":1,"offset":23773},"end":{"line":431,"column":90,"offset":23952}}}],"position":{"start":{"line":430,"column":1,"offset":23773},"end":{"line":431,"column":90,"offset":23952}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Modify","position":{"start":{"line":433,"column":5,"offset":23958},"end":{"line":433,"column":11,"offset":23964}}}],"position":{"start":{"line":433,"column":1,"offset":23954},"end":{"line":433,"column":11,"offset":23964}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Modifying","position":{"start":{"line":435,"column":3,"offset":23968},"end":{"line":435,"column":12,"offset":23977}}}],"position":{"start":{"line":435,"column":1,"offset":23966},"end":{"line":435,"column":14,"offset":23979}}},{"type":"text","value":" a database consists of updating and removing records. For these operations, we'll use ","position":{"start":{"line":435,"column":14,"offset":23979},"end":{"line":435,"column":101,"offset":24066}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":435,"column":101,"offset":24066},"end":{"line":435,"column":109,"offset":24074}}},{"type":"text","value":" and ","position":{"start":{"line":435,"column":109,"offset":24074},"end":{"line":435,"column":114,"offset":24079}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":435,"column":114,"offset":24079},"end":{"line":435,"column":122,"offset":24087}}},{"type":"text","value":" commands, respectively.","position":{"start":{"line":435,"column":122,"offset":24087},"end":{"line":435,"column":146,"offset":24111}}}],"position":{"start":{"line":435,"column":1,"offset":23966},"end":{"line":435,"column":146,"offset":24111}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for an ","position":{"start":{"line":437,"column":1,"offset":24113},"end":{"line":437,"column":25,"offset":24137}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":437,"column":25,"offset":24137},"end":{"line":437,"column":33,"offset":24145}}},{"type":"text","value":" statement is:","position":{"start":{"line":437,"column":33,"offset":24145},"end":{"line":437,"column":47,"offset":24159}}}],"position":{"start":{"line":437,"column":1,"offset":24113},"end":{"line":437,"column":47,"offset":24159}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update <table name> set <field> = <value> where <condition>;\n"}],"position":{"start":{"line":439,"column":1,"offset":24161},"end":{"line":439,"column":65,"offset":24225}}}],"position":{"start":{"line":439,"column":1,"offset":24161},"end":{"line":439,"column":65,"offset":24225}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The basic syntax for a ","position":{"start":{"line":441,"column":1,"offset":24227},"end":{"line":441,"column":24,"offset":24250}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE"}],"position":{"start":{"line":441,"column":24,"offset":24250},"end":{"line":441,"column":32,"offset":24258}}},{"type":"text","value":" statement is:","position":{"start":{"line":441,"column":32,"offset":24258},"end":{"line":441,"column":46,"offset":24272}}}],"position":{"start":{"line":441,"column":1,"offset":24227},"end":{"line":441,"column":46,"offset":24272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete from <table name> where <condition>;\n"}],"position":{"start":{"line":443,"column":1,"offset":24274},"end":{"line":443,"column":48,"offset":24321}}}],"position":{"start":{"line":443,"column":1,"offset":24274},"end":{"line":443,"column":48,"offset":24321}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":445,"column":1,"offset":24323},"end":{"line":445,"column":4,"offset":24326}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Filtering results using WHERE clause","position":{"start":{"line":447,"column":1,"offset":24328},"end":{"line":447,"column":159,"offset":24486}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When querying a database, the default result will be every entry in the given table. However, often, we are looking for a specific record or a set of records that meets certain criteria.","position":{"start":{"line":449,"column":1,"offset":24488},"end":{"line":449,"column":187,"offset":24674}}}],"position":{"start":{"line":449,"column":1,"offset":24488},"end":{"line":449,"column":187,"offset":24674}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":451,"column":1,"offset":24676},"end":{"line":451,"column":3,"offset":24678}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":451,"column":3,"offset":24678},"end":{"line":451,"column":10,"offset":24685}}},{"type":"text","value":" clause can help in both cases.","position":{"start":{"line":451,"column":10,"offset":24685},"end":{"line":451,"column":41,"offset":24716}}}],"position":{"start":{"line":451,"column":1,"offset":24676},"end":{"line":451,"column":41,"offset":24716}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here's an example where we might only want to find customers living in Berlin.","position":{"start":{"line":453,"column":1,"offset":24718},"end":{"line":453,"column":79,"offset":24796}}}],"position":{"start":{"line":453,"column":1,"offset":24718},"end":{"line":453,"column":79,"offset":24796}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere City = 'Berlin'\n"}],"position":{"start":{"line":455,"column":1,"offset":24798},"end":{"line":457,"column":26,"offset":24885}}}],"position":{"start":{"line":455,"column":1,"offset":24798},"end":{"line":457,"column":26,"offset":24885}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also chain together ","position":{"start":{"line":459,"column":1,"offset":24887},"end":{"line":459,"column":28,"offset":24914}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":459,"column":28,"offset":24914},"end":{"line":459,"column":35,"offset":24921}}},{"type":"text","value":" clauses using ","position":{"start":{"line":459,"column":35,"offset":24921},"end":{"line":459,"column":50,"offset":24936}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"OR"}],"position":{"start":{"line":459,"column":50,"offset":24936},"end":{"line":459,"column":54,"offset":24940}}},{"type":"text","value":" and ","position":{"start":{"line":459,"column":54,"offset":24940},"end":{"line":459,"column":59,"offset":24945}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"AND"}],"position":{"start":{"line":459,"column":59,"offset":24945},"end":{"line":459,"column":64,"offset":24950}}},{"type":"text","value":" to limit our results further.","position":{"start":{"line":459,"column":64,"offset":24950},"end":{"line":459,"column":94,"offset":24980}}}],"position":{"start":{"line":459,"column":1,"offset":24887},"end":{"line":459,"column":94,"offset":24980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following query includes only records that match both criteria.","position":{"start":{"line":461,"column":1,"offset":24982},"end":{"line":461,"column":68,"offset":25049}}}],"position":{"start":{"line":461,"column":1,"offset":24982},"end":{"line":461,"column":68,"offset":25049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere Country = 'France' and City = 'Paris'\n"}],"position":{"start":{"line":463,"column":1,"offset":25051},"end":{"line":465,"column":48,"offset":25160}}}],"position":{"start":{"line":463,"column":1,"offset":25051},"end":{"line":465,"column":48,"offset":25160}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"And this query includes records that match either criteria.","position":{"start":{"line":467,"column":1,"offset":25162},"end":{"line":467,"column":60,"offset":25221}}}],"position":{"start":{"line":467,"column":1,"offset":25162},"end":{"line":467,"column":60,"offset":25221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select City, CustomerName, ContactName\nfrom Customers\nwhere Country = 'France' or City = 'Paris'\n"}],"position":{"start":{"line":469,"column":1,"offset":25223},"end":{"line":471,"column":47,"offset":25331}}}],"position":{"start":{"line":469,"column":1,"offset":25223},"end":{"line":471,"column":47,"offset":25331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These operators can be combined and grouped with parentheses to add complex selection logic. They behave similarly to what you're used to in programming languages.","position":{"start":{"line":473,"column":1,"offset":25333},"end":{"line":473,"column":164,"offset":25496}}}],"position":{"start":{"line":473,"column":1,"offset":25333},"end":{"line":473,"column":164,"offset":25496}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can read more about SQLite operators from ","position":{"start":{"line":475,"column":1,"offset":25498},"end":{"line":475,"column":47,"offset":25544}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sqlite/operators.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":475,"column":47,"offset":25544},"end":{"line":475,"column":145,"offset":25642}}},{"type":"text","value":"w3resource (Links to an external site.)","position":{"start":{"line":475,"column":145,"offset":25642},"end":{"line":475,"column":184,"offset":25681}}},{"type":"raw","value":"</a>","position":{"start":{"line":475,"column":184,"offset":25681},"end":{"line":475,"column":188,"offset":25685}}},{"type":"text","value":".","position":{"start":{"line":475,"column":188,"offset":25685},"end":{"line":475,"column":189,"offset":25686}}}],"position":{"start":{"line":475,"column":1,"offset":25498},"end":{"line":475,"column":189,"offset":25686}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To select a single record, we can use a ","position":{"start":{"line":477,"column":1,"offset":25688},"end":{"line":477,"column":41,"offset":25728}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":477,"column":41,"offset":25728},"end":{"line":477,"column":48,"offset":25735}}},{"type":"text","value":" statement with a uniquely identifying field, like an id:","position":{"start":{"line":477,"column":48,"offset":25735},"end":{"line":477,"column":105,"offset":25792}}}],"position":{"start":{"line":477,"column":1,"offset":25688},"end":{"line":477,"column":105,"offset":25792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from Customers\nwhere CustomerId=3;\n"}],"position":{"start":{"line":479,"column":1,"offset":25794},"end":{"line":480,"column":24,"offset":25845}}}],"position":{"start":{"line":479,"column":1,"offset":25794},"end":{"line":480,"column":24,"offset":25845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Other comparison operators also work in ","position":{"start":{"line":482,"column":1,"offset":25847},"end":{"line":482,"column":41,"offset":25887}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":482,"column":41,"offset":25887},"end":{"line":482,"column":48,"offset":25894}}},{"type":"text","value":" conditions, such as ","position":{"start":{"line":482,"column":48,"offset":25894},"end":{"line":482,"column":69,"offset":25915}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":">"}],"position":{"start":{"line":482,"column":69,"offset":25915},"end":{"line":482,"column":72,"offset":25918}}},{"type":"text","value":", ","position":{"start":{"line":482,"column":72,"offset":25918},"end":{"line":482,"column":74,"offset":25920}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<"}],"position":{"start":{"line":482,"column":74,"offset":25920},"end":{"line":482,"column":77,"offset":25923}}},{"type":"text","value":", ","position":{"start":{"line":482,"column":77,"offset":25923},"end":{"line":482,"column":79,"offset":25925}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<="}],"position":{"start":{"line":482,"column":79,"offset":25925},"end":{"line":482,"column":83,"offset":25929}}},{"type":"text","value":", and ","position":{"start":{"line":482,"column":83,"offset":25929},"end":{"line":482,"column":89,"offset":25935}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":">="}],"position":{"start":{"line":482,"column":89,"offset":25935},"end":{"line":482,"column":93,"offset":25939}}},{"type":"text","value":".","position":{"start":{"line":482,"column":93,"offset":25939},"end":{"line":482,"column":94,"offset":25940}}}],"position":{"start":{"line":482,"column":1,"offset":25847},"end":{"line":482,"column":94,"offset":25940}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees where salary >= 50000\n"}],"position":{"start":{"line":484,"column":1,"offset":25942},"end":{"line":484,"column":50,"offset":25991}}}],"position":{"start":{"line":484,"column":1,"offset":25942},"end":{"line":484,"column":50,"offset":25991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Ordering results using the ORDER BY clause","position":{"start":{"line":486,"column":5,"offset":25997},"end":{"line":486,"column":47,"offset":26039}}}],"position":{"start":{"line":486,"column":1,"offset":25993},"end":{"line":486,"column":47,"offset":26039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Query results are shown in the same order the data was inserted. To control how the data is sorted, we can use the ","position":{"start":{"line":488,"column":1,"offset":26041},"end":{"line":488,"column":116,"offset":26156}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":488,"column":116,"offset":26156},"end":{"line":488,"column":126,"offset":26166}}},{"type":"text","value":" clause. Let's see an example.","position":{"start":{"line":488,"column":126,"offset":26166},"end":{"line":488,"column":156,"offset":26196}}}],"position":{"start":{"line":488,"column":1,"offset":26041},"end":{"line":488,"column":156,"offset":26196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-- sorts the results first by salary in descending order, then by the last name in ascending order\nselect * from employees order by salary desc, last_name;\n"}],"position":{"start":{"line":490,"column":1,"offset":26198},"end":{"line":491,"column":61,"offset":26361}}}],"position":{"start":{"line":490,"column":1,"offset":26198},"end":{"line":491,"column":61,"offset":26361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can pass a list of field names to ","position":{"start":{"line":493,"column":1,"offset":26363},"end":{"line":493,"column":38,"offset":26400}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"order by"}],"position":{"start":{"line":493,"column":38,"offset":26400},"end":{"line":493,"column":48,"offset":26410}}},{"type":"text","value":" and optionally choose ","position":{"start":{"line":493,"column":48,"offset":26410},"end":{"line":493,"column":71,"offset":26433}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asc"}],"position":{"start":{"line":493,"column":71,"offset":26433},"end":{"line":493,"column":76,"offset":26438}}},{"type":"text","value":" or ","position":{"start":{"line":493,"column":76,"offset":26438},"end":{"line":493,"column":80,"offset":26442}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"desc"}],"position":{"start":{"line":493,"column":80,"offset":26442},"end":{"line":493,"column":86,"offset":26448}}},{"type":"text","value":" for the sort direction. The default is ","position":{"start":{"line":493,"column":86,"offset":26448},"end":{"line":493,"column":126,"offset":26488}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"asc"}],"position":{"start":{"line":493,"column":126,"offset":26488},"end":{"line":493,"column":131,"offset":26493}}},{"type":"text","value":", so it doesn't need to be specified.","position":{"start":{"line":493,"column":131,"offset":26493},"end":{"line":493,"column":168,"offset":26530}}}],"position":{"start":{"line":493,"column":1,"offset":26363},"end":{"line":493,"column":168,"offset":26530}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some SQL engines also support using field abbreviations when sorting.","position":{"start":{"line":495,"column":1,"offset":26532},"end":{"line":495,"column":70,"offset":26601}}}],"position":{"start":{"line":495,"column":1,"offset":26532},"end":{"line":495,"column":70,"offset":26601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select name, salary, department from employees order by 3, 2 desc;\n"}],"position":{"start":{"line":497,"column":1,"offset":26603},"end":{"line":497,"column":71,"offset":26673}}}],"position":{"start":{"line":497,"column":1,"offset":26603},"end":{"line":497,"column":71,"offset":26673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this case, the results are sorted by the department in ascending order first and then by salary in descending order. The numbers refer to the fields' position in the ","position":{"start":{"line":499,"column":1,"offset":26675},"end":{"line":499,"column":170,"offset":26844}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"selection","position":{"start":{"line":499,"column":171,"offset":26845},"end":{"line":499,"column":180,"offset":26854}}}],"position":{"start":{"line":499,"column":170,"offset":26844},"end":{"line":499,"column":181,"offset":26855}}},{"type":"text","value":" portion of the query, so ","position":{"start":{"line":499,"column":181,"offset":26855},"end":{"line":499,"column":207,"offset":26881}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}],"position":{"start":{"line":499,"column":207,"offset":26881},"end":{"line":499,"column":210,"offset":26884}}},{"type":"text","value":" would be ","position":{"start":{"line":499,"column":210,"offset":26884},"end":{"line":499,"column":220,"offset":26894}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"name","position":{"start":{"line":499,"column":221,"offset":26895},"end":{"line":499,"column":225,"offset":26899}}}],"position":{"start":{"line":499,"column":220,"offset":26894},"end":{"line":499,"column":226,"offset":26900}}},{"type":"text","value":", ","position":{"start":{"line":499,"column":226,"offset":26900},"end":{"line":499,"column":228,"offset":26902}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2"}],"position":{"start":{"line":499,"column":228,"offset":26902},"end":{"line":499,"column":231,"offset":26905}}},{"type":"text","value":" would be ","position":{"start":{"line":499,"column":231,"offset":26905},"end":{"line":499,"column":241,"offset":26915}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"salary","position":{"start":{"line":499,"column":242,"offset":26916},"end":{"line":499,"column":248,"offset":26922}}}],"position":{"start":{"line":499,"column":241,"offset":26915},"end":{"line":499,"column":249,"offset":26923}}},{"type":"text","value":", and so on.","position":{"start":{"line":499,"column":249,"offset":26923},"end":{"line":499,"column":261,"offset":26935}}}],"position":{"start":{"line":499,"column":1,"offset":26675},"end":{"line":499,"column":261,"offset":26935}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the ","position":{"start":{"line":501,"column":1,"offset":26937},"end":{"line":501,"column":15,"offset":26951}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":501,"column":15,"offset":26951},"end":{"line":501,"column":22,"offset":26958}}},{"type":"text","value":" clause should come after the ","position":{"start":{"line":501,"column":22,"offset":26958},"end":{"line":501,"column":52,"offset":26988}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM"}],"position":{"start":{"line":501,"column":52,"offset":26988},"end":{"line":501,"column":58,"offset":26994}}},{"type":"text","value":" clause. The ","position":{"start":{"line":501,"column":58,"offset":26994},"end":{"line":501,"column":71,"offset":27007}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":501,"column":71,"offset":27007},"end":{"line":501,"column":81,"offset":27017}}},{"type":"text","value":" clause always goes last.","position":{"start":{"line":501,"column":81,"offset":27017},"end":{"line":501,"column":106,"offset":27042}}}],"position":{"start":{"line":501,"column":1,"offset":26937},"end":{"line":501,"column":106,"offset":27042}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees where salary > 50000 order by last_name;\n"}],"position":{"start":{"line":503,"column":1,"offset":27044},"end":{"line":503,"column":69,"offset":27112}}}],"position":{"start":{"line":503,"column":1,"offset":27044},"end":{"line":503,"column":69,"offset":27112}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Limiting results using the LIMIT clause","position":{"start":{"line":505,"column":5,"offset":27118},"end":{"line":505,"column":44,"offset":27157}}}],"position":{"start":{"line":505,"column":1,"offset":27114},"end":{"line":505,"column":44,"offset":27157}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When we wish to see only a limited number of records, we can use a ","position":{"start":{"line":507,"column":1,"offset":27159},"end":{"line":507,"column":68,"offset":27226}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LIMIT"}],"position":{"start":{"line":507,"column":68,"offset":27226},"end":{"line":507,"column":75,"offset":27233}}},{"type":"text","value":" clause.","position":{"start":{"line":507,"column":75,"offset":27233},"end":{"line":507,"column":83,"offset":27241}}}],"position":{"start":{"line":507,"column":1,"offset":27159},"end":{"line":507,"column":83,"offset":27241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following returns the first ten records in the products table:","position":{"start":{"line":509,"column":1,"offset":27243},"end":{"line":509,"column":67,"offset":27309}}}],"position":{"start":{"line":509,"column":1,"offset":27243},"end":{"line":509,"column":67,"offset":27309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from products\nlimit 10\n"}],"position":{"start":{"line":511,"column":1,"offset":27311},"end":{"line":512,"column":13,"offset":27350}}}],"position":{"start":{"line":511,"column":1,"offset":27311},"end":{"line":512,"column":13,"offset":27350}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"LIMIT"}],"position":{"start":{"line":514,"column":1,"offset":27352},"end":{"line":514,"column":8,"offset":27359}}},{"type":"text","value":" clauses are often used in conjunction with ","position":{"start":{"line":514,"column":8,"offset":27359},"end":{"line":514,"column":52,"offset":27403}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ORDER BY"}],"position":{"start":{"line":514,"column":52,"offset":27403},"end":{"line":514,"column":62,"offset":27413}}},{"type":"text","value":". The following shows us the five cheapest products:","position":{"start":{"line":514,"column":62,"offset":27413},"end":{"line":514,"column":114,"offset":27465}}}],"position":{"start":{"line":514,"column":1,"offset":27352},"end":{"line":514,"column":114,"offset":27465}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from products\norder by price desc\nlimit 5\n"}],"position":{"start":{"line":516,"column":1,"offset":27467},"end":{"line":518,"column":12,"offset":27529}}}],"position":{"start":{"line":516,"column":1,"offset":27467},"end":{"line":518,"column":12,"offset":27529}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Inserting data using INSERT","position":{"start":{"line":520,"column":5,"offset":27535},"end":{"line":520,"column":32,"offset":27562}}}],"position":{"start":{"line":520,"column":1,"offset":27531},"end":{"line":520,"column":32,"offset":27562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An insert statement adds a new record to the database. All non-null fields must be listed out in the same order as their values. Some fields, like ids and timestamps, may be auto-generated and do not need to be included in an ","position":{"start":{"line":522,"column":1,"offset":27564},"end":{"line":522,"column":227,"offset":27790}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":522,"column":227,"offset":27790},"end":{"line":522,"column":235,"offset":27798}}},{"type":"text","value":" statement.","position":{"start":{"line":522,"column":235,"offset":27798},"end":{"line":522,"column":246,"offset":27809}}}],"position":{"start":{"line":522,"column":1,"offset":27564},"end":{"line":522,"column":246,"offset":27809}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-- we can add fields in any order; the values need to be in the same ordinal position\n-- the id will be assigned automatically\n  insert into Customers (Country, CustomerName, ContactName, Address, City, PostalCode)\n  values ('USA', 'WebDev School', 'Austen Allred', '1 WebDev Court', 'Provo', '84601');\n"}],"position":{"start":{"line":524,"column":1,"offset":27811},"end":{"line":527,"column":92,"offset":28129}}}],"position":{"start":{"line":524,"column":1,"offset":27811},"end":{"line":527,"column":92,"offset":28129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The values in an insert statement must not violate any restrictions and constraints that the database has in place, such as expected datatypes. We will learn more about constraints and schema design in a later section.","position":{"start":{"line":529,"column":1,"offset":28131},"end":{"line":529,"column":219,"offset":28349}}}],"position":{"start":{"line":529,"column":1,"offset":28131},"end":{"line":529,"column":219,"offset":28349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Modifying recording using UPDATE","position":{"start":{"line":531,"column":5,"offset":28355},"end":{"line":531,"column":37,"offset":28387}}}],"position":{"start":{"line":531,"column":1,"offset":28351},"end":{"line":531,"column":37,"offset":28387}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When modifying a record, we identify a single record or a set of records to update using a ","position":{"start":{"line":533,"column":1,"offset":28389},"end":{"line":533,"column":92,"offset":28480}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":533,"column":92,"offset":28480},"end":{"line":533,"column":99,"offset":28487}}},{"type":"text","value":" clause. Then we can set the new value(s) in place.","position":{"start":{"line":533,"column":99,"offset":28487},"end":{"line":533,"column":150,"offset":28538}}}],"position":{"start":{"line":533,"column":1,"offset":28389},"end":{"line":533,"column":150,"offset":28538}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update Customers\nset City = 'Silicon Valley', Country = 'USA'\nwhere CustomerName = 'WebDev School'\n"}],"position":{"start":{"line":535,"column":1,"offset":28540},"end":{"line":537,"column":41,"offset":28650}}}],"position":{"start":{"line":535,"column":1,"offset":28540},"end":{"line":537,"column":41,"offset":28650}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Technically the ","position":{"start":{"line":539,"column":1,"offset":28652},"end":{"line":539,"column":17,"offset":28668}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":539,"column":17,"offset":28668},"end":{"line":539,"column":24,"offset":28675}}},{"type":"text","value":" clause is not required, but leaving it off would result in every record within the table receiving the update.","position":{"start":{"line":539,"column":24,"offset":28675},"end":{"line":539,"column":135,"offset":28786}}}],"position":{"start":{"line":539,"column":1,"offset":28652},"end":{"line":539,"column":135,"offset":28786}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Removing records using DELETE","position":{"start":{"line":541,"column":5,"offset":28792},"end":{"line":541,"column":34,"offset":28821}}}],"position":{"start":{"line":541,"column":1,"offset":28788},"end":{"line":541,"column":34,"offset":28821}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When removing a record or set of records, we need only identify which record(s) to remove using a ","position":{"start":{"line":543,"column":1,"offset":28823},"end":{"line":543,"column":99,"offset":28921}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":543,"column":99,"offset":28921},"end":{"line":543,"column":106,"offset":28928}}},{"type":"text","value":" clause:","position":{"start":{"line":543,"column":106,"offset":28928},"end":{"line":543,"column":114,"offset":28936}}}],"position":{"start":{"line":543,"column":1,"offset":28823},"end":{"line":543,"column":114,"offset":28936}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete from Customers\nwhere CustomerName = 'WebDev School`;\n"}],"position":{"start":{"line":545,"column":1,"offset":28938},"end":{"line":546,"column":42,"offset":29005}}}],"position":{"start":{"line":545,"column":1,"offset":28938},"end":{"line":546,"column":42,"offset":29005}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once again, the ","position":{"start":{"line":548,"column":1,"offset":29007},"end":{"line":548,"column":17,"offset":29023}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":548,"column":17,"offset":29023},"end":{"line":548,"column":24,"offset":29030}}},{"type":"text","value":" clause is not required, but leaving it off would remove every record in the table, so it's essential.","position":{"start":{"line":548,"column":24,"offset":29030},"end":{"line":548,"column":126,"offset":29132}}}],"position":{"start":{"line":548,"column":1,"offset":29007},"end":{"line":548,"column":126,"offset":29132}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":550,"column":1,"offset":29134},"end":{"line":550,"column":4,"offset":29137}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>Raw SQL is a critical baseline skill. However, Node developers generally use an **Object Relational Mapper (ORM)** or **query builder** to write database commands in a backend codebase. Both **ORMs** and **query builders** are JavaScript libraries that allow us to interface with the database using a JavaScript version of the SQL language.","position":{"start":{"line":552,"column":1,"offset":29139},"end":{"line":552,"column":459,"offset":29597}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, instead of a raw SQL ","position":{"start":{"line":554,"column":1,"offset":29599},"end":{"line":554,"column":35,"offset":29633}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":554,"column":35,"offset":29633},"end":{"line":554,"column":43,"offset":29641}}},{"type":"text","value":":","position":{"start":{"line":554,"column":43,"offset":29641},"end":{"line":554,"column":44,"offset":29642}}}],"position":{"start":{"line":554,"column":1,"offset":29599},"end":{"line":554,"column":44,"offset":29642}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users;\n"}],"position":{"start":{"line":556,"column":1,"offset":29644},"end":{"line":556,"column":25,"offset":29668}}}],"position":{"start":{"line":556,"column":1,"offset":29644},"end":{"line":556,"column":25,"offset":29668}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We could use a query builder to write the same logic in JavaScript:","position":{"start":{"line":558,"column":1,"offset":29670},"end":{"line":558,"column":68,"offset":29737}}}],"position":{"start":{"line":558,"column":1,"offset":29670},"end":{"line":558,"column":68,"offset":29737}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db.select('*').from('users');\n"}],"position":{"start":{"line":560,"column":1,"offset":29739},"end":{"line":560,"column":34,"offset":29772}}}],"position":{"start":{"line":560,"column":1,"offset":29739},"end":{"line":560,"column":34,"offset":29772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Query builders","position":{"start":{"line":562,"column":3,"offset":29776},"end":{"line":562,"column":17,"offset":29790}}}],"position":{"start":{"line":562,"column":1,"offset":29774},"end":{"line":562,"column":19,"offset":29792}}},{"type":"text","value":" are lightweight and easy to get off the ground, whereas ","position":{"start":{"line":562,"column":19,"offset":29792},"end":{"line":562,"column":76,"offset":29849}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ORMs","position":{"start":{"line":562,"column":78,"offset":29851},"end":{"line":562,"column":82,"offset":29855}}}],"position":{"start":{"line":562,"column":76,"offset":29849},"end":{"line":562,"column":84,"offset":29857}}},{"type":"text","value":" use an object-oriented model and provide more heavy lifting within their rigid structure.","position":{"start":{"line":562,"column":84,"offset":29857},"end":{"line":562,"column":174,"offset":29947}}}],"position":{"start":{"line":562,"column":1,"offset":29774},"end":{"line":562,"column":174,"offset":29947}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We will use a ","position":{"start":{"line":564,"column":1,"offset":29949},"end":{"line":564,"column":15,"offset":29963}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"query builder","position":{"start":{"line":564,"column":17,"offset":29965},"end":{"line":564,"column":30,"offset":29978}}}],"position":{"start":{"line":564,"column":15,"offset":29963},"end":{"line":564,"column":32,"offset":29980}}},{"type":"text","value":" called ","position":{"start":{"line":564,"column":32,"offset":29980},"end":{"line":564,"column":40,"offset":29988}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":564,"column":40,"offset":29988},"end":{"line":564,"column":110,"offset":30058}}},{"type":"text","value":"knex.js (Links to an external site.)","position":{"start":{"line":564,"column":110,"offset":30058},"end":{"line":564,"column":146,"offset":30094}}},{"type":"raw","value":"</a>","position":{"start":{"line":564,"column":146,"offset":30094},"end":{"line":564,"column":150,"offset":30098}}},{"type":"text","value":".","position":{"start":{"line":564,"column":150,"offset":30098},"end":{"line":564,"column":151,"offset":30099}}}],"position":{"start":{"line":564,"column":1,"offset":29949},"end":{"line":564,"column":151,"offset":30099}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":566,"column":1,"offset":30101},"end":{"line":566,"column":4,"offset":30104}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Setup","position":{"start":{"line":568,"column":1,"offset":30106},"end":{"line":568,"column":133,"offset":30238}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use Knex in a repository, we'll need to add two libraries:","position":{"start":{"line":570,"column":1,"offset":30240},"end":{"line":570,"column":62,"offset":30301}}}],"position":{"start":{"line":570,"column":1,"offset":30240},"end":{"line":570,"column":62,"offset":30301}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3\n"}],"position":{"start":{"line":572,"column":1,"offset":30303},"end":{"line":572,"column":29,"offset":30331}}}],"position":{"start":{"line":572,"column":1,"offset":30303},"end":{"line":572,"column":29,"offset":30331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":574,"column":1,"offset":30333},"end":{"line":574,"column":7,"offset":30339}}},{"type":"text","value":" is our query builder library, and ","position":{"start":{"line":574,"column":7,"offset":30339},"end":{"line":574,"column":42,"offset":30374}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":574,"column":42,"offset":30374},"end":{"line":574,"column":51,"offset":30383}}},{"type":"text","value":" allows us to interface with a ","position":{"start":{"line":574,"column":51,"offset":30383},"end":{"line":574,"column":82,"offset":30414}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite"}],"position":{"start":{"line":574,"column":82,"offset":30414},"end":{"line":574,"column":90,"offset":30422}}},{"type":"text","value":" database. We'll learn more about ","position":{"start":{"line":574,"column":90,"offset":30422},"end":{"line":574,"column":124,"offset":30456}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite"}],"position":{"start":{"line":574,"column":124,"offset":30456},"end":{"line":574,"column":132,"offset":30464}}},{"type":"text","value":" and other ","position":{"start":{"line":574,"column":132,"offset":30464},"end":{"line":574,"column":143,"offset":30475}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"database management systems","position":{"start":{"line":574,"column":145,"offset":30477},"end":{"line":574,"column":172,"offset":30504}}}],"position":{"start":{"line":574,"column":143,"offset":30475},"end":{"line":574,"column":174,"offset":30506}}},{"type":"text","value":" in the following module. For now, know that you need both libraries.","position":{"start":{"line":574,"column":174,"offset":30506},"end":{"line":574,"column":243,"offset":30575}}}],"position":{"start":{"line":574,"column":1,"offset":30333},"end":{"line":574,"column":243,"offset":30575}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Next, we use Knex to set up a config file:","position":{"start":{"line":576,"column":1,"offset":30577},"end":{"line":576,"column":43,"offset":30619}}}],"position":{"start":{"line":576,"column":1,"offset":30577},"end":{"line":576,"column":43,"offset":30619}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = {\n  client: 'sqlite3',\n  connection: {\n    filename: './data/posts.db3',\n  },\n  useNullAsDefault: true,\n};\n\nmodule.exports = knex(config);\n"}],"position":{"start":{"line":578,"column":1,"offset":30621},"end":{"line":588,"column":35,"offset":30841}}}],"position":{"start":{"line":578,"column":1,"offset":30621},"end":{"line":588,"column":35,"offset":30841}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use the query builder elsewhere in our code, we need to call ","position":{"start":{"line":590,"column":1,"offset":30843},"end":{"line":590,"column":65,"offset":30907}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":590,"column":65,"offset":30907},"end":{"line":590,"column":71,"offset":30913}}},{"type":"text","value":" and pass in a ","position":{"start":{"line":590,"column":71,"offset":30913},"end":{"line":590,"column":86,"offset":30928}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"config"}],"position":{"start":{"line":590,"column":86,"offset":30928},"end":{"line":590,"column":94,"offset":30936}}},{"type":"text","value":" object. We'll be discussing Knex configuration more in a future module. Still, we only need the ","position":{"start":{"line":590,"column":94,"offset":30936},"end":{"line":590,"column":191,"offset":31033}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"client"}],"position":{"start":{"line":590,"column":191,"offset":31033},"end":{"line":590,"column":199,"offset":31041}}},{"type":"text","value":", ","position":{"start":{"line":590,"column":199,"offset":31041},"end":{"line":590,"column":201,"offset":31043}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"connection"}],"position":{"start":{"line":590,"column":201,"offset":31043},"end":{"line":590,"column":213,"offset":31055}}},{"type":"text","value":", and ","position":{"start":{"line":590,"column":213,"offset":31055},"end":{"line":590,"column":219,"offset":31061}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":590,"column":219,"offset":31061},"end":{"line":590,"column":237,"offset":31079}}},{"type":"text","value":" keys as shown above. The ","position":{"start":{"line":590,"column":237,"offset":31079},"end":{"line":590,"column":263,"offset":31105}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"filename"}],"position":{"start":{"line":590,"column":263,"offset":31105},"end":{"line":590,"column":273,"offset":31115}}},{"type":"text","value":" should point towards the pre-existing database file, which can be recognized by the ","position":{"start":{"line":590,"column":273,"offset":31115},"end":{"line":590,"column":358,"offset":31200}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":590,"column":358,"offset":31200},"end":{"line":590,"column":364,"offset":31206}}},{"type":"text","value":" extension.","position":{"start":{"line":590,"column":364,"offset":31206},"end":{"line":590,"column":375,"offset":31217}}}],"position":{"start":{"line":590,"column":1,"offset":30843},"end":{"line":590,"column":375,"offset":31217}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"GOTCHA","position":{"start":{"line":592,"column":3,"offset":31221},"end":{"line":592,"column":9,"offset":31227}}}],"position":{"start":{"line":592,"column":1,"offset":31219},"end":{"line":592,"column":11,"offset":31229}}},{"type":"text","value":": The file path to the database should be with respect to the ","position":{"start":{"line":592,"column":11,"offset":31229},"end":{"line":592,"column":73,"offset":31291}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"root","position":{"start":{"line":592,"column":75,"offset":31293},"end":{"line":592,"column":79,"offset":31297}}}],"position":{"start":{"line":592,"column":73,"offset":31291},"end":{"line":592,"column":81,"offset":31299}}},{"type":"text","value":" of the repo, not the configuration file itself.","position":{"start":{"line":592,"column":81,"offset":31299},"end":{"line":592,"column":129,"offset":31347}}}],"position":{"start":{"line":592,"column":1,"offset":31219},"end":{"line":592,"column":129,"offset":31347}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once Knex is configured, we can import the above config file anywhere in our codebase to access the database.","position":{"start":{"line":594,"column":1,"offset":31349},"end":{"line":594,"column":110,"offset":31458}}}],"position":{"start":{"line":594,"column":1,"offset":31349},"end":{"line":594,"column":110,"offset":31458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const db = require('../data/db-config.js);\n"}],"position":{"start":{"line":596,"column":1,"offset":31460},"end":{"line":596,"column":47,"offset":31506}}}],"position":{"start":{"line":596,"column":1,"offset":31460},"end":{"line":596,"column":47,"offset":31506}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":598,"column":1,"offset":31508},"end":{"line":598,"column":5,"offset":31512}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db"}],"position":{"start":{"line":598,"column":5,"offset":31512},"end":{"line":598,"column":9,"offset":31516}}},{"type":"text","value":" object provides methods that allow us to begin building queries.","position":{"start":{"line":598,"column":9,"offset":31516},"end":{"line":598,"column":74,"offset":31581}}}],"position":{"start":{"line":598,"column":1,"offset":31508},"end":{"line":598,"column":74,"offset":31581}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SELECT using Knex","position":{"start":{"line":600,"column":5,"offset":31587},"end":{"line":600,"column":22,"offset":31604}}}],"position":{"start":{"line":600,"column":1,"offset":31583},"end":{"line":600,"column":22,"offset":31604}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":602,"column":1,"offset":31606},"end":{"line":602,"column":28,"offset":31633}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users"}],"position":{"start":{"line":602,"column":28,"offset":31633},"end":{"line":602,"column":49,"offset":31654}}},{"type":"text","value":" is:","position":{"start":{"line":602,"column":49,"offset":31654},"end":{"line":602,"column":53,"offset":31658}}}],"position":{"start":{"line":602,"column":1,"offset":31606},"end":{"line":602,"column":53,"offset":31658}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db.select('*').from('users');\n"}],"position":{"start":{"line":604,"column":1,"offset":31660},"end":{"line":604,"column":34,"offset":31693}}}],"position":{"start":{"line":604,"column":1,"offset":31660},"end":{"line":604,"column":34,"offset":31693}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There's a simpler way to write the same command:","position":{"start":{"line":606,"column":1,"offset":31695},"end":{"line":606,"column":49,"offset":31743}}}],"position":{"start":{"line":606,"column":1,"offset":31695},"end":{"line":606,"column":49,"offset":31743}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users');\n"}],"position":{"start":{"line":608,"column":1,"offset":31745},"end":{"line":608,"column":17,"offset":31761}}}],"position":{"start":{"line":608,"column":1,"offset":31745},"end":{"line":608,"column":17,"offset":31761}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this, we could write a ","position":{"start":{"line":610,"column":1,"offset":31763},"end":{"line":610,"column":30,"offset":31792}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GET"}],"position":{"start":{"line":610,"column":30,"offset":31792},"end":{"line":610,"column":35,"offset":31797}}},{"type":"text","value":" endpoint.","position":{"start":{"line":610,"column":35,"offset":31797},"end":{"line":610,"column":45,"offset":31807}}}],"position":{"start":{"line":610,"column":1,"offset":31763},"end":{"line":610,"column":45,"offset":31807}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"router.get('/api/users', (req, res) => {\n  db('users')\n  .then(users => {\n    res.json(users);\n  })\n  .catch (err => {\n    res.status(500).json({ message: 'Failed to get users' });\n  });\n});\n"}],"position":{"start":{"line":612,"column":1,"offset":31809},"end":{"line":620,"column":8,"offset":32035}}}],"position":{"start":{"line":612,"column":1,"offset":31809},"end":{"line":620,"column":8,"offset":32035}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":622,"column":3,"offset":32039},"end":{"line":622,"column":7,"offset":32043}}}],"position":{"start":{"line":622,"column":1,"offset":32037},"end":{"line":622,"column":9,"offset":32045}}},{"type":"text","value":": All Knex queries return promises.","position":{"start":{"line":622,"column":9,"offset":32045},"end":{"line":622,"column":44,"offset":32080}}}],"position":{"start":{"line":622,"column":1,"offset":32037},"end":{"line":622,"column":44,"offset":32080}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex also allows for a where clause. In Knex, we could write ","position":{"start":{"line":624,"column":1,"offset":32082},"end":{"line":624,"column":62,"offset":32143}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT * FROM users WHERE id=1"}],"position":{"start":{"line":624,"column":62,"offset":32143},"end":{"line":624,"column":94,"offset":32175}}},{"type":"text","value":" as","position":{"start":{"line":624,"column":94,"offset":32175},"end":{"line":624,"column":97,"offset":32178}}}],"position":{"start":{"line":624,"column":1,"offset":32082},"end":{"line":624,"column":97,"offset":32178}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ id: 1 });\n"}],"position":{"start":{"line":626,"column":1,"offset":32180},"end":{"line":626,"column":34,"offset":32213}}}],"position":{"start":{"line":626,"column":1,"offset":32180},"end":{"line":626,"column":34,"offset":32213}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This method will resolve to an array containing a single entry like so: ","position":{"start":{"line":628,"column":1,"offset":32215},"end":{"line":628,"column":73,"offset":32287}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[{ id: 1, name: 'bill' }]"}],"position":{"start":{"line":628,"column":73,"offset":32287},"end":{"line":628,"column":100,"offset":32314}}},{"type":"text","value":".","position":{"start":{"line":628,"column":100,"offset":32314},"end":{"line":628,"column":101,"offset":32315}}}],"position":{"start":{"line":628,"column":1,"offset":32215},"end":{"line":628,"column":101,"offset":32315}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using this, we might add a ","position":{"start":{"line":630,"column":1,"offset":32317},"end":{"line":630,"column":28,"offset":32344}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"GET"}],"position":{"start":{"line":630,"column":28,"offset":32344},"end":{"line":630,"column":33,"offset":32349}}},{"type":"text","value":" endpoint where a specific user:","position":{"start":{"line":630,"column":33,"offset":32349},"end":{"line":630,"column":65,"offset":32381}}}],"position":{"start":{"line":630,"column":1,"offset":32317},"end":{"line":630,"column":65,"offset":32381}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"server.get('api/users/:id', (req, res) => {\n  const { id } = req.params;\n\ndb('users').where({ id })\n  .then(users => {\n    // we must check the length to find our if our user exists\n    if (users.length) {\n      res.json(users);\n    } else {\n      res.status(404).json({ message: 'Could not find user with given id.' })\n   })\n  .catch (err => {\n    res.status(500).json({ message: 'Failed to get user' });\n  });\n});\n"}],"position":{"start":{"line":632,"column":1,"offset":32383},"end":{"line":646,"column":8,"offset":32854}}}],"position":{"start":{"line":632,"column":1,"offset":32383},"end":{"line":646,"column":8,"offset":32854}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"INSERT using Knex","position":{"start":{"line":648,"column":5,"offset":32860},"end":{"line":648,"column":22,"offset":32877}}}],"position":{"start":{"line":648,"column":1,"offset":32856},"end":{"line":648,"column":22,"offset":32877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":650,"column":1,"offset":32879},"end":{"line":650,"column":28,"offset":32906}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT INTO users (name, age) VALUES ('Eva', 32)"}],"position":{"start":{"line":650,"column":28,"offset":32906},"end":{"line":650,"column":78,"offset":32956}}},{"type":"text","value":" is:","position":{"start":{"line":650,"column":78,"offset":32956},"end":{"line":650,"column":82,"offset":32960}}}],"position":{"start":{"line":650,"column":1,"offset":32879},"end":{"line":650,"column":82,"offset":32960}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').insert({ name: 'Eva', age: 32 });\n"}],"position":{"start":{"line":652,"column":1,"offset":32962},"end":{"line":652,"column":50,"offset":33011}}}],"position":{"start":{"line":652,"column":1,"offset":32962},"end":{"line":652,"column":50,"offset":33011}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The insert method in Knex will resolve to an array containing the newly created id for that user like so: ","position":{"start":{"line":654,"column":1,"offset":33013},"end":{"line":654,"column":107,"offset":33119}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[3]"}],"position":{"start":{"line":654,"column":107,"offset":33119},"end":{"line":654,"column":112,"offset":33124}}},{"type":"text","value":".","position":{"start":{"line":654,"column":112,"offset":33124},"end":{"line":654,"column":113,"offset":33125}}}],"position":{"start":{"line":654,"column":1,"offset":33013},"end":{"line":654,"column":113,"offset":33125}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"UPDATE using Knex","position":{"start":{"line":656,"column":5,"offset":33131},"end":{"line":656,"column":22,"offset":33148}}}],"position":{"start":{"line":656,"column":1,"offset":33127},"end":{"line":656,"column":22,"offset":33148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In knex, the equivalent of ","position":{"start":{"line":658,"column":1,"offset":33150},"end":{"line":658,"column":28,"offset":33177}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE users SET name='Ava', age=33 WHERE id=3;"}],"position":{"start":{"line":658,"column":28,"offset":33177},"end":{"line":658,"column":77,"offset":33226}}},{"type":"text","value":" is:","position":{"start":{"line":658,"column":77,"offset":33226},"end":{"line":658,"column":81,"offset":33230}}}],"position":{"start":{"line":658,"column":1,"offset":33150},"end":{"line":658,"column":81,"offset":33230}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ id: 3 })\n.update({name: 'Ava', age: 33 });\n"}],"position":{"start":{"line":660,"column":1,"offset":33232},"end":{"line":661,"column":38,"offset":33302}}}],"position":{"start":{"line":660,"column":1,"offset":33232},"end":{"line":661,"column":38,"offset":33302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the ","position":{"start":{"line":663,"column":1,"offset":33304},"end":{"line":663,"column":15,"offset":33318}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"where"}],"position":{"start":{"line":663,"column":15,"offset":33318},"end":{"line":663,"column":22,"offset":33325}}},{"type":"text","value":" method comes before ","position":{"start":{"line":663,"column":22,"offset":33325},"end":{"line":663,"column":43,"offset":33346}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"update"}],"position":{"start":{"line":663,"column":43,"offset":33346},"end":{"line":663,"column":51,"offset":33354}}},{"type":"text","value":", unlike in SQL.","position":{"start":{"line":663,"column":51,"offset":33354},"end":{"line":663,"column":67,"offset":33370}}}],"position":{"start":{"line":663,"column":1,"offset":33304},"end":{"line":663,"column":67,"offset":33370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Update will resolve to a count of rows updated.","position":{"start":{"line":665,"column":1,"offset":33372},"end":{"line":665,"column":48,"offset":33419}}}],"position":{"start":{"line":665,"column":1,"offset":33372},"end":{"line":665,"column":48,"offset":33419}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"DELETE using Knex","position":{"start":{"line":667,"column":5,"offset":33425},"end":{"line":667,"column":22,"offset":33442}}}],"position":{"start":{"line":667,"column":1,"offset":33421},"end":{"line":667,"column":22,"offset":33442}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, the equivalent of ","position":{"start":{"line":669,"column":1,"offset":33444},"end":{"line":669,"column":28,"offset":33471}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DELETE FROM users WHERE age=33;"}],"position":{"start":{"line":669,"column":28,"offset":33471},"end":{"line":669,"column":61,"offset":33504}}},{"type":"text","value":" is:","position":{"start":{"line":669,"column":61,"offset":33504},"end":{"line":669,"column":65,"offset":33508}}}],"position":{"start":{"line":669,"column":1,"offset":33444},"end":{"line":669,"column":65,"offset":33508}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('users').where({ age: 33}).del();\n"}],"position":{"start":{"line":671,"column":1,"offset":33510},"end":{"line":671,"column":41,"offset":33550}}}],"position":{"start":{"line":671,"column":1,"offset":33510},"end":{"line":671,"column":41,"offset":33550}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once again, the ","position":{"start":{"line":673,"column":1,"offset":33552},"end":{"line":673,"column":17,"offset":33568}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"where"}],"position":{"start":{"line":673,"column":17,"offset":33568},"end":{"line":673,"column":24,"offset":33575}}},{"type":"text","value":" must come before the ","position":{"start":{"line":673,"column":24,"offset":33575},"end":{"line":673,"column":46,"offset":33597}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"del"}],"position":{"start":{"line":673,"column":46,"offset":33597},"end":{"line":673,"column":51,"offset":33602}}},{"type":"text","value":". This method will resolve to a count of records removed.","position":{"start":{"line":673,"column":51,"offset":33602},"end":{"line":673,"column":108,"offset":33659}}}],"position":{"start":{"line":673,"column":1,"offset":33552},"end":{"line":673,"column":108,"offset":33659}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":675,"column":1,"offset":33661},"end":{"line":675,"column":4,"offset":33664}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":677,"column":1,"offset":33666},"end":{"line":677,"column":4,"offset":33669}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>###","position":{"start":{"line":679,"column":1,"offset":33671},"end":{"line":679,"column":122,"offset":33792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Here's a small project you can practice with.","position":{"start":{"line":681,"column":5,"offset":33798},"end":{"line":681,"column":50,"offset":33843}}}],"position":{"start":{"line":681,"column":1,"offset":33794},"end":{"line":681,"column":50,"offset":33843}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLlite Studio is an application that allows us to create, open, view, and modify SQLite databases. To fully understand what SQLite Studio is and how it works, we must also understand the concept of the Database Management Systems (DBMS).","position":{"start":{"line":683,"column":1,"offset":33845},"end":{"line":683,"column":239,"offset":34083}}}],"position":{"start":{"line":683,"column":1,"offset":33845},"end":{"line":683,"column":239,"offset":34083}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is a DBMS?","position":{"start":{"line":685,"column":5,"offset":34089},"end":{"line":685,"column":20,"offset":34104}}}],"position":{"start":{"line":685,"column":1,"offset":34085},"end":{"line":685,"column":20,"offset":34104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To manage digital databases we use specialized software called ","position":{"start":{"line":687,"column":1,"offset":34106},"end":{"line":687,"column":64,"offset":34169}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"D","position":{"start":{"line":687,"column":66,"offset":34171},"end":{"line":687,"column":67,"offset":34172}}}],"position":{"start":{"line":687,"column":64,"offset":34169},"end":{"line":687,"column":69,"offset":34174}}},{"type":"text","value":"ata","position":{"start":{"line":687,"column":69,"offset":34174},"end":{"line":687,"column":72,"offset":34177}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"B","position":{"start":{"line":687,"column":74,"offset":34179},"end":{"line":687,"column":75,"offset":34180}}}],"position":{"start":{"line":687,"column":72,"offset":34177},"end":{"line":687,"column":77,"offset":34182}}},{"type":"text","value":"ase ","position":{"start":{"line":687,"column":77,"offset":34182},"end":{"line":687,"column":81,"offset":34186}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"M","position":{"start":{"line":687,"column":83,"offset":34188},"end":{"line":687,"column":84,"offset":34189}}}],"position":{"start":{"line":687,"column":81,"offset":34186},"end":{"line":687,"column":86,"offset":34191}}},{"type":"text","value":"anagement ","position":{"start":{"line":687,"column":86,"offset":34191},"end":{"line":687,"column":96,"offset":34201}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"S","position":{"start":{"line":687,"column":98,"offset":34203},"end":{"line":687,"column":99,"offset":34204}}}],"position":{"start":{"line":687,"column":96,"offset":34201},"end":{"line":687,"column":101,"offset":34206}}},{"type":"text","value":"ystems (DBMS). These systems typically run on servers and are managed by ","position":{"start":{"line":687,"column":101,"offset":34206},"end":{"line":687,"column":174,"offset":34279}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"D","position":{"start":{"line":687,"column":176,"offset":34281},"end":{"line":687,"column":177,"offset":34282}}}],"position":{"start":{"line":687,"column":174,"offset":34279},"end":{"line":687,"column":179,"offset":34284}}},{"type":"text","value":"ata","position":{"start":{"line":687,"column":179,"offset":34284},"end":{"line":687,"column":182,"offset":34287}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"B","position":{"start":{"line":687,"column":184,"offset":34289},"end":{"line":687,"column":185,"offset":34290}}}],"position":{"start":{"line":687,"column":182,"offset":34287},"end":{"line":687,"column":187,"offset":34292}}},{"type":"text","value":"ase ","position":{"start":{"line":687,"column":187,"offset":34292},"end":{"line":687,"column":191,"offset":34296}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"A","position":{"start":{"line":687,"column":193,"offset":34298},"end":{"line":687,"column":194,"offset":34299}}}],"position":{"start":{"line":687,"column":191,"offset":34296},"end":{"line":687,"column":196,"offset":34301}}},{"type":"text","value":"dministrators (DBAs).","position":{"start":{"line":687,"column":196,"offset":34301},"end":{"line":687,"column":217,"offset":34322}}}],"position":{"start":{"line":687,"column":1,"offset":34106},"end":{"line":687,"column":217,"offset":34322}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In less technical terms, we need a type of software that will allow us to create, access, and generally manage our databases. In the world of relational databases, we specifically use Relational Database Mangement Systems (RDBMs). Some examples are Postgres, SQLite, MySQL, and Oracle.","position":{"start":{"line":689,"column":1,"offset":34324},"end":{"line":689,"column":286,"offset":34609}}}],"position":{"start":{"line":689,"column":1,"offset":34324},"end":{"line":689,"column":286,"offset":34609}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Choosing a DBMS determines everything from how you set up your database, to where and how the data is stored, to what SQL commands you can use. Most systems share the core of the SQL language that you've already learned.","position":{"start":{"line":691,"column":1,"offset":34611},"end":{"line":691,"column":221,"offset":34831}}}],"position":{"start":{"line":691,"column":1,"offset":34611},"end":{"line":691,"column":221,"offset":34831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In other words, you can expect ","position":{"start":{"line":693,"column":1,"offset":34833},"end":{"line":693,"column":32,"offset":34864}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":693,"column":32,"offset":34864},"end":{"line":693,"column":40,"offset":34872}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":40,"offset":34872},"end":{"line":693,"column":42,"offset":34874}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UPDATE"}],"position":{"start":{"line":693,"column":42,"offset":34874},"end":{"line":693,"column":50,"offset":34882}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":50,"offset":34882},"end":{"line":693,"column":52,"offset":34884}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INSERT"}],"position":{"start":{"line":693,"column":52,"offset":34884},"end":{"line":693,"column":60,"offset":34892}}},{"type":"text","value":", ","position":{"start":{"line":693,"column":60,"offset":34892},"end":{"line":693,"column":62,"offset":34894}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"WHERE"}],"position":{"start":{"line":693,"column":62,"offset":34894},"end":{"line":693,"column":69,"offset":34901}}},{"type":"text","value":" , and the like to be the same across all DBMSs, but the subtleties of the language may vary.","position":{"start":{"line":693,"column":69,"offset":34901},"end":{"line":693,"column":162,"offset":34994}}}],"position":{"start":{"line":693,"column":1,"offset":34833},"end":{"line":693,"column":162,"offset":34994}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQLite?","position":{"start":{"line":695,"column":5,"offset":35000},"end":{"line":695,"column":20,"offset":35015}}}],"position":{"start":{"line":695,"column":1,"offset":34996},"end":{"line":695,"column":20,"offset":35015}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQLite","position":{"start":{"line":697,"column":3,"offset":35019},"end":{"line":697,"column":9,"offset":35025}}}],"position":{"start":{"line":697,"column":1,"offset":35017},"end":{"line":697,"column":11,"offset":35027}}},{"type":"text","value":" is the DBMS, as the name suggests, it is a more lightweight system and thus easier to get set up than some others.","position":{"start":{"line":697,"column":11,"offset":35027},"end":{"line":697,"column":126,"offset":35142}}}],"position":{"start":{"line":697,"column":1,"offset":35017},"end":{"line":697,"column":126,"offset":35142}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLite allows us to store databases as single files. SQLite projects have a ","position":{"start":{"line":699,"column":1,"offset":35144},"end":{"line":699,"column":77,"offset":35220}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":699,"column":77,"offset":35220},"end":{"line":699,"column":83,"offset":35226}}},{"type":"text","value":" extension. That is the database.","position":{"start":{"line":699,"column":83,"offset":35226},"end":{"line":699,"column":116,"offset":35259}}}],"position":{"start":{"line":699,"column":1,"offset":35144},"end":{"line":699,"column":116,"offset":35259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SQLite is ","position":{"start":{"line":701,"column":1,"offset":35261},"end":{"line":701,"column":11,"offset":35271}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not a database","position":{"start":{"line":701,"column":12,"offset":35272},"end":{"line":701,"column":26,"offset":35286}}}],"position":{"start":{"line":701,"column":11,"offset":35271},"end":{"line":701,"column":27,"offset":35287}}},{"type":"text","value":" (like relational, graph, or document are databases) but rather ","position":{"start":{"line":701,"column":27,"offset":35287},"end":{"line":701,"column":91,"offset":35351}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"a database management system","position":{"start":{"line":701,"column":92,"offset":35352},"end":{"line":701,"column":120,"offset":35380}}}],"position":{"start":{"line":701,"column":91,"offset":35351},"end":{"line":701,"column":121,"offset":35381}}},{"type":"text","value":".","position":{"start":{"line":701,"column":121,"offset":35381},"end":{"line":701,"column":122,"offset":35382}}}],"position":{"start":{"line":701,"column":1,"offset":35261},"end":{"line":701,"column":122,"offset":35382}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Opening an existing database in SQLite Studio","position":{"start":{"line":703,"column":5,"offset":35388},"end":{"line":703,"column":50,"offset":35433}}}],"position":{"start":{"line":703,"column":1,"offset":35384},"end":{"line":703,"column":50,"offset":35433}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One useful visual interface we might use with a SQLite database is called ","position":{"start":{"line":705,"column":1,"offset":35435},"end":{"line":705,"column":75,"offset":35509}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQLite Studio","position":{"start":{"line":705,"column":77,"offset":35511},"end":{"line":705,"column":90,"offset":35524}}}],"position":{"start":{"line":705,"column":75,"offset":35509},"end":{"line":705,"column":92,"offset":35526}}},{"type":"text","value":". ","position":{"start":{"line":705,"column":92,"offset":35526},"end":{"line":705,"column":94,"offset":35528}}},{"type":"raw","value":"<a href=\"https://sqlitestudio.pl/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":705,"column":94,"offset":35528},"end":{"line":705,"column":169,"offset":35603}}},{"type":"text","value":"Install SQLITE Studio here. (Links to an external site.)","position":{"start":{"line":705,"column":169,"offset":35603},"end":{"line":705,"column":225,"offset":35659}}},{"type":"raw","value":"</a>","position":{"start":{"line":705,"column":225,"offset":35659},"end":{"line":705,"column":229,"offset":35663}}}],"position":{"start":{"line":705,"column":1,"offset":35435},"end":{"line":705,"column":229,"offset":35663}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once installed, we can use SQLite Studio to open any ","position":{"start":{"line":707,"column":1,"offset":35665},"end":{"line":707,"column":54,"offset":35718}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".db3"}],"position":{"start":{"line":707,"column":54,"offset":35718},"end":{"line":707,"column":60,"offset":35724}}},{"type":"text","value":" file from a previous lesson. We may view the tables, view the data, and even make changes to the database.","position":{"start":{"line":707,"column":60,"offset":35724},"end":{"line":707,"column":167,"offset":35831}}}],"position":{"start":{"line":707,"column":1,"offset":35665},"end":{"line":707,"column":167,"offset":35831}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For a more detailed look at SQLite Studio, follow along in the video above.","position":{"start":{"line":709,"column":1,"offset":35833},"end":{"line":709,"column":76,"offset":35908}}}],"position":{"start":{"line":709,"column":1,"offset":35833},"end":{"line":709,"column":76,"offset":35908}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":711,"column":1,"offset":35910},"end":{"line":711,"column":4,"offset":35913}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>A **database schema** is the shape of our database. It defines what tables we'll have, which columns should exist within the tables and any restrictions on each column.","position":{"start":{"line":713,"column":1,"offset":35915},"end":{"line":713,"column":287,"offset":36201}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A well-designed database schema keeps the data well organized and can help ensure high-quality data.","position":{"start":{"line":715,"column":1,"offset":36203},"end":{"line":715,"column":101,"offset":36303}}}],"position":{"start":{"line":715,"column":1,"offset":36203},"end":{"line":715,"column":101,"offset":36303}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that while schema design is usually left to Database Administrators (DBAs), understanding schema helps when designing APIs and database logic. And in a smaller team, this step may fall on the developer.","position":{"start":{"line":717,"column":1,"offset":36305},"end":{"line":717,"column":208,"offset":36512}}}],"position":{"start":{"line":717,"column":1,"offset":36305},"end":{"line":717,"column":208,"offset":36512}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":719,"column":1,"offset":36514},"end":{"line":719,"column":4,"offset":36517}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>For a look at schema design in SQLite Studio, follow along in the video above.","position":{"start":{"line":721,"column":1,"offset":36519},"end":{"line":721,"column":197,"offset":36715}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When designing a single table, we need to ask three things:","position":{"start":{"line":723,"column":1,"offset":36717},"end":{"line":723,"column":60,"offset":36776}}}],"position":{"start":{"line":723,"column":1,"offset":36717},"end":{"line":723,"column":60,"offset":36776}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2e1a\">","position":{"start":{"line":725,"column":3,"offset":36780},"end":{"line":725,"column":19,"offset":36796}}},{"type":"text","value":"What fields (or columns) are present?","position":{"start":{"line":725,"column":19,"offset":36796},"end":{"line":725,"column":56,"offset":36833}}},{"type":"raw","value":"</span>","position":{"start":{"line":725,"column":56,"offset":36833},"end":{"line":725,"column":63,"offset":36840}}}],"position":{"start":{"line":725,"column":1,"offset":36778},"end":{"line":725,"column":63,"offset":36840}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"52e7\">","position":{"start":{"line":726,"column":3,"offset":36843},"end":{"line":726,"column":19,"offset":36859}}},{"type":"text","value":"What type of data do we expect for each field?","position":{"start":{"line":726,"column":19,"offset":36859},"end":{"line":726,"column":65,"offset":36905}}},{"type":"raw","value":"</span>","position":{"start":{"line":726,"column":65,"offset":36905},"end":{"line":726,"column":72,"offset":36912}}}],"position":{"start":{"line":726,"column":1,"offset":36841},"end":{"line":726,"column":72,"offset":36912}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"8aff\">","position":{"start":{"line":727,"column":3,"offset":36915},"end":{"line":727,"column":19,"offset":36931}}},{"type":"text","value":"Are there other restrictions needed for each column?","position":{"start":{"line":727,"column":19,"offset":36931},"end":{"line":727,"column":71,"offset":36983}}},{"type":"raw","value":"</span>","position":{"start":{"line":727,"column":71,"offset":36983},"end":{"line":727,"column":78,"offset":36990}}}],"position":{"start":{"line":727,"column":1,"offset":36913},"end":{"line":727,"column":78,"offset":36990}}},{"type":"text","value":"\n"}],"position":{"start":{"line":725,"column":1,"offset":36778},"end":{"line":727,"column":78,"offset":36990}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Looking at the following schema diagram for an ","position":{"start":{"line":729,"column":1,"offset":36992},"end":{"line":729,"column":48,"offset":37039}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accounts"}],"position":{"start":{"line":729,"column":48,"offset":37039},"end":{"line":729,"column":58,"offset":37049}}},{"type":"text","value":" table, we can the answer to each other those questions:","position":{"start":{"line":729,"column":58,"offset":37049},"end":{"line":729,"column":114,"offset":37105}}}],"position":{"start":{"line":729,"column":1,"offset":36992},"end":{"line":729,"column":114,"offset":37105}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/9790405dda624818822293a383eec2d2\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":731,"column":1,"offset":37107},"end":{"line":731,"column":106,"offset":37212}}},{"type":"text","value":"Untitled","position":{"start":{"line":731,"column":106,"offset":37212},"end":{"line":731,"column":114,"offset":37220}}},{"type":"raw","value":"</a>","position":{"start":{"line":731,"column":114,"offset":37220},"end":{"line":731,"column":118,"offset":37224}}}],"position":{"start":{"line":731,"column":1,"offset":37107},"end":{"line":731,"column":118,"offset":37224}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Table Fields","position":{"start":{"line":733,"column":5,"offset":37230},"end":{"line":733,"column":17,"offset":37242}}}],"position":{"start":{"line":733,"column":1,"offset":37226},"end":{"line":733,"column":17,"offset":37242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Choosing which fields to include in a table is relatively straight forward. What information needs to be tracked regarding this resource? In the real world, this is determined by the intended use of the product or app.","position":{"start":{"line":735,"column":1,"offset":37244},"end":{"line":735,"column":219,"offset":37462}}}],"position":{"start":{"line":735,"column":1,"offset":37244},"end":{"line":735,"column":219,"offset":37462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, this is one requirement every table should satisfy: a ","position":{"start":{"line":737,"column":1,"offset":37464},"end":{"line":737,"column":64,"offset":37527}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary key","position":{"start":{"line":737,"column":66,"offset":37529},"end":{"line":737,"column":77,"offset":37540}}}],"position":{"start":{"line":737,"column":64,"offset":37527},"end":{"line":737,"column":79,"offset":37542}}},{"type":"text","value":". A primary key is a way to identify each entry in the database uniquely. It is most often represented as a auto-incrementing integer called ","position":{"start":{"line":737,"column":79,"offset":37542},"end":{"line":737,"column":220,"offset":37683}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":737,"column":220,"offset":37683},"end":{"line":737,"column":224,"offset":37687}}},{"type":"text","value":" or ","position":{"start":{"line":737,"column":224,"offset":37687},"end":{"line":737,"column":228,"offset":37691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"[tablename]Id"}],"position":{"start":{"line":737,"column":228,"offset":37691},"end":{"line":737,"column":243,"offset":37706}}},{"type":"text","value":".","position":{"start":{"line":737,"column":243,"offset":37706},"end":{"line":737,"column":244,"offset":37707}}}],"position":{"start":{"line":737,"column":1,"offset":37464},"end":{"line":737,"column":244,"offset":37707}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Datatypes","position":{"start":{"line":739,"column":5,"offset":37713},"end":{"line":739,"column":14,"offset":37722}}}],"position":{"start":{"line":739,"column":1,"offset":37709},"end":{"line":739,"column":14,"offset":37722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each field must also have a specified datatype. The datatype available depends on our DBMS. Some supported datatype in SQLite include:","position":{"start":{"line":741,"column":1,"offset":37724},"end":{"line":741,"column":135,"offset":37858}}}],"position":{"start":{"line":741,"column":1,"offset":37724},"end":{"line":741,"column":135,"offset":37858}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"92fb\">","position":{"start":{"line":743,"column":3,"offset":37862},"end":{"line":743,"column":19,"offset":37878}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Null:","position":{"start":{"line":743,"column":21,"offset":37880},"end":{"line":743,"column":26,"offset":37885}}}],"position":{"start":{"line":743,"column":19,"offset":37878},"end":{"line":743,"column":28,"offset":37887}}},{"type":"text","value":" Missing or unknown information.","position":{"start":{"line":743,"column":28,"offset":37887},"end":{"line":743,"column":60,"offset":37919}}},{"type":"raw","value":"</span>","position":{"start":{"line":743,"column":60,"offset":37919},"end":{"line":743,"column":67,"offset":37926}}}],"position":{"start":{"line":743,"column":1,"offset":37860},"end":{"line":743,"column":67,"offset":37926}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"32ef\">","position":{"start":{"line":744,"column":3,"offset":37929},"end":{"line":744,"column":19,"offset":37945}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Integer:","position":{"start":{"line":744,"column":21,"offset":37947},"end":{"line":744,"column":29,"offset":37955}}}],"position":{"start":{"line":744,"column":19,"offset":37945},"end":{"line":744,"column":31,"offset":37957}}},{"type":"text","value":" Whole numbers.","position":{"start":{"line":744,"column":31,"offset":37957},"end":{"line":744,"column":46,"offset":37972}}},{"type":"raw","value":"</span>","position":{"start":{"line":744,"column":46,"offset":37972},"end":{"line":744,"column":53,"offset":37979}}}],"position":{"start":{"line":744,"column":1,"offset":37927},"end":{"line":744,"column":53,"offset":37979}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"181d\">","position":{"start":{"line":745,"column":3,"offset":37982},"end":{"line":745,"column":19,"offset":37998}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Real:","position":{"start":{"line":745,"column":21,"offset":38000},"end":{"line":745,"column":26,"offset":38005}}}],"position":{"start":{"line":745,"column":19,"offset":37998},"end":{"line":745,"column":28,"offset":38007}}},{"type":"text","value":" Any number, including decimals.","position":{"start":{"line":745,"column":28,"offset":38007},"end":{"line":745,"column":60,"offset":38039}}},{"type":"raw","value":"</span>","position":{"start":{"line":745,"column":60,"offset":38039},"end":{"line":745,"column":67,"offset":38046}}}],"position":{"start":{"line":745,"column":1,"offset":37980},"end":{"line":745,"column":67,"offset":38046}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ebce\">","position":{"start":{"line":746,"column":3,"offset":38049},"end":{"line":746,"column":19,"offset":38065}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Text:","position":{"start":{"line":746,"column":21,"offset":38067},"end":{"line":746,"column":26,"offset":38072}}}],"position":{"start":{"line":746,"column":19,"offset":38065},"end":{"line":746,"column":28,"offset":38074}}},{"type":"text","value":" Character data.","position":{"start":{"line":746,"column":28,"offset":38074},"end":{"line":746,"column":44,"offset":38090}}},{"type":"raw","value":"</span>","position":{"start":{"line":746,"column":44,"offset":38090},"end":{"line":746,"column":51,"offset":38097}}}],"position":{"start":{"line":746,"column":1,"offset":38047},"end":{"line":746,"column":51,"offset":38097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c00e\">","position":{"start":{"line":747,"column":3,"offset":38100},"end":{"line":747,"column":19,"offset":38116}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Blob:","position":{"start":{"line":747,"column":21,"offset":38118},"end":{"line":747,"column":26,"offset":38123}}}],"position":{"start":{"line":747,"column":19,"offset":38116},"end":{"line":747,"column":28,"offset":38125}}},{"type":"text","value":" a large binary object that can be used to store miscellaneous data.","position":{"start":{"line":747,"column":28,"offset":38125},"end":{"line":747,"column":96,"offset":38193}}},{"type":"raw","value":"</span>","position":{"start":{"line":747,"column":96,"offset":38193},"end":{"line":747,"column":103,"offset":38200}}}],"position":{"start":{"line":747,"column":1,"offset":38098},"end":{"line":747,"column":103,"offset":38200}}},{"type":"text","value":"\n"}],"position":{"start":{"line":743,"column":1,"offset":37860},"end":{"line":747,"column":103,"offset":38200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Any data inserted into the table must match the datatypes determined in schema design.","position":{"start":{"line":749,"column":1,"offset":38202},"end":{"line":749,"column":87,"offset":38288}}}],"position":{"start":{"line":749,"column":1,"offset":38202},"end":{"line":749,"column":87,"offset":38288}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Constraints","position":{"start":{"line":751,"column":5,"offset":38294},"end":{"line":751,"column":16,"offset":38305}}}],"position":{"start":{"line":751,"column":1,"offset":38290},"end":{"line":751,"column":16,"offset":38305}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Beyond datatypes, we may add additional ","position":{"start":{"line":753,"column":1,"offset":38307},"end":{"line":753,"column":41,"offset":38347}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"constraints","position":{"start":{"line":753,"column":43,"offset":38349},"end":{"line":753,"column":54,"offset":38360}}}],"position":{"start":{"line":753,"column":41,"offset":38347},"end":{"line":753,"column":56,"offset":38362}}},{"type":"text","value":" on each field. Some examples include:","position":{"start":{"line":753,"column":56,"offset":38362},"end":{"line":753,"column":94,"offset":38400}}}],"position":{"start":{"line":753,"column":1,"offset":38307},"end":{"line":753,"column":94,"offset":38400}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"14ca\">","position":{"start":{"line":755,"column":3,"offset":38404},"end":{"line":755,"column":19,"offset":38420}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Not Null:","position":{"start":{"line":755,"column":21,"offset":38422},"end":{"line":755,"column":30,"offset":38431}}}],"position":{"start":{"line":755,"column":19,"offset":38420},"end":{"line":755,"column":32,"offset":38433}}},{"type":"text","value":" The field cannot be left empty","position":{"start":{"line":755,"column":32,"offset":38433},"end":{"line":755,"column":63,"offset":38464}}},{"type":"raw","value":"</span>","position":{"start":{"line":755,"column":63,"offset":38464},"end":{"line":755,"column":70,"offset":38471}}}],"position":{"start":{"line":755,"column":1,"offset":38402},"end":{"line":755,"column":70,"offset":38471}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"b533\">","position":{"start":{"line":756,"column":3,"offset":38474},"end":{"line":756,"column":19,"offset":38490}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Unique:","position":{"start":{"line":756,"column":21,"offset":38492},"end":{"line":756,"column":28,"offset":38499}}}],"position":{"start":{"line":756,"column":19,"offset":38490},"end":{"line":756,"column":30,"offset":38501}}},{"type":"text","value":" No two records can have the same value in this field","position":{"start":{"line":756,"column":30,"offset":38501},"end":{"line":756,"column":83,"offset":38554}}},{"type":"raw","value":"</span>","position":{"start":{"line":756,"column":83,"offset":38554},"end":{"line":756,"column":90,"offset":38561}}}],"position":{"start":{"line":756,"column":1,"offset":38472},"end":{"line":756,"column":90,"offset":38561}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f0c4\">","position":{"start":{"line":757,"column":3,"offset":38564},"end":{"line":757,"column":19,"offset":38580}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Primary key:","position":{"start":{"line":757,"column":21,"offset":38582},"end":{"line":757,"column":33,"offset":38594}}}],"position":{"start":{"line":757,"column":19,"offset":38580},"end":{"line":757,"column":35,"offset":38596}}},{"type":"text","value":" — Indicates this field is the primary key. Both the not null and unique constraints will be enforced.","position":{"start":{"line":757,"column":35,"offset":38596},"end":{"line":757,"column":137,"offset":38698}}},{"type":"raw","value":"</span>","position":{"start":{"line":757,"column":137,"offset":38698},"end":{"line":757,"column":144,"offset":38705}}}],"position":{"start":{"line":757,"column":1,"offset":38562},"end":{"line":757,"column":144,"offset":38705}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"f116\">","position":{"start":{"line":758,"column":3,"offset":38708},"end":{"line":758,"column":19,"offset":38724}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Default:","position":{"start":{"line":758,"column":21,"offset":38726},"end":{"line":758,"column":29,"offset":38734}}}],"position":{"start":{"line":758,"column":19,"offset":38724},"end":{"line":758,"column":31,"offset":38736}}},{"type":"text","value":" — Sets a default value if none is provided.","position":{"start":{"line":758,"column":31,"offset":38736},"end":{"line":758,"column":75,"offset":38780}}},{"type":"raw","value":"</span>","position":{"start":{"line":758,"column":75,"offset":38780},"end":{"line":758,"column":82,"offset":38787}}}],"position":{"start":{"line":758,"column":1,"offset":38706},"end":{"line":758,"column":82,"offset":38787}}},{"type":"text","value":"\n"}],"position":{"start":{"line":755,"column":1,"offset":38402},"end":{"line":758,"column":82,"offset":38787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As with data types, any data that does not satisfy the schema constraints will be rejected from the database.","position":{"start":{"line":760,"column":1,"offset":38789},"end":{"line":760,"column":110,"offset":38898}}}],"position":{"start":{"line":760,"column":1,"offset":38789},"end":{"line":760,"column":110,"offset":38898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":762,"column":1,"offset":38900},"end":{"line":762,"column":4,"offset":38903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":764,"column":1,"offset":38905},"end":{"line":764,"column":4,"offset":38908}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Multi-Table Design","position":{"start":{"line":766,"column":1,"offset":38910},"end":{"line":766,"column":141,"offset":39050}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another critical component of schema design is to understand how different tables relate to each other. This will be covered in later lesson.","position":{"start":{"line":768,"column":1,"offset":39052},"end":{"line":768,"column":142,"offset":39193}}}],"position":{"start":{"line":768,"column":1,"offset":39052},"end":{"line":768,"column":142,"offset":39193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex provides a ","position":{"start":{"line":770,"column":1,"offset":39195},"end":{"line":770,"column":17,"offset":39211}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":770,"column":19,"offset":39213},"end":{"line":770,"column":33,"offset":39227}}}],"position":{"start":{"line":770,"column":17,"offset":39211},"end":{"line":770,"column":35,"offset":39229}}},{"type":"text","value":", which allows us to write code to design our database schema. However, beyond thinking about columns and constraints, we must also consider updates.","position":{"start":{"line":770,"column":35,"offset":39229},"end":{"line":770,"column":184,"offset":39378}}}],"position":{"start":{"line":770,"column":1,"offset":39195},"end":{"line":770,"column":184,"offset":39378}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a schema needs to be updated, a developer must feel confident that the changes go into effect everywhere. This means schema updates on the developer's local machine, on any testing or staging versions, on the production database, and then on any other developer's local machines. This is where ","position":{"start":{"line":772,"column":1,"offset":39380},"end":{"line":772,"column":300,"offset":39679}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":772,"column":302,"offset":39681},"end":{"line":772,"column":312,"offset":39691}}}],"position":{"start":{"line":772,"column":300,"offset":39679},"end":{"line":772,"column":314,"offset":39693}}},{"type":"text","value":" come into play.","position":{"start":{"line":772,"column":314,"offset":39693},"end":{"line":772,"column":330,"offset":39709}}}],"position":{"start":{"line":772,"column":1,"offset":39380},"end":{"line":772,"column":330,"offset":39709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":774,"column":1,"offset":39711},"end":{"line":774,"column":3,"offset":39713}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"database migration"}],"position":{"start":{"line":774,"column":3,"offset":39713},"end":{"line":774,"column":23,"offset":39733}}},{"type":"text","value":" describes changes made to the structure of a database. Migrations include things like adding new objects, adding new tables, and modifying existing objects or tables.","position":{"start":{"line":774,"column":23,"offset":39733},"end":{"line":774,"column":190,"offset":39900}}}],"position":{"start":{"line":774,"column":1,"offset":39711},"end":{"line":774,"column":190,"offset":39900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":776,"column":1,"offset":39902},"end":{"line":776,"column":4,"offset":39905}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Cli","position":{"start":{"line":778,"column":1,"offset":39907},"end":{"line":778,"column":131,"offset":40037}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use migrations (and to make Knex setup easier), we need to use ","position":{"start":{"line":780,"column":1,"offset":40039},"end":{"line":780,"column":67,"offset":40105}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"knex cli","position":{"start":{"line":780,"column":69,"offset":40107},"end":{"line":780,"column":77,"offset":40115}}}],"position":{"start":{"line":780,"column":67,"offset":40105},"end":{"line":780,"column":79,"offset":40117}}},{"type":"text","value":". Install knex globally with ","position":{"start":{"line":780,"column":79,"offset":40117},"end":{"line":780,"column":108,"offset":40146}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install -g knex"}],"position":{"start":{"line":780,"column":108,"offset":40146},"end":{"line":780,"column":129,"offset":40167}}},{"type":"text","value":".","position":{"start":{"line":780,"column":129,"offset":40167},"end":{"line":780,"column":130,"offset":40168}}}],"position":{"start":{"line":780,"column":1,"offset":40039},"end":{"line":780,"column":130,"offset":40168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows you to use Knex commands within any repo that has ","position":{"start":{"line":782,"column":1,"offset":40170},"end":{"line":782,"column":63,"offset":40232}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":782,"column":63,"offset":40232},"end":{"line":782,"column":69,"offset":40238}}},{"type":"text","value":" as a local dependency. If you have any issues with this global install, you can use the ","position":{"start":{"line":782,"column":69,"offset":40238},"end":{"line":782,"column":158,"offset":40327}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex"}],"position":{"start":{"line":782,"column":158,"offset":40327},"end":{"line":782,"column":168,"offset":40337}}},{"type":"text","value":" command instead.","position":{"start":{"line":782,"column":168,"offset":40337},"end":{"line":782,"column":185,"offset":40354}}}],"position":{"start":{"line":782,"column":1,"offset":40170},"end":{"line":782,"column":185,"offset":40354}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Initializing Knex","position":{"start":{"line":784,"column":5,"offset":40360},"end":{"line":784,"column":22,"offset":40377}}}],"position":{"start":{"line":784,"column":1,"offset":40356},"end":{"line":784,"column":22,"offset":40377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To start, add the ","position":{"start":{"line":786,"column":1,"offset":40379},"end":{"line":786,"column":19,"offset":40397}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":786,"column":19,"offset":40397},"end":{"line":786,"column":25,"offset":40403}}},{"type":"text","value":" and ","position":{"start":{"line":786,"column":25,"offset":40403},"end":{"line":786,"column":30,"offset":40408}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":786,"column":30,"offset":40408},"end":{"line":786,"column":39,"offset":40417}}},{"type":"text","value":" libraries to your repository.","position":{"start":{"line":786,"column":39,"offset":40417},"end":{"line":786,"column":69,"offset":40447}}}],"position":{"start":{"line":786,"column":1,"offset":40379},"end":{"line":786,"column":69,"offset":40447}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3"}],"position":{"start":{"line":788,"column":1,"offset":40449},"end":{"line":788,"column":27,"offset":40475}}}],"position":{"start":{"line":788,"column":1,"offset":40449},"end":{"line":788,"column":27,"offset":40475}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We've seen how to use manually create a config object to get started with Knex, but the best practice is to use the following command:","position":{"start":{"line":790,"column":1,"offset":40477},"end":{"line":790,"column":135,"offset":40611}}}],"position":{"start":{"line":790,"column":1,"offset":40477},"end":{"line":790,"column":135,"offset":40611}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex init\n"}],"position":{"start":{"line":792,"column":1,"offset":40613},"end":{"line":792,"column":14,"offset":40626}}}],"position":{"start":{"line":792,"column":1,"offset":40613},"end":{"line":792,"column":14,"offset":40626}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Or, if Knex isn't globally installed:","position":{"start":{"line":794,"column":1,"offset":40628},"end":{"line":794,"column":38,"offset":40665}}}],"position":{"start":{"line":794,"column":1,"offset":40628},"end":{"line":794,"column":38,"offset":40665}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex init\n"}],"position":{"start":{"line":796,"column":1,"offset":40667},"end":{"line":796,"column":18,"offset":40684}}}],"position":{"start":{"line":796,"column":1,"offset":40667},"end":{"line":796,"column":18,"offset":40684}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command will generate a file in your root folder called ","position":{"start":{"line":798,"column":1,"offset":40686},"end":{"line":798,"column":62,"offset":40747}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile.js"}],"position":{"start":{"line":798,"column":62,"offset":40747},"end":{"line":798,"column":75,"offset":40760}}},{"type":"text","value":". It will be auto populated with three config objects, based on different environments. We can delete all except for the development object.","position":{"start":{"line":798,"column":75,"offset":40760},"end":{"line":798,"column":215,"offset":40900}}}],"position":{"start":{"line":798,"column":1,"offset":40686},"end":{"line":798,"column":215,"offset":40900}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    client: 'sqlite3',\n    connection: {\n      filename: './dev.sqlite3'\n    }\n  }\n\n};\n"}],"position":{"start":{"line":800,"column":1,"offset":40902},"end":{"line":809,"column":7,"offset":41055}}}],"position":{"start":{"line":800,"column":1,"offset":40902},"end":{"line":809,"column":7,"offset":41055}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We'll need to update the location (or desired location) of the database as well as add the ","position":{"start":{"line":811,"column":1,"offset":41057},"end":{"line":811,"column":92,"offset":41148}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":811,"column":92,"offset":41148},"end":{"line":811,"column":110,"offset":41166}}},{"type":"text","value":" option. The latter option prevents crashes when working with ","position":{"start":{"line":811,"column":110,"offset":41166},"end":{"line":811,"column":172,"offset":41228}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":811,"column":172,"offset":41228},"end":{"line":811,"column":181,"offset":41237}}},{"type":"text","value":".","position":{"start":{"line":811,"column":181,"offset":41237},"end":{"line":811,"column":182,"offset":41238}}}],"position":{"start":{"line":811,"column":1,"offset":41057},"end":{"line":811,"column":182,"offset":41238}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    // our DBMS driver\n    client: 'sqlite3',\n    // the location of our db\n    connection: {\n      filename: './data/database_file.db3',\n    },\n    // necessary when using sqlite3\n    useNullAsDefault: true\n  }\n\n};\n"}],"position":{"start":{"line":813,"column":1,"offset":41240},"end":{"line":826,"column":7,"offset":41538}}}],"position":{"start":{"line":813,"column":1,"offset":41240},"end":{"line":826,"column":7,"offset":41538}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, wherever we configure our database, we may use the following syntax instead of hardcoding in a config object.","position":{"start":{"line":828,"column":1,"offset":41540},"end":{"line":828,"column":115,"offset":41654}}}],"position":{"start":{"line":828,"column":1,"offset":41540},"end":{"line":828,"column":115,"offset":41654}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = require('../knexfile.js');\n\n// we must select the development object from our knexfile\nconst db = knex(config.development);\n\n// export for use in codebase\nmodule.exports = db;\n"}],"position":{"start":{"line":830,"column":1,"offset":41656},"end":{"line":838,"column":25,"offset":41901}}}],"position":{"start":{"line":830,"column":1,"offset":41656},"end":{"line":838,"column":25,"offset":41901}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Knex Migrations","position":{"start":{"line":840,"column":5,"offset":41907},"end":{"line":840,"column":20,"offset":41922}}}],"position":{"start":{"line":840,"column":1,"offset":41903},"end":{"line":840,"column":20,"offset":41922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once our ","position":{"start":{"line":842,"column":1,"offset":41924},"end":{"line":842,"column":10,"offset":41933}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":842,"column":10,"offset":41933},"end":{"line":842,"column":20,"offset":41943}}},{"type":"text","value":" is set up, we can begin creating ","position":{"start":{"line":842,"column":20,"offset":41943},"end":{"line":842,"column":54,"offset":41977}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":842,"column":56,"offset":41979},"end":{"line":842,"column":66,"offset":41989}}}],"position":{"start":{"line":842,"column":54,"offset":41977},"end":{"line":842,"column":68,"offset":41991}}},{"type":"text","value":". Though it's not required, we are going to add an ","position":{"start":{"line":842,"column":68,"offset":41991},"end":{"line":842,"column":119,"offset":42042}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"addition"}],"position":{"start":{"line":842,"column":119,"offset":42042},"end":{"line":842,"column":129,"offset":42052}}},{"type":"text","value":" option to the config object to specify a directory for the migration files.","position":{"start":{"line":842,"column":129,"offset":42052},"end":{"line":842,"column":205,"offset":42128}}}],"position":{"start":{"line":842,"column":1,"offset":41924},"end":{"line":842,"column":205,"offset":42128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    }\n  }\n"}],"position":{"start":{"line":844,"column":1,"offset":42130},"end":{"line":854,"column":8,"offset":42429}}}],"position":{"start":{"line":844,"column":1,"offset":42130},"end":{"line":854,"column":8,"offset":42429}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can generate a new migration with the following command:","position":{"start":{"line":856,"column":1,"offset":42431},"end":{"line":856,"column":60,"offset":42490}}}],"position":{"start":{"line":856,"column":1,"offset":42431},"end":{"line":856,"column":60,"offset":42490}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make [migration-name]"}],"position":{"start":{"line":858,"column":1,"offset":42492},"end":{"line":858,"column":37,"offset":42528}}}],"position":{"start":{"line":858,"column":1,"offset":42492},"end":{"line":858,"column":37,"offset":42528}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we needed to create an accounts table, we might run:","position":{"start":{"line":860,"column":1,"offset":42530},"end":{"line":860,"column":56,"offset":42585}}}],"position":{"start":{"line":860,"column":1,"offset":42530},"end":{"line":860,"column":56,"offset":42585}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make create-accounts"}],"position":{"start":{"line":862,"column":1,"offset":42587},"end":{"line":862,"column":36,"offset":42622}}}],"position":{"start":{"line":862,"column":1,"offset":42587},"end":{"line":862,"column":36,"offset":42622}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that inside ","position":{"start":{"line":864,"column":1,"offset":42624},"end":{"line":864,"column":18,"offset":42641}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"data/migrations/"}],"position":{"start":{"line":864,"column":18,"offset":42641},"end":{"line":864,"column":36,"offset":42659}}},{"type":"text","value":" a new file has appeared. Migrations have a timestamp in their filenames automatically. Wither you like this or not, ","position":{"start":{"line":864,"column":36,"offset":42659},"end":{"line":864,"column":153,"offset":42776}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"do not edit migration names.","position":{"start":{"line":864,"column":155,"offset":42778},"end":{"line":864,"column":183,"offset":42806}}}],"position":{"start":{"line":864,"column":153,"offset":42776},"end":{"line":864,"column":185,"offset":42808}}}],"position":{"start":{"line":864,"column":1,"offset":42624},"end":{"line":864,"column":185,"offset":42808}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The migration file should have both an ","position":{"start":{"line":866,"column":1,"offset":42810},"end":{"line":866,"column":40,"offset":42849}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":40,"offset":42849},"end":{"line":866,"column":44,"offset":42853}}},{"type":"text","value":" and a ","position":{"start":{"line":866,"column":44,"offset":42853},"end":{"line":866,"column":51,"offset":42860}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":866,"column":51,"offset":42860},"end":{"line":866,"column":57,"offset":42866}}},{"type":"text","value":" function. Within the ","position":{"start":{"line":866,"column":57,"offset":42866},"end":{"line":866,"column":79,"offset":42888}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":79,"offset":42888},"end":{"line":866,"column":83,"offset":42892}}},{"type":"text","value":" function, we write the ended database changes. Within the ","position":{"start":{"line":866,"column":83,"offset":42892},"end":{"line":866,"column":142,"offset":42951}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":866,"column":142,"offset":42951},"end":{"line":866,"column":148,"offset":42957}}},{"type":"text","value":" function, we write the code to undo the ","position":{"start":{"line":866,"column":148,"offset":42957},"end":{"line":866,"column":189,"offset":42998}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":866,"column":189,"offset":42998},"end":{"line":866,"column":193,"offset":43002}}},{"type":"text","value":" functions. This allows us to undo any changes made to the schema if necessary.","position":{"start":{"line":866,"column":193,"offset":43002},"end":{"line":866,"column":272,"offset":43081}}}],"position":{"start":{"line":866,"column":1,"offset":42810},"end":{"line":866,"column":272,"offset":43081}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  // don't forget the return statement\n  return knex.schema.createTable('accounts', tbl => {\n    // creates a primary key called id\n    tbl.increments();\n    // creates a text field called name which is both required and unique\n    tbl.text('name', 128).unique().notNullable();\n    // creates a numeric field called budget which is required\n    tbl.decimal('budget').notNullable();\n  });\n};\n\nexports.down = function(knex, Promise) {\n  // drops the entire table\n  return knex.schema.dropTableIfExists('accounts');\n};\n"}],"position":{"start":{"line":868,"column":1,"offset":43083},"end":{"line":883,"column":7,"offset":43697}}}],"position":{"start":{"line":868,"column":1,"offset":43083},"end":{"line":883,"column":7,"offset":43697}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References for these methods are found in the ","position":{"start":{"line":885,"column":1,"offset":43699},"end":{"line":885,"column":47,"offset":43745}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":885,"column":49,"offset":43747},"end":{"line":885,"column":63,"offset":43761}}}],"position":{"start":{"line":885,"column":47,"offset":43745},"end":{"line":885,"column":65,"offset":43763}}},{"type":"text","value":" section of the ","position":{"start":{"line":885,"column":65,"offset":43763},"end":{"line":885,"column":81,"offset":43779}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":885,"column":81,"offset":43779},"end":{"line":885,"column":151,"offset":43849}}},{"type":"text","value":"Knex docs (Links to an external site.)","position":{"start":{"line":885,"column":151,"offset":43849},"end":{"line":885,"column":189,"offset":43887}}},{"type":"raw","value":"</a>","position":{"start":{"line":885,"column":189,"offset":43887},"end":{"line":885,"column":193,"offset":43891}}},{"type":"text","value":".","position":{"start":{"line":885,"column":193,"offset":43891},"end":{"line":885,"column":194,"offset":43892}}}],"position":{"start":{"line":885,"column":1,"offset":43699},"end":{"line":885,"column":194,"offset":43892}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, the table is ","position":{"start":{"line":887,"column":1,"offset":43894},"end":{"line":887,"column":29,"offset":43922}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":887,"column":31,"offset":43924},"end":{"line":887,"column":34,"offset":43927}}}],"position":{"start":{"line":887,"column":29,"offset":43922},"end":{"line":887,"column":36,"offset":43929}}},{"type":"text","value":" yet created. To run this (and any other) migrations, use the command:","position":{"start":{"line":887,"column":36,"offset":43929},"end":{"line":887,"column":106,"offset":43999}}}],"position":{"start":{"line":887,"column":1,"offset":43894},"end":{"line":887,"column":106,"offset":43999}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":889,"column":1,"offset":44001},"end":{"line":889,"column":22,"offset":44022}}}],"position":{"start":{"line":889,"column":1,"offset":44001},"end":{"line":889,"column":22,"offset":44022}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note if the database does not exist, this command will auto-generate one. We can use SQLite Studio to confirm that the accounts table has been created.","position":{"start":{"line":891,"column":1,"offset":44024},"end":{"line":891,"column":152,"offset":44175}}}],"position":{"start":{"line":891,"column":1,"offset":44024},"end":{"line":891,"column":152,"offset":44175}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Changes and Rollbacks","position":{"start":{"line":893,"column":5,"offset":44181},"end":{"line":893,"column":26,"offset":44202}}}],"position":{"start":{"line":893,"column":1,"offset":44177},"end":{"line":893,"column":26,"offset":44202}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If later down the road, we realize you need to update your schema, you shouldn't edit the migration file. Instead, you will want to create a new migration with the command:","position":{"start":{"line":895,"column":1,"offset":44204},"end":{"line":895,"column":173,"offset":44376}}}],"position":{"start":{"line":895,"column":1,"offset":44204},"end":{"line":895,"column":173,"offset":44376}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make accounts-schema-update"}],"position":{"start":{"line":897,"column":1,"offset":44378},"end":{"line":897,"column":43,"offset":44420}}}],"position":{"start":{"line":897,"column":1,"offset":44378},"end":{"line":897,"column":43,"offset":44420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once we've written our updates into this file we save and close with:","position":{"start":{"line":899,"column":1,"offset":44422},"end":{"line":899,"column":70,"offset":44491}}}],"position":{"start":{"line":899,"column":1,"offset":44422},"end":{"line":899,"column":70,"offset":44491}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":901,"column":1,"offset":44493},"end":{"line":901,"column":22,"offset":44514}}}],"position":{"start":{"line":901,"column":1,"offset":44493},"end":{"line":901,"column":22,"offset":44514}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we migrate our database and then quickly realize something isn't right, we can edit the migration file. However, first, we need to ","position":{"start":{"line":903,"column":1,"offset":44516},"end":{"line":903,"column":135,"offset":44650}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"rolllback","position":{"start":{"line":903,"column":137,"offset":44652},"end":{"line":903,"column":146,"offset":44661}}}],"position":{"start":{"line":903,"column":135,"offset":44650},"end":{"line":903,"column":148,"offset":44663}}},{"type":"text","value":" (or undo) our last migration with:","position":{"start":{"line":903,"column":148,"offset":44663},"end":{"line":903,"column":183,"offset":44698}}}],"position":{"start":{"line":903,"column":1,"offset":44516},"end":{"line":903,"column":183,"offset":44698}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:rollback"}],"position":{"start":{"line":905,"column":1,"offset":44700},"end":{"line":905,"column":24,"offset":44723}}}],"position":{"start":{"line":905,"column":1,"offset":44700},"end":{"line":905,"column":24,"offset":44723}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, we are free to rerun that file with ","position":{"start":{"line":907,"column":1,"offset":44725},"end":{"line":907,"column":46,"offset":44770}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate"}],"position":{"start":{"line":907,"column":46,"offset":44770},"end":{"line":907,"column":60,"offset":44784}}},{"type":"text","value":" latest.","position":{"start":{"line":907,"column":60,"offset":44784},"end":{"line":907,"column":68,"offset":44792}}}],"position":{"start":{"line":907,"column":1,"offset":44725},"end":{"line":907,"column":68,"offset":44792}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":909,"column":3,"offset":44796},"end":{"line":909,"column":7,"offset":44800}}}],"position":{"start":{"line":909,"column":1,"offset":44794},"end":{"line":909,"column":9,"offset":44802}}},{"type":"text","value":": A rollback should not be used to edit an old migration file once that file has accepted into a main branch. However, an entire team may use a rollback to return to a previous version of a database.","position":{"start":{"line":909,"column":9,"offset":44802},"end":{"line":909,"column":208,"offset":45001}}}],"position":{"start":{"line":909,"column":1,"offset":44794},"end":{"line":909,"column":208,"offset":45001}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":911,"column":5,"offset":45007},"end":{"line":911,"column":13,"offset":45015}}}],"position":{"start":{"line":911,"column":1,"offset":45003},"end":{"line":911,"column":13,"offset":45015}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Knex provides a ","position":{"start":{"line":913,"column":1,"offset":45017},"end":{"line":913,"column":17,"offset":45033}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":913,"column":19,"offset":45035},"end":{"line":913,"column":33,"offset":45049}}}],"position":{"start":{"line":913,"column":17,"offset":45033},"end":{"line":913,"column":35,"offset":45051}}},{"type":"text","value":", which allows us to write code to design our database schema. However, beyond thinking about columns and constraints, we must also consider updates.","position":{"start":{"line":913,"column":35,"offset":45051},"end":{"line":913,"column":184,"offset":45200}}}],"position":{"start":{"line":913,"column":1,"offset":45017},"end":{"line":913,"column":184,"offset":45200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When a schema needs to be updated, a developer must feel confident that the changes go into effect everywhere. This means schema updates on the developer's local machine, on any testing or staging versions, on the production database, and then on any other developer's local machines. This is where ","position":{"start":{"line":915,"column":1,"offset":45202},"end":{"line":915,"column":300,"offset":45501}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":915,"column":302,"offset":45503},"end":{"line":915,"column":312,"offset":45513}}}],"position":{"start":{"line":915,"column":300,"offset":45501},"end":{"line":915,"column":314,"offset":45515}}},{"type":"text","value":" come into play.","position":{"start":{"line":915,"column":314,"offset":45515},"end":{"line":915,"column":330,"offset":45531}}}],"position":{"start":{"line":915,"column":1,"offset":45202},"end":{"line":915,"column":330,"offset":45531}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A ","position":{"start":{"line":917,"column":1,"offset":45533},"end":{"line":917,"column":3,"offset":45535}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"database migration"}],"position":{"start":{"line":917,"column":3,"offset":45535},"end":{"line":917,"column":23,"offset":45555}}},{"type":"text","value":" describes changes made to the structure of a database. Migrations include things like adding new objects, adding new tables, and modifying existing objects or tables.","position":{"start":{"line":917,"column":23,"offset":45555},"end":{"line":917,"column":190,"offset":45722}}}],"position":{"start":{"line":917,"column":1,"offset":45533},"end":{"line":917,"column":190,"offset":45722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":919,"column":1,"offset":45724},"end":{"line":919,"column":4,"offset":45727}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### Knex Cli","position":{"start":{"line":921,"column":1,"offset":45729},"end":{"line":921,"column":131,"offset":45859}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use migrations (and to make Knex setup easier), we need to use ","position":{"start":{"line":923,"column":1,"offset":45861},"end":{"line":923,"column":67,"offset":45927}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"knex cli","position":{"start":{"line":923,"column":69,"offset":45929},"end":{"line":923,"column":77,"offset":45937}}}],"position":{"start":{"line":923,"column":67,"offset":45927},"end":{"line":923,"column":79,"offset":45939}}},{"type":"text","value":". Install knex globally with ","position":{"start":{"line":923,"column":79,"offset":45939},"end":{"line":923,"column":108,"offset":45968}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install -g knex"}],"position":{"start":{"line":923,"column":108,"offset":45968},"end":{"line":923,"column":129,"offset":45989}}},{"type":"text","value":".","position":{"start":{"line":923,"column":129,"offset":45989},"end":{"line":923,"column":130,"offset":45990}}}],"position":{"start":{"line":923,"column":1,"offset":45861},"end":{"line":923,"column":130,"offset":45990}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This allows you to use Knex commands within any repo that has ","position":{"start":{"line":925,"column":1,"offset":45992},"end":{"line":925,"column":63,"offset":46054}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":925,"column":63,"offset":46054},"end":{"line":925,"column":69,"offset":46060}}},{"type":"text","value":" as a local dependency. If you have any issues with this global install, you can use the ","position":{"start":{"line":925,"column":69,"offset":46060},"end":{"line":925,"column":158,"offset":46149}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex"}],"position":{"start":{"line":925,"column":158,"offset":46149},"end":{"line":925,"column":168,"offset":46159}}},{"type":"text","value":" command instead.","position":{"start":{"line":925,"column":168,"offset":46159},"end":{"line":925,"column":185,"offset":46176}}}],"position":{"start":{"line":925,"column":1,"offset":45992},"end":{"line":925,"column":185,"offset":46176}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Initializing Knex","position":{"start":{"line":927,"column":5,"offset":46182},"end":{"line":927,"column":22,"offset":46199}}}],"position":{"start":{"line":927,"column":1,"offset":46178},"end":{"line":927,"column":22,"offset":46199}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To start, add the ","position":{"start":{"line":929,"column":1,"offset":46201},"end":{"line":929,"column":19,"offset":46219}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":929,"column":19,"offset":46219},"end":{"line":929,"column":25,"offset":46225}}},{"type":"text","value":" and ","position":{"start":{"line":929,"column":25,"offset":46225},"end":{"line":929,"column":30,"offset":46230}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":929,"column":30,"offset":46230},"end":{"line":929,"column":39,"offset":46239}}},{"type":"text","value":" libraries to your repository.","position":{"start":{"line":929,"column":39,"offset":46239},"end":{"line":929,"column":69,"offset":46269}}}],"position":{"start":{"line":929,"column":1,"offset":46201},"end":{"line":929,"column":69,"offset":46269}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex sqlite3"}],"position":{"start":{"line":931,"column":1,"offset":46271},"end":{"line":931,"column":27,"offset":46297}}}],"position":{"start":{"line":931,"column":1,"offset":46271},"end":{"line":931,"column":27,"offset":46297}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We've seen how to use manually create a config object to get started with Knex, but the best practice is to use the following command:","position":{"start":{"line":933,"column":1,"offset":46299},"end":{"line":933,"column":135,"offset":46433}}}],"position":{"start":{"line":933,"column":1,"offset":46299},"end":{"line":933,"column":135,"offset":46433}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex init\n"}],"position":{"start":{"line":935,"column":1,"offset":46435},"end":{"line":935,"column":14,"offset":46448}}}],"position":{"start":{"line":935,"column":1,"offset":46435},"end":{"line":935,"column":14,"offset":46448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Or, if Knex isn't globally installed:","position":{"start":{"line":937,"column":1,"offset":46450},"end":{"line":937,"column":38,"offset":46487}}}],"position":{"start":{"line":937,"column":1,"offset":46450},"end":{"line":937,"column":38,"offset":46487}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npx knex init\n"}],"position":{"start":{"line":939,"column":1,"offset":46489},"end":{"line":939,"column":18,"offset":46506}}}],"position":{"start":{"line":939,"column":1,"offset":46489},"end":{"line":939,"column":18,"offset":46506}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command will generate a file in your root folder called ","position":{"start":{"line":941,"column":1,"offset":46508},"end":{"line":941,"column":62,"offset":46569}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile.js"}],"position":{"start":{"line":941,"column":62,"offset":46569},"end":{"line":941,"column":75,"offset":46582}}},{"type":"text","value":". It will be auto populated with three config objects, based on different environments. We can delete all except for the development object.","position":{"start":{"line":941,"column":75,"offset":46582},"end":{"line":941,"column":215,"offset":46722}}}],"position":{"start":{"line":941,"column":1,"offset":46508},"end":{"line":941,"column":215,"offset":46722}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    client: 'sqlite3',\n    connection: {\n      filename: './dev.sqlite3'\n    }\n  }\n\n};\n"}],"position":{"start":{"line":943,"column":1,"offset":46724},"end":{"line":952,"column":7,"offset":46877}}}],"position":{"start":{"line":943,"column":1,"offset":46724},"end":{"line":952,"column":7,"offset":46877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We'll need to update the location (or desired location) of the database as well as add the ","position":{"start":{"line":954,"column":1,"offset":46879},"end":{"line":954,"column":92,"offset":46970}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"useNullAsDefault"}],"position":{"start":{"line":954,"column":92,"offset":46970},"end":{"line":954,"column":110,"offset":46988}}},{"type":"text","value":" option. The latter option prevents crashes when working with ","position":{"start":{"line":954,"column":110,"offset":46988},"end":{"line":954,"column":172,"offset":47050}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sqlite3"}],"position":{"start":{"line":954,"column":172,"offset":47050},"end":{"line":954,"column":181,"offset":47059}}},{"type":"text","value":".","position":{"start":{"line":954,"column":181,"offset":47059},"end":{"line":954,"column":182,"offset":47060}}}],"position":{"start":{"line":954,"column":1,"offset":46879},"end":{"line":954,"column":182,"offset":47060}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n\ndevelopment: {\n    // our DBMS driver\n    client: 'sqlite3',\n    // the location of our db\n    connection: {\n      filename: './data/database_file.db3',\n    },\n    // necessary when using sqlite3\n    useNullAsDefault: true\n  }\n\n};\n"}],"position":{"start":{"line":956,"column":1,"offset":47062},"end":{"line":969,"column":7,"offset":47360}}}],"position":{"start":{"line":956,"column":1,"offset":47062},"end":{"line":969,"column":7,"offset":47360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, wherever we configure our database, we may use the following syntax instead of hardcoding in a config object.","position":{"start":{"line":971,"column":1,"offset":47362},"end":{"line":971,"column":115,"offset":47476}}}],"position":{"start":{"line":971,"column":1,"offset":47362},"end":{"line":971,"column":115,"offset":47476}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const knex = require('knex');\n\nconst config = require('../knexfile.js');\n\n// we must select the development object from our knexfile\nconst db = knex(config.development);\n\n// export for use in codebase\nmodule.exports = db;\n"}],"position":{"start":{"line":973,"column":1,"offset":47478},"end":{"line":981,"column":25,"offset":47723}}}],"position":{"start":{"line":973,"column":1,"offset":47478},"end":{"line":981,"column":25,"offset":47723}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Knex Migrations","position":{"start":{"line":983,"column":5,"offset":47729},"end":{"line":983,"column":20,"offset":47744}}}],"position":{"start":{"line":983,"column":1,"offset":47725},"end":{"line":983,"column":20,"offset":47744}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once our ","position":{"start":{"line":985,"column":1,"offset":47746},"end":{"line":985,"column":10,"offset":47755}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":985,"column":10,"offset":47755},"end":{"line":985,"column":20,"offset":47765}}},{"type":"text","value":" is set up, we can begin creating ","position":{"start":{"line":985,"column":20,"offset":47765},"end":{"line":985,"column":54,"offset":47799}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"migrations","position":{"start":{"line":985,"column":56,"offset":47801},"end":{"line":985,"column":66,"offset":47811}}}],"position":{"start":{"line":985,"column":54,"offset":47799},"end":{"line":985,"column":68,"offset":47813}}},{"type":"text","value":". Though it's not required, we are going to add an ","position":{"start":{"line":985,"column":68,"offset":47813},"end":{"line":985,"column":119,"offset":47864}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"addition"}],"position":{"start":{"line":985,"column":119,"offset":47864},"end":{"line":985,"column":129,"offset":47874}}},{"type":"text","value":" option to the config object to specify a directory for the migration files.","position":{"start":{"line":985,"column":129,"offset":47874},"end":{"line":985,"column":205,"offset":47950}}}],"position":{"start":{"line":985,"column":1,"offset":47746},"end":{"line":985,"column":205,"offset":47950}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    }\n  }\n"}],"position":{"start":{"line":987,"column":1,"offset":47952},"end":{"line":997,"column":8,"offset":48251}}}],"position":{"start":{"line":987,"column":1,"offset":47952},"end":{"line":997,"column":8,"offset":48251}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can generate a new migration with the following command:","position":{"start":{"line":999,"column":1,"offset":48253},"end":{"line":999,"column":60,"offset":48312}}}],"position":{"start":{"line":999,"column":1,"offset":48253},"end":{"line":999,"column":60,"offset":48312}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make [migration-name]"}],"position":{"start":{"line":1001,"column":1,"offset":48314},"end":{"line":1001,"column":37,"offset":48350}}}],"position":{"start":{"line":1001,"column":1,"offset":48314},"end":{"line":1001,"column":37,"offset":48350}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we needed to create an accounts table, we might run:","position":{"start":{"line":1003,"column":1,"offset":48352},"end":{"line":1003,"column":56,"offset":48407}}}],"position":{"start":{"line":1003,"column":1,"offset":48352},"end":{"line":1003,"column":56,"offset":48407}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make create-accounts"}],"position":{"start":{"line":1005,"column":1,"offset":48409},"end":{"line":1005,"column":36,"offset":48444}}}],"position":{"start":{"line":1005,"column":1,"offset":48409},"end":{"line":1005,"column":36,"offset":48444}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that inside ","position":{"start":{"line":1007,"column":1,"offset":48446},"end":{"line":1007,"column":18,"offset":48463}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"data/migrations/"}],"position":{"start":{"line":1007,"column":18,"offset":48463},"end":{"line":1007,"column":36,"offset":48481}}},{"type":"text","value":" a new file has appeared. Migrations have a timestamp in their filenames automatically. Wither you like this or not, ","position":{"start":{"line":1007,"column":36,"offset":48481},"end":{"line":1007,"column":153,"offset":48598}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"do not edit migration names.","position":{"start":{"line":1007,"column":155,"offset":48600},"end":{"line":1007,"column":183,"offset":48628}}}],"position":{"start":{"line":1007,"column":153,"offset":48598},"end":{"line":1007,"column":185,"offset":48630}}}],"position":{"start":{"line":1007,"column":1,"offset":48446},"end":{"line":1007,"column":185,"offset":48630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The migration file should have both an ","position":{"start":{"line":1009,"column":1,"offset":48632},"end":{"line":1009,"column":40,"offset":48671}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":40,"offset":48671},"end":{"line":1009,"column":44,"offset":48675}}},{"type":"text","value":" and a ","position":{"start":{"line":1009,"column":44,"offset":48675},"end":{"line":1009,"column":51,"offset":48682}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":1009,"column":51,"offset":48682},"end":{"line":1009,"column":57,"offset":48688}}},{"type":"text","value":" function. Within the ","position":{"start":{"line":1009,"column":57,"offset":48688},"end":{"line":1009,"column":79,"offset":48710}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":79,"offset":48710},"end":{"line":1009,"column":83,"offset":48714}}},{"type":"text","value":" function, we write the ended database changes. Within the ","position":{"start":{"line":1009,"column":83,"offset":48714},"end":{"line":1009,"column":142,"offset":48773}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"down"}],"position":{"start":{"line":1009,"column":142,"offset":48773},"end":{"line":1009,"column":148,"offset":48779}}},{"type":"text","value":" function, we write the code to undo the ","position":{"start":{"line":1009,"column":148,"offset":48779},"end":{"line":1009,"column":189,"offset":48820}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1009,"column":189,"offset":48820},"end":{"line":1009,"column":193,"offset":48824}}},{"type":"text","value":" functions. This allows us to undo any changes made to the schema if necessary.","position":{"start":{"line":1009,"column":193,"offset":48824},"end":{"line":1009,"column":272,"offset":48903}}}],"position":{"start":{"line":1009,"column":1,"offset":48632},"end":{"line":1009,"column":272,"offset":48903}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  // don't forget the return statement\n  return knex.schema.createTable('accounts', tbl => {\n    // creates a primary key called id\n    tbl.increments();\n    // creates a text field called name which is both required and unique\n    tbl.text('name', 128).unique().notNullable();\n    // creates a numeric field called budget which is required\n    tbl.decimal('budget').notNullable();\n  });\n};\n\nexports.down = function(knex, Promise) {\n  // drops the entire table\n  return knex.schema.dropTableIfExists('accounts');\n};\n"}],"position":{"start":{"line":1011,"column":1,"offset":48905},"end":{"line":1026,"column":7,"offset":49519}}}],"position":{"start":{"line":1011,"column":1,"offset":48905},"end":{"line":1026,"column":7,"offset":49519}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References for these methods are found in the ","position":{"start":{"line":1028,"column":1,"offset":49521},"end":{"line":1028,"column":47,"offset":49567}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"schema builder","position":{"start":{"line":1028,"column":49,"offset":49569},"end":{"line":1028,"column":63,"offset":49583}}}],"position":{"start":{"line":1028,"column":47,"offset":49567},"end":{"line":1028,"column":65,"offset":49585}}},{"type":"text","value":" section of the ","position":{"start":{"line":1028,"column":65,"offset":49585},"end":{"line":1028,"column":81,"offset":49601}}},{"type":"raw","value":"<a href=\"https://knexjs.org/\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1028,"column":81,"offset":49601},"end":{"line":1028,"column":151,"offset":49671}}},{"type":"text","value":"Knex docs (Links to an external site.)","position":{"start":{"line":1028,"column":151,"offset":49671},"end":{"line":1028,"column":189,"offset":49709}}},{"type":"raw","value":"</a>","position":{"start":{"line":1028,"column":189,"offset":49709},"end":{"line":1028,"column":193,"offset":49713}}},{"type":"text","value":".","position":{"start":{"line":1028,"column":193,"offset":49713},"end":{"line":1028,"column":194,"offset":49714}}}],"position":{"start":{"line":1028,"column":1,"offset":49521},"end":{"line":1028,"column":194,"offset":49714}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"At this point, the table is ","position":{"start":{"line":1030,"column":1,"offset":49716},"end":{"line":1030,"column":29,"offset":49744}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":1030,"column":31,"offset":49746},"end":{"line":1030,"column":34,"offset":49749}}}],"position":{"start":{"line":1030,"column":29,"offset":49744},"end":{"line":1030,"column":36,"offset":49751}}},{"type":"text","value":" yet created. To run this (and any other) migrations, use the command:","position":{"start":{"line":1030,"column":36,"offset":49751},"end":{"line":1030,"column":106,"offset":49821}}}],"position":{"start":{"line":1030,"column":1,"offset":49716},"end":{"line":1030,"column":106,"offset":49821}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":1032,"column":1,"offset":49823},"end":{"line":1032,"column":22,"offset":49844}}}],"position":{"start":{"line":1032,"column":1,"offset":49823},"end":{"line":1032,"column":22,"offset":49844}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note if the database does not exist, this command will auto-generate one. We can use SQLite Studio to confirm that the accounts table has been created.","position":{"start":{"line":1034,"column":1,"offset":49846},"end":{"line":1034,"column":152,"offset":49997}}}],"position":{"start":{"line":1034,"column":1,"offset":49846},"end":{"line":1034,"column":152,"offset":49997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Changes and Rollbacks","position":{"start":{"line":1036,"column":5,"offset":50003},"end":{"line":1036,"column":26,"offset":50024}}}],"position":{"start":{"line":1036,"column":1,"offset":49999},"end":{"line":1036,"column":26,"offset":50024}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If later down the road, we realize you need to update your schema, you shouldn't edit the migration file. Instead, you will want to create a new migration with the command:","position":{"start":{"line":1038,"column":1,"offset":50026},"end":{"line":1038,"column":173,"offset":50198}}}],"position":{"start":{"line":1038,"column":1,"offset":50026},"end":{"line":1038,"column":173,"offset":50198}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:make accounts-schema-update"}],"position":{"start":{"line":1040,"column":1,"offset":50200},"end":{"line":1040,"column":43,"offset":50242}}}],"position":{"start":{"line":1040,"column":1,"offset":50200},"end":{"line":1040,"column":43,"offset":50242}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once we've written our updates into this file we save and close with:","position":{"start":{"line":1042,"column":1,"offset":50244},"end":{"line":1042,"column":70,"offset":50313}}}],"position":{"start":{"line":1042,"column":1,"offset":50244},"end":{"line":1042,"column":70,"offset":50313}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:latest"}],"position":{"start":{"line":1044,"column":1,"offset":50315},"end":{"line":1044,"column":22,"offset":50336}}}],"position":{"start":{"line":1044,"column":1,"offset":50315},"end":{"line":1044,"column":22,"offset":50336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we migrate our database and then quickly realize something isn't right, we can edit the migration file. However, first, we need to ","position":{"start":{"line":1046,"column":1,"offset":50338},"end":{"line":1046,"column":135,"offset":50472}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"rolllback","position":{"start":{"line":1046,"column":137,"offset":50474},"end":{"line":1046,"column":146,"offset":50483}}}],"position":{"start":{"line":1046,"column":135,"offset":50472},"end":{"line":1046,"column":148,"offset":50485}}},{"type":"text","value":" (or undo) our last migration with:","position":{"start":{"line":1046,"column":148,"offset":50485},"end":{"line":1046,"column":183,"offset":50520}}}],"position":{"start":{"line":1046,"column":1,"offset":50338},"end":{"line":1046,"column":183,"offset":50520}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate:rollback"}],"position":{"start":{"line":1048,"column":1,"offset":50522},"end":{"line":1048,"column":24,"offset":50545}}}],"position":{"start":{"line":1048,"column":1,"offset":50522},"end":{"line":1048,"column":24,"offset":50545}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Finally, we are free to rerun that file with ","position":{"start":{"line":1050,"column":1,"offset":50547},"end":{"line":1050,"column":46,"offset":50592}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex migrate"}],"position":{"start":{"line":1050,"column":46,"offset":50592},"end":{"line":1050,"column":60,"offset":50606}}},{"type":"text","value":" latest.","position":{"start":{"line":1050,"column":60,"offset":50606},"end":{"line":1050,"column":68,"offset":50614}}}],"position":{"start":{"line":1050,"column":1,"offset":50547},"end":{"line":1050,"column":68,"offset":50614}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOTE","position":{"start":{"line":1052,"column":3,"offset":50618},"end":{"line":1052,"column":7,"offset":50622}}}],"position":{"start":{"line":1052,"column":1,"offset":50616},"end":{"line":1052,"column":9,"offset":50624}}},{"type":"text","value":": A rollback should not be used to edit an old migration file once that file has accepted into a main branch. However, an entire team may use a rollback to return to a previous version of a database.","position":{"start":{"line":1052,"column":9,"offset":50624},"end":{"line":1052,"column":208,"offset":50823}}}],"position":{"start":{"line":1052,"column":1,"offset":50616},"end":{"line":1052,"column":208,"offset":50823}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1054,"column":5,"offset":50829},"end":{"line":1054,"column":13,"offset":50837}}}],"position":{"start":{"line":1054,"column":1,"offset":50825},"end":{"line":1054,"column":13,"offset":50837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Often we want to pre-populate our database with sample data for testing. ","position":{"start":{"line":1056,"column":1,"offset":50839},"end":{"line":1056,"column":74,"offset":50912}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Seeds","position":{"start":{"line":1056,"column":76,"offset":50914},"end":{"line":1056,"column":81,"offset":50919}}}],"position":{"start":{"line":1056,"column":74,"offset":50912},"end":{"line":1056,"column":83,"offset":50921}}},{"type":"text","value":" allow us to add and reset sample data easily.","position":{"start":{"line":1056,"column":83,"offset":50921},"end":{"line":1056,"column":129,"offset":50967}}}],"position":{"start":{"line":1056,"column":1,"offset":50839},"end":{"line":1056,"column":129,"offset":50967}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1058,"column":5,"offset":50973},"end":{"line":1058,"column":17,"offset":50985}}}],"position":{"start":{"line":1058,"column":1,"offset":50969},"end":{"line":1058,"column":17,"offset":50985}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The Knex command-line tool offers a way to ","position":{"start":{"line":1060,"column":1,"offset":50987},"end":{"line":1060,"column":44,"offset":51030}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"seed","position":{"start":{"line":1060,"column":46,"offset":51032},"end":{"line":1060,"column":50,"offset":51036}}}],"position":{"start":{"line":1060,"column":44,"offset":51030},"end":{"line":1060,"column":52,"offset":51038}}},{"type":"text","value":" our database; in other words, pre-populate our tables.","position":{"start":{"line":1060,"column":52,"offset":51038},"end":{"line":1060,"column":107,"offset":51093}}}],"position":{"start":{"line":1060,"column":1,"offset":50987},"end":{"line":1060,"column":107,"offset":51093}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Similarly to migrations, we want to customize where our seed files are generated using our ","position":{"start":{"line":1062,"column":1,"offset":51095},"end":{"line":1062,"column":92,"offset":51186}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":1062,"column":92,"offset":51186},"end":{"line":1062,"column":102,"offset":51196}}}],"position":{"start":{"line":1062,"column":1,"offset":51095},"end":{"line":1062,"column":102,"offset":51196}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n    client: 'sqlite3',\n    connection: {\n      filename: './data/produce.db3',\n    },\n    useNullAsDefault: true,\n    // generates migration files in a data/migrations/ folder\n    migrations: {\n      directory: './data/migrations'\n    },\n    seeds: {\n      directory: './data/seeds'\n    }\n  }\n"}],"position":{"start":{"line":1064,"column":1,"offset":51198},"end":{"line":1077,"column":8,"offset":51561}}}],"position":{"start":{"line":1064,"column":1,"offset":51198},"end":{"line":1077,"column":8,"offset":51561}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a seed run: ","position":{"start":{"line":1079,"column":1,"offset":51563},"end":{"line":1079,"column":23,"offset":51585}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 001-seedName"}],"position":{"start":{"line":1079,"column":23,"offset":51585},"end":{"line":1079,"column":52,"offset":51614}}}],"position":{"start":{"line":1079,"column":1,"offset":51563},"end":{"line":1079,"column":52,"offset":51614}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Numbering is a good idea because Knex doesn't attach a timestamp to the name like migrate does. Adding numbers to the file name, we can control the order in which they run.","position":{"start":{"line":1081,"column":1,"offset":51616},"end":{"line":1081,"column":173,"offset":51788}}}],"position":{"start":{"line":1081,"column":1,"offset":51616},"end":{"line":1081,"column":173,"offset":51788}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We want to create seeds for our accounts table:","position":{"start":{"line":1083,"column":1,"offset":51790},"end":{"line":1083,"column":48,"offset":51837}}}],"position":{"start":{"line":1083,"column":1,"offset":51790},"end":{"line":1083,"column":48,"offset":51837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 001-accounts"}],"position":{"start":{"line":1085,"column":1,"offset":51839},"end":{"line":1085,"column":30,"offset":51868}}}],"position":{"start":{"line":1085,"column":1,"offset":51839},"end":{"line":1085,"column":30,"offset":51868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A file will appear in the designated seed folder.","position":{"start":{"line":1087,"column":1,"offset":51870},"end":{"line":1087,"column":50,"offset":51919}}}],"position":{"start":{"line":1087,"column":1,"offset":51870},"end":{"line":1087,"column":50,"offset":51919}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.seed = function(knex, Promise) {\n  // we want to remove all data before seeding\n  // truncate will reset the primary key each time\n  return knex('accounts').truncate()\n    .then(function () {\n      // add data into insert\n      return knex('accounts').insert([\n        { name: 'Stephenson', budget: 10000 },\n        { name: 'Gordon & Gale', budget: 40400 },\n      ]);\n    });\n};\n"}],"position":{"start":{"line":1089,"column":1,"offset":51921},"end":{"line":1100,"column":7,"offset":52355}}}],"position":{"start":{"line":1089,"column":1,"offset":51921},"end":{"line":1100,"column":7,"offset":52355}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run the seed files by typing:","position":{"start":{"line":1102,"column":1,"offset":52357},"end":{"line":1102,"column":30,"offset":52386}}}],"position":{"start":{"line":1102,"column":1,"offset":52357},"end":{"line":1102,"column":30,"offset":52386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:run"}],"position":{"start":{"line":1104,"column":1,"offset":52388},"end":{"line":1104,"column":16,"offset":52403}}}],"position":{"start":{"line":1104,"column":1,"offset":52388},"end":{"line":1104,"column":16,"offset":52403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can now use SQLite Studio to confirm that the accounts table has two entries.","position":{"start":{"line":1106,"column":1,"offset":52405},"end":{"line":1106,"column":82,"offset":52486}}}],"position":{"start":{"line":1106,"column":1,"offset":52405},"end":{"line":1106,"column":82,"offset":52486}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":1108,"column":1,"offset":52488},"end":{"line":1108,"column":4,"offset":52491}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1110,"column":1,"offset":52493},"end":{"line":1110,"column":4,"offset":52496}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>### SQL & PostgreSQL","position":{"start":{"line":1112,"column":1,"offset":52498},"end":{"line":1112,"column":139,"offset":52636}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Foreign keys","position":{"start":{"line":1114,"column":3,"offset":52640},"end":{"line":1114,"column":15,"offset":52652}}}],"position":{"start":{"line":1114,"column":1,"offset":52638},"end":{"line":1114,"column":17,"offset":52654}}},{"type":"text","value":" are a type of table field used for creating links between tables. Like ","position":{"start":{"line":1114,"column":17,"offset":52654},"end":{"line":1114,"column":89,"offset":52726}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"primary keys","position":{"start":{"line":1114,"column":91,"offset":52728},"end":{"line":1114,"column":103,"offset":52740}}}],"position":{"start":{"line":1114,"column":89,"offset":52726},"end":{"line":1114,"column":105,"offset":52742}}},{"type":"text","value":", they are most often integers that identify (rather than store) data. However, whereas a primary key is used to id rows in a table, foreign keys are used to connect a record in one table to a record in a second table.","position":{"start":{"line":1114,"column":105,"offset":52742},"end":{"line":1114,"column":323,"offset":52960}}}],"position":{"start":{"line":1114,"column":1,"offset":52638},"end":{"line":1114,"column":323,"offset":52960}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1116,"column":1,"offset":52962},"end":{"line":1116,"column":4,"offset":52965}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider the following ","position":{"start":{"line":1118,"column":1,"offset":52967},"end":{"line":1118,"column":24,"offset":52990}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1118,"column":24,"offset":52990},"end":{"line":1118,"column":31,"offset":52997}}},{"type":"text","value":" and ","position":{"start":{"line":1118,"column":31,"offset":52997},"end":{"line":1118,"column":36,"offset":53002}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1118,"column":36,"offset":53002},"end":{"line":1118,"column":46,"offset":53012}}},{"type":"text","value":" tables.","position":{"start":{"line":1118,"column":46,"offset":53012},"end":{"line":1118,"column":54,"offset":53020}}}],"position":{"start":{"line":1118,"column":1,"offset":52967},"end":{"line":1118,"column":54,"offset":53020}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/5b20c5e233dd4a70a33d6ab2c2e1c8bb\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1120,"column":1,"offset":53022},"end":{"line":1120,"column":106,"offset":53127}}},{"type":"text","value":"Untitled","position":{"start":{"line":1120,"column":106,"offset":53127},"end":{"line":1120,"column":114,"offset":53135}}},{"type":"raw","value":"</a>","position":{"start":{"line":1120,"column":114,"offset":53135},"end":{"line":1120,"column":118,"offset":53139}}}],"position":{"start":{"line":1120,"column":1,"offset":53022},"end":{"line":1120,"column":118,"offset":53139}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/0b0a909c24a9474fb9df80938546f12a\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1122,"column":1,"offset":53141},"end":{"line":1122,"column":106,"offset":53246}}},{"type":"text","value":"Untitled","position":{"start":{"line":1122,"column":106,"offset":53246},"end":{"line":1122,"column":114,"offset":53254}}},{"type":"raw","value":"</a>","position":{"start":{"line":1122,"column":114,"offset":53254},"end":{"line":1122,"column":118,"offset":53258}}}],"position":{"start":{"line":1122,"column":1,"offset":53141},"end":{"line":1122,"column":118,"offset":53258}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1124,"column":1,"offset":53260},"end":{"line":1124,"column":5,"offset":53264}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1124,"column":5,"offset":53264},"end":{"line":1124,"column":14,"offset":53273}}},{"type":"text","value":" in the ","position":{"start":{"line":1124,"column":14,"offset":53273},"end":{"line":1124,"column":22,"offset":53281}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1124,"column":22,"offset":53281},"end":{"line":1124,"column":32,"offset":53291}}},{"type":"text","value":" table is an example of a ","position":{"start":{"line":1124,"column":32,"offset":53291},"end":{"line":1124,"column":58,"offset":53317}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"foreign key"}],"position":{"start":{"line":1124,"column":58,"offset":53317},"end":{"line":1124,"column":71,"offset":53330}}},{"type":"text","value":". Each entry in the ","position":{"start":{"line":1124,"column":71,"offset":53330},"end":{"line":1124,"column":91,"offset":53350}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1124,"column":91,"offset":53350},"end":{"line":1124,"column":100,"offset":53359}}},{"type":"text","value":" (foreign key) column corresponds to an ","position":{"start":{"line":1124,"column":100,"offset":53359},"end":{"line":1124,"column":140,"offset":53399}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"id"}],"position":{"start":{"line":1124,"column":140,"offset":53399},"end":{"line":1124,"column":144,"offset":53403}}},{"type":"text","value":" (primary key) in the ","position":{"start":{"line":1124,"column":144,"offset":53403},"end":{"line":1124,"column":166,"offset":53425}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1124,"column":166,"offset":53425},"end":{"line":1124,"column":173,"offset":53432}}},{"type":"text","value":" table. This allows us to track which farm each rancher belongs to while keeping the tables normalized.","position":{"start":{"line":1124,"column":173,"offset":53432},"end":{"line":1124,"column":276,"offset":53535}}}],"position":{"start":{"line":1124,"column":1,"offset":53260},"end":{"line":1124,"column":276,"offset":53535}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we could only see the ","position":{"start":{"line":1126,"column":1,"offset":53537},"end":{"line":1126,"column":26,"offset":53562}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1126,"column":26,"offset":53562},"end":{"line":1126,"column":36,"offset":53572}}},{"type":"text","value":" table, we would know that John, Jane, and Jen all work together and that Jim and Jay also work together. However, to know where any of them work, we would need to look at the ","position":{"start":{"line":1126,"column":36,"offset":53572},"end":{"line":1126,"column":212,"offset":53748}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1126,"column":212,"offset":53748},"end":{"line":1126,"column":219,"offset":53755}}},{"type":"text","value":" table.","position":{"start":{"line":1126,"column":219,"offset":53755},"end":{"line":1126,"column":226,"offset":53762}}}],"position":{"start":{"line":1126,"column":1,"offset":53537},"end":{"line":1126,"column":226,"offset":53762}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we understand the basics of querying data from a single table, let's move on to selecting data from multiple tables using JOIN operations.","position":{"start":{"line":1128,"column":1,"offset":53764},"end":{"line":1128,"column":148,"offset":53911}}}],"position":{"start":{"line":1128,"column":1,"offset":53764},"end":{"line":1128,"column":148,"offset":53911}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1130,"column":5,"offset":53917},"end":{"line":1130,"column":13,"offset":53925}}}],"position":{"start":{"line":1130,"column":1,"offset":53913},"end":{"line":1130,"column":13,"offset":53925}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can use a ","position":{"start":{"line":1132,"column":1,"offset":53927},"end":{"line":1132,"column":14,"offset":53940}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JOIN"}],"position":{"start":{"line":1132,"column":14,"offset":53940},"end":{"line":1132,"column":20,"offset":53946}}},{"type":"text","value":" to combine query data from multiple tables using a single ","position":{"start":{"line":1132,"column":20,"offset":53946},"end":{"line":1132,"column":79,"offset":54005}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT"}],"position":{"start":{"line":1132,"column":79,"offset":54005},"end":{"line":1132,"column":87,"offset":54013}}},{"type":"text","value":" statement.","position":{"start":{"line":1132,"column":87,"offset":54013},"end":{"line":1132,"column":98,"offset":54024}}}],"position":{"start":{"line":1132,"column":1,"offset":53927},"end":{"line":1132,"column":98,"offset":54024}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are different types of joins; some are listed below:","position":{"start":{"line":1134,"column":1,"offset":54026},"end":{"line":1134,"column":59,"offset":54084}}}],"position":{"start":{"line":1134,"column":1,"offset":54026},"end":{"line":1134,"column":59,"offset":54084}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d886\">","position":{"start":{"line":1136,"column":3,"offset":54088},"end":{"line":1136,"column":19,"offset":54104}}},{"type":"text","value":"inner joins.","position":{"start":{"line":1136,"column":19,"offset":54104},"end":{"line":1136,"column":31,"offset":54116}}},{"type":"raw","value":"</span>","position":{"start":{"line":1136,"column":31,"offset":54116},"end":{"line":1136,"column":38,"offset":54123}}}],"position":{"start":{"line":1136,"column":1,"offset":54086},"end":{"line":1136,"column":38,"offset":54123}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"43f5\">","position":{"start":{"line":1137,"column":3,"offset":54126},"end":{"line":1137,"column":19,"offset":54142}}},{"type":"text","value":"outer joins.","position":{"start":{"line":1137,"column":19,"offset":54142},"end":{"line":1137,"column":31,"offset":54154}}},{"type":"raw","value":"</span>","position":{"start":{"line":1137,"column":31,"offset":54154},"end":{"line":1137,"column":38,"offset":54161}}}],"position":{"start":{"line":1137,"column":1,"offset":54124},"end":{"line":1137,"column":38,"offset":54161}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"882e\">","position":{"start":{"line":1138,"column":3,"offset":54164},"end":{"line":1138,"column":19,"offset":54180}}},{"type":"text","value":"left joins.","position":{"start":{"line":1138,"column":19,"offset":54180},"end":{"line":1138,"column":30,"offset":54191}}},{"type":"raw","value":"</span>","position":{"start":{"line":1138,"column":30,"offset":54191},"end":{"line":1138,"column":37,"offset":54198}}}],"position":{"start":{"line":1138,"column":1,"offset":54162},"end":{"line":1138,"column":37,"offset":54198}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"ad86\">","position":{"start":{"line":1139,"column":3,"offset":54201},"end":{"line":1139,"column":19,"offset":54217}}},{"type":"text","value":"right joins.","position":{"start":{"line":1139,"column":19,"offset":54217},"end":{"line":1139,"column":31,"offset":54229}}},{"type":"raw","value":"</span>","position":{"start":{"line":1139,"column":31,"offset":54229},"end":{"line":1139,"column":38,"offset":54236}}}],"position":{"start":{"line":1139,"column":1,"offset":54199},"end":{"line":1139,"column":38,"offset":54236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"4d8b\">","position":{"start":{"line":1140,"column":3,"offset":54239},"end":{"line":1140,"column":19,"offset":54255}}},{"type":"text","value":"cross joins.","position":{"start":{"line":1140,"column":19,"offset":54255},"end":{"line":1140,"column":31,"offset":54267}}},{"type":"raw","value":"</span>","position":{"start":{"line":1140,"column":31,"offset":54267},"end":{"line":1140,"column":38,"offset":54274}}}],"position":{"start":{"line":1140,"column":1,"offset":54237},"end":{"line":1140,"column":38,"offset":54274}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"eb21\">","position":{"start":{"line":1141,"column":3,"offset":54277},"end":{"line":1141,"column":19,"offset":54293}}},{"type":"text","value":"non-equality joins.","position":{"start":{"line":1141,"column":19,"offset":54293},"end":{"line":1141,"column":38,"offset":54312}}},{"type":"raw","value":"</span>","position":{"start":{"line":1141,"column":38,"offset":54312},"end":{"line":1141,"column":45,"offset":54319}}}],"position":{"start":{"line":1141,"column":1,"offset":54275},"end":{"line":1141,"column":45,"offset":54319}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"fc6a\">","position":{"start":{"line":1142,"column":3,"offset":54322},"end":{"line":1142,"column":19,"offset":54338}}},{"type":"text","value":"self joins.","position":{"start":{"line":1142,"column":19,"offset":54338},"end":{"line":1142,"column":30,"offset":54349}}},{"type":"raw","value":"</span>","position":{"start":{"line":1142,"column":30,"offset":54349},"end":{"line":1142,"column":37,"offset":54356}}}],"position":{"start":{"line":1142,"column":1,"offset":54320},"end":{"line":1142,"column":37,"offset":54356}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1136,"column":1,"offset":54086},"end":{"line":1142,"column":37,"offset":54356}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Using ","position":{"start":{"line":1144,"column":1,"offset":54358},"end":{"line":1144,"column":7,"offset":54364}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"joins"}],"position":{"start":{"line":1144,"column":7,"offset":54364},"end":{"line":1144,"column":14,"offset":54371}}},{"type":"text","value":" requires that the two tables of interest contain at least one field with shared information. For example, if a ","position":{"start":{"line":1144,"column":14,"offset":54371},"end":{"line":1144,"column":126,"offset":54483}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":1144,"column":127,"offset":54484},"end":{"line":1144,"column":138,"offset":54495}}}],"position":{"start":{"line":1144,"column":126,"offset":54483},"end":{"line":1144,"column":139,"offset":54496}}},{"type":"text","value":" table has an ","position":{"start":{"line":1144,"column":139,"offset":54496},"end":{"line":1144,"column":153,"offset":54510}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":1144,"column":154,"offset":54511},"end":{"line":1144,"column":156,"offset":54513}}}],"position":{"start":{"line":1144,"column":153,"offset":54510},"end":{"line":1144,"column":157,"offset":54514}}},{"type":"text","value":" field, and an employee table has a ","position":{"start":{"line":1144,"column":157,"offset":54514},"end":{"line":1144,"column":193,"offset":54550}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":1144,"column":194,"offset":54551},"end":{"line":1144,"column":204,"offset":54561}}}],"position":{"start":{"line":1144,"column":193,"offset":54550},"end":{"line":1144,"column":205,"offset":54562}}},{"type":"text","value":"id_ field, and the values that exist in the ","position":{"start":{"line":1144,"column":205,"offset":54562},"end":{"line":1144,"column":249,"offset":54606}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id","position":{"start":{"line":1144,"column":250,"offset":54607},"end":{"line":1144,"column":252,"offset":54609}}}],"position":{"start":{"line":1144,"column":249,"offset":54606},"end":{"line":1144,"column":253,"offset":54610}}},{"type":"text","value":" column of the ","position":{"start":{"line":1144,"column":253,"offset":54610},"end":{"line":1144,"column":268,"offset":54625}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"departments","position":{"start":{"line":1144,"column":269,"offset":54626},"end":{"line":1144,"column":280,"offset":54637}}}],"position":{"start":{"line":1144,"column":268,"offset":54625},"end":{"line":1144,"column":281,"offset":54638}}},{"type":"text","value":" table live in the ","position":{"start":{"line":1144,"column":281,"offset":54638},"end":{"line":1144,"column":300,"offset":54657}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"department","position":{"start":{"line":1144,"column":301,"offset":54658},"end":{"line":1144,"column":311,"offset":54668}}}],"position":{"start":{"line":1144,"column":300,"offset":54657},"end":{"line":1144,"column":312,"offset":54669}}},{"type":"text","value":"id_ field of the employee table, we can use those fields to join both tables like so:","position":{"start":{"line":1144,"column":312,"offset":54669},"end":{"line":1144,"column":397,"offset":54754}}}],"position":{"start":{"line":1144,"column":1,"offset":54358},"end":{"line":1144,"column":397,"offset":54754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select * from employees\njoin departments on employees.department_id = departments.id\n"}],"position":{"start":{"line":1146,"column":1,"offset":54756},"end":{"line":1147,"column":65,"offset":54848}}}],"position":{"start":{"line":1146,"column":1,"offset":54756},"end":{"line":1147,"column":65,"offset":54848}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This query will return the data from both tables for every instance where the ","position":{"start":{"line":1149,"column":1,"offset":54850},"end":{"line":1149,"column":79,"offset":54928}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ON"}],"position":{"start":{"line":1149,"column":79,"offset":54928},"end":{"line":1149,"column":83,"offset":54932}}},{"type":"text","value":" condition is true. If there are employees with no value for department","position":{"start":{"line":1149,"column":83,"offset":54932},"end":{"line":1149,"column":154,"offset":55003}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"id or where the value stored in the field does not correspond to an existing id in the","position":{"start":{"line":1149,"column":155,"offset":55004},"end":{"line":1149,"column":241,"offset":55090}}}],"position":{"start":{"line":1149,"column":154,"offset":55003},"end":{"line":1149,"column":242,"offset":55091}}},{"type":"text","value":" departments ","position":{"start":{"line":1149,"column":242,"offset":55091},"end":{"line":1149,"column":255,"offset":55104}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table, then that record will NOT be returned. In a similar fashion, any records from the","position":{"start":{"line":1149,"column":256,"offset":55105},"end":{"line":1149,"column":344,"offset":55193}}}],"position":{"start":{"line":1149,"column":255,"offset":55104},"end":{"line":1149,"column":345,"offset":55194}}},{"type":"text","value":" departments ","position":{"start":{"line":1149,"column":345,"offset":55194},"end":{"line":1149,"column":358,"offset":55207}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"table that don't have an employee associated with them will also be omitted from the results. Basically, if the","position":{"start":{"line":1149,"column":359,"offset":55208},"end":{"line":1149,"column":470,"offset":55319}}}],"position":{"start":{"line":1149,"column":358,"offset":55207},"end":{"line":1149,"column":471,"offset":55320}}},{"type":"text","value":" id","position":{"start":{"line":1149,"column":471,"offset":55320},"end":{"line":1149,"column":474,"offset":55323}}},{"type":"text","value":"*","position":{"start":{"line":1149,"column":474,"offset":55323},"end":{"line":1149,"column":476,"offset":55325}}},{"type":"text","value":" does not show as the value of department_id for an employee, it won't be able to join.","position":{"start":{"line":1149,"column":476,"offset":55325},"end":{"line":1149,"column":563,"offset":55412}}}],"position":{"start":{"line":1149,"column":1,"offset":54850},"end":{"line":1149,"column":563,"offset":55412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can shorten the condition by giving the table names an alias. This is a common practice. Below is the same example using aliases, picking which fields to return and sorting the results:","position":{"start":{"line":1151,"column":1,"offset":55414},"end":{"line":1151,"column":189,"offset":55602}}}],"position":{"start":{"line":1151,"column":1,"offset":55414},"end":{"line":1151,"column":189,"offset":55602}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select d.id, d.name, e.id, e.first_name, e.last_name, e.salary\nfrom employees as e\njoin departments as d\n  on e.department_id = d.id\norder by d.name, e.last_name\n"}],"position":{"start":{"line":1153,"column":1,"offset":55604},"end":{"line":1157,"column":33,"offset":55785}}}],"position":{"start":{"line":1153,"column":1,"offset":55604},"end":{"line":1157,"column":33,"offset":55785}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notice that we can take advantage of white space and indentation to make queries more readable.","position":{"start":{"line":1159,"column":1,"offset":55787},"end":{"line":1159,"column":96,"offset":55882}}}],"position":{"start":{"line":1159,"column":1,"offset":55787},"end":{"line":1159,"column":96,"offset":55882}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are several ways of writing joins, but the one shown here should work on all database management systems and avoid some pitfalls, so we recommend it.","position":{"start":{"line":1161,"column":1,"offset":55884},"end":{"line":1161,"column":156,"offset":56039}}}],"position":{"start":{"line":1161,"column":1,"offset":55884},"end":{"line":1161,"column":156,"offset":56039}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The syntax for performing a similar join using Knex is as follows:","position":{"start":{"line":1163,"column":1,"offset":56041},"end":{"line":1163,"column":67,"offset":56107}}}],"position":{"start":{"line":1163,"column":1,"offset":56041},"end":{"line":1163,"column":67,"offset":56107}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"db('employees as e')\n  .join('departments as d', 'e.department_id', 'd.id')\n  .select('d.id', 'd.name', 'e.first_name', 'e.last_name', 'e.salary')\n"}],"position":{"start":{"line":1165,"column":1,"offset":56109},"end":{"line":1167,"column":75,"offset":56267}}}],"position":{"start":{"line":1165,"column":1,"offset":56109},"end":{"line":1167,"column":75,"offset":56267}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1169,"column":5,"offset":56273},"end":{"line":1169,"column":17,"offset":56285}}}],"position":{"start":{"line":1169,"column":1,"offset":56269},"end":{"line":1169,"column":17,"offset":56285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A good explanation of how the different types of joins can be seen ","position":{"start":{"line":1171,"column":1,"offset":56287},"end":{"line":1171,"column":68,"offset":56354}}},{"type":"raw","value":"<a href=\"https://www.w3resource.com/sql/joins/sql-joins.php\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1171,"column":68,"offset":56354},"end":{"line":1171,"column":169,"offset":56455}}},{"type":"text","value":"in this article from w3resource.com (Links to an external site.)","position":{"start":{"line":1171,"column":169,"offset":56455},"end":{"line":1171,"column":233,"offset":56519}}},{"type":"raw","value":"</a>","position":{"start":{"line":1171,"column":233,"offset":56519},"end":{"line":1171,"column":237,"offset":56523}}},{"type":"text","value":".","position":{"start":{"line":1171,"column":237,"offset":56523},"end":{"line":1171,"column":238,"offset":56524}}}],"position":{"start":{"line":1171,"column":1,"offset":56287},"end":{"line":1171,"column":238,"offset":56524}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"What is SQL Joins?","position":{"start":{"line":1173,"column":5,"offset":56530},"end":{"line":1173,"column":23,"offset":56548}}}],"position":{"start":{"line":1173,"column":1,"offset":56526},"end":{"line":1173,"column":23,"offset":56548}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An SQL JOIN clause combines rows from two or more tables. It creates a set of rows in a temporary table.","position":{"start":{"line":1175,"column":1,"offset":56550},"end":{"line":1175,"column":105,"offset":56654}}}],"position":{"start":{"line":1175,"column":1,"offset":56550},"end":{"line":1175,"column":105,"offset":56654}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"How to Join two tables in SQL?","position":{"start":{"line":1177,"column":5,"offset":56660},"end":{"line":1177,"column":35,"offset":56690}}}],"position":{"start":{"line":1177,"column":1,"offset":56656},"end":{"line":1177,"column":35,"offset":56690}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A JOIN works on two or more tables if they have at least one common field and have a relationship between them.","position":{"start":{"line":1179,"column":1,"offset":56692},"end":{"line":1179,"column":112,"offset":56803}}}],"position":{"start":{"line":1179,"column":1,"offset":56692},"end":{"line":1179,"column":112,"offset":56803}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"JOIN keeps the base tables (structure and data) unchanged.","position":{"start":{"line":1181,"column":1,"offset":56805},"end":{"line":1181,"column":59,"offset":56863}}}],"position":{"start":{"line":1181,"column":1,"offset":56805},"end":{"line":1181,"column":59,"offset":56863}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Join vs. Subquery","position":{"start":{"line":1183,"column":5,"offset":56869},"end":{"line":1183,"column":22,"offset":56886}}}],"position":{"start":{"line":1183,"column":1,"offset":56865},"end":{"line":1183,"column":22,"offset":56886}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"6fdc\">","position":{"start":{"line":1185,"column":3,"offset":56890},"end":{"line":1185,"column":19,"offset":56906}}},{"type":"text","value":"JOINs are faster than a subquery and it is very rare that the opposite.","position":{"start":{"line":1185,"column":19,"offset":56906},"end":{"line":1185,"column":90,"offset":56977}}},{"type":"raw","value":"</span>","position":{"start":{"line":1185,"column":90,"offset":56977},"end":{"line":1185,"column":97,"offset":56984}}}],"position":{"start":{"line":1185,"column":1,"offset":56888},"end":{"line":1185,"column":97,"offset":56984}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"c648\">","position":{"start":{"line":1186,"column":3,"offset":56987},"end":{"line":1186,"column":19,"offset":57003}}},{"type":"text","value":"In JOINs the RDBMS calculates an execution plan, that can predict, what data should be loaded and how much it will take to processed and as a result this process save some times, unlike the subquery there is no pre-process calculation and run all the queries and load all their data to do the processing.","position":{"start":{"line":1186,"column":19,"offset":57003},"end":{"line":1186,"column":323,"offset":57307}}},{"type":"raw","value":"</span>","position":{"start":{"line":1186,"column":323,"offset":57307},"end":{"line":1186,"column":330,"offset":57314}}}],"position":{"start":{"line":1186,"column":1,"offset":56985},"end":{"line":1186,"column":330,"offset":57314}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d59c\">","position":{"start":{"line":1187,"column":3,"offset":57317},"end":{"line":1187,"column":19,"offset":57333}}},{"type":"text","value":"A JOIN is checked conditions first and then put it into table and displays; where as a subquery take separate temp table internally and checking condition.","position":{"start":{"line":1187,"column":19,"offset":57333},"end":{"line":1187,"column":174,"offset":57488}}},{"type":"raw","value":"</span>","position":{"start":{"line":1187,"column":174,"offset":57488},"end":{"line":1187,"column":181,"offset":57495}}}],"position":{"start":{"line":1187,"column":1,"offset":57315},"end":{"line":1187,"column":181,"offset":57495}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"08ff\">","position":{"start":{"line":1188,"column":3,"offset":57498},"end":{"line":1188,"column":19,"offset":57514}}},{"type":"text","value":"When joins are using, there should be connection between two or more than two tables and each table has a relation with other while subquery means query inside another query, has no need to relation, it works on columns and conditions.","position":{"start":{"line":1188,"column":19,"offset":57514},"end":{"line":1188,"column":254,"offset":57749}}},{"type":"raw","value":"</span>","position":{"start":{"line":1188,"column":254,"offset":57749},"end":{"line":1188,"column":261,"offset":57756}}}],"position":{"start":{"line":1188,"column":1,"offset":57496},"end":{"line":1188,"column":261,"offset":57756}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1185,"column":1,"offset":56888},"end":{"line":1188,"column":261,"offset":57756}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SQL JOINS: EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":1190,"column":5,"offset":57762},"end":{"line":1190,"column":43,"offset":57800}}}],"position":{"start":{"line":1190,"column":1,"offset":57758},"end":{"line":1190,"column":43,"offset":57800}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The are two types of SQL JOINS — EQUI JOIN and NON EQUI JOIN","position":{"start":{"line":1192,"column":1,"offset":57802},"end":{"line":1192,"column":61,"offset":57862}}}],"position":{"start":{"line":1192,"column":1,"offset":57802},"end":{"line":1192,"column":61,"offset":57862}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"2bb1\">","position":{"start":{"line":1194,"column":5,"offset":57868},"end":{"line":1194,"column":21,"offset":57884}}},{"type":"text","value":"SQL EQUI JOIN :","position":{"start":{"line":1194,"column":21,"offset":57884},"end":{"line":1194,"column":36,"offset":57899}}},{"type":"raw","value":"</span>","position":{"start":{"line":1194,"column":36,"offset":57899},"end":{"line":1194,"column":43,"offset":57906}}}],"position":{"start":{"line":1194,"column":1,"offset":57864},"end":{"line":1194,"column":43,"offset":57906}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1194,"column":1,"offset":57864},"end":{"line":1194,"column":43,"offset":57906}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN is a simple SQL join uses the equal sign(=) as the comparison operator for the condition. It has two types — SQL Outer join and SQL Inner join.","position":{"start":{"line":1196,"column":1,"offset":57908},"end":{"line":1196,"column":162,"offset":58069}}}],"position":{"start":{"line":1196,"column":1,"offset":57908},"end":{"line":1196,"column":162,"offset":58069}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"a9be\">","position":{"start":{"line":1198,"column":5,"offset":58075},"end":{"line":1198,"column":21,"offset":58091}}},{"type":"text","value":"SQL NON EQUI JOIN :","position":{"start":{"line":1198,"column":21,"offset":58091},"end":{"line":1198,"column":40,"offset":58110}}},{"type":"raw","value":"</span>","position":{"start":{"line":1198,"column":40,"offset":58110},"end":{"line":1198,"column":47,"offset":58117}}}],"position":{"start":{"line":1198,"column":1,"offset":58071},"end":{"line":1198,"column":47,"offset":58117}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1198,"column":1,"offset":58071},"end":{"line":1198,"column":47,"offset":58117}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1200,"column":1,"offset":58119},"end":{"line":1200,"column":5,"offset":58123}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL NON EQUI JOIN","position":{"start":{"line":1200,"column":7,"offset":58125},"end":{"line":1200,"column":24,"offset":58142}}}],"position":{"start":{"line":1200,"column":5,"offset":58123},"end":{"line":1200,"column":26,"offset":58144}}},{"type":"text","value":" is a join uses comparison operator other than the equal sign like ","position":{"start":{"line":1200,"column":26,"offset":58144},"end":{"line":1200,"column":93,"offset":58211}}},{"type":"text","value":">","position":{"start":{"line":1200,"column":93,"offset":58211},"end":{"line":1200,"column":97,"offset":58215}}},{"type":"text","value":", ","position":{"start":{"line":1200,"column":97,"offset":58215},"end":{"line":1200,"column":99,"offset":58217}}},{"type":"text","value":"<","position":{"start":{"line":1200,"column":99,"offset":58217},"end":{"line":1200,"column":103,"offset":58221}}},{"type":"text","value":", ","position":{"start":{"line":1200,"column":103,"offset":58221},"end":{"line":1200,"column":105,"offset":58223}}},{"type":"text","value":">","position":{"start":{"line":1200,"column":105,"offset":58223},"end":{"line":1200,"column":109,"offset":58227}}},{"type":"text","value":"=, ","position":{"start":{"line":1200,"column":109,"offset":58227},"end":{"line":1200,"column":112,"offset":58230}}},{"type":"text","value":"<","position":{"start":{"line":1200,"column":112,"offset":58230},"end":{"line":1200,"column":116,"offset":58234}}},{"type":"text","value":"= with the condition.","position":{"start":{"line":1200,"column":116,"offset":58234},"end":{"line":1200,"column":137,"offset":58255}}}],"position":{"start":{"line":1200,"column":1,"offset":58119},"end":{"line":1200,"column":137,"offset":58255}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL EQUI JOIN : INNER JOIN and OUTER JOIN","position":{"start":{"line":1202,"column":3,"offset":58259},"end":{"line":1202,"column":44,"offset":58300}}}],"position":{"start":{"line":1202,"column":1,"offset":58257},"end":{"line":1202,"column":46,"offset":58302}}}],"position":{"start":{"line":1202,"column":1,"offset":58257},"end":{"line":1202,"column":46,"offset":58302}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The SQL EQUI JOIN can be classified into two types — INNER JOIN and OUTER JOIN","position":{"start":{"line":1204,"column":1,"offset":58304},"end":{"line":1204,"column":79,"offset":58382}}}],"position":{"start":{"line":1204,"column":1,"offset":58304},"end":{"line":1204,"column":79,"offset":58382}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cf44\">","position":{"start":{"line":1206,"column":5,"offset":58388},"end":{"line":1206,"column":21,"offset":58404}}},{"type":"text","value":"SQL INNER JOIN","position":{"start":{"line":1206,"column":21,"offset":58404},"end":{"line":1206,"column":35,"offset":58418}}},{"type":"raw","value":"</span>","position":{"start":{"line":1206,"column":35,"offset":58418},"end":{"line":1206,"column":42,"offset":58425}}}],"position":{"start":{"line":1206,"column":1,"offset":58384},"end":{"line":1206,"column":42,"offset":58425}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1206,"column":1,"offset":58384},"end":{"line":1206,"column":42,"offset":58425}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from tables where the key record of one table is equal to the key records of another table.","position":{"start":{"line":1208,"column":1,"offset":58427},"end":{"line":1208,"column":132,"offset":58558}}}],"position":{"start":{"line":1208,"column":1,"offset":58427},"end":{"line":1208,"column":132,"offset":58558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"22a6\">","position":{"start":{"line":1210,"column":5,"offset":58564},"end":{"line":1210,"column":21,"offset":58580}}},{"type":"text","value":"SQL OUTER JOIN","position":{"start":{"line":1210,"column":21,"offset":58580},"end":{"line":1210,"column":35,"offset":58594}}},{"type":"raw","value":"</span>","position":{"start":{"line":1210,"column":35,"offset":58594},"end":{"line":1210,"column":42,"offset":58601}}}],"position":{"start":{"line":1210,"column":1,"offset":58560},"end":{"line":1210,"column":42,"offset":58601}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1210,"column":1,"offset":58560},"end":{"line":1210,"column":42,"offset":58601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This type of EQUI JOIN returns all rows from one table and only those rows from the secondary table where the joined condition is satisfying i.e. the columns are equal in both tables.","position":{"start":{"line":1212,"column":1,"offset":58603},"end":{"line":1212,"column":184,"offset":58786}}}],"position":{"start":{"line":1212,"column":1,"offset":58603},"end":{"line":1212,"column":184,"offset":58786}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In order to perform a JOIN query, the required information we need are:","position":{"start":{"line":1214,"column":1,"offset":58788},"end":{"line":1214,"column":72,"offset":58859}}}],"position":{"start":{"line":1214,"column":1,"offset":58788},"end":{"line":1214,"column":72,"offset":58859}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"a)","position":{"start":{"line":1216,"column":3,"offset":58863},"end":{"line":1216,"column":5,"offset":58865}}}],"position":{"start":{"line":1216,"column":1,"offset":58861},"end":{"line":1216,"column":7,"offset":58867}}},{"type":"text","value":" The name of the tables","position":{"start":{"line":1216,"column":7,"offset":58867},"end":{"line":1216,"column":30,"offset":58890}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"b)","position":{"start":{"line":1216,"column":32,"offset":58892},"end":{"line":1216,"column":34,"offset":58894}}}],"position":{"start":{"line":1216,"column":30,"offset":58890},"end":{"line":1216,"column":36,"offset":58896}}},{"type":"text","value":" Name of the columns of two or more tables, based on which a condition will perform.","position":{"start":{"line":1216,"column":36,"offset":58896},"end":{"line":1216,"column":120,"offset":58980}}}],"position":{"start":{"line":1216,"column":1,"offset":58861},"end":{"line":1216,"column":120,"offset":58980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Syntax:","position":{"start":{"line":1218,"column":3,"offset":58984},"end":{"line":1218,"column":10,"offset":58991}}}],"position":{"start":{"line":1218,"column":1,"offset":58982},"end":{"line":1218,"column":12,"offset":58993}}}],"position":{"start":{"line":1218,"column":1,"offset":58982},"end":{"line":1218,"column":12,"offset":58993}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FROM table1\njoin_type table2\n[ON (join_condition)]\n"}],"position":{"start":{"line":1220,"column":1,"offset":58995},"end":{"line":1222,"column":26,"offset":59057}}}],"position":{"start":{"line":1220,"column":1,"offset":58995},"end":{"line":1222,"column":26,"offset":59057}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Parameters:","position":{"start":{"line":1224,"column":3,"offset":59061},"end":{"line":1224,"column":14,"offset":59072}}}],"position":{"start":{"line":1224,"column":1,"offset":59059},"end":{"line":1224,"column":16,"offset":59074}}}],"position":{"start":{"line":1224,"column":1,"offset":59059},"end":{"line":1224,"column":16,"offset":59074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/5522c3e6d5d0443eb870f7a34f60c7ff\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1226,"column":1,"offset":59076},"end":{"line":1226,"column":106,"offset":59181}}},{"type":"text","value":"Untitled","position":{"start":{"line":1226,"column":106,"offset":59181},"end":{"line":1226,"column":114,"offset":59189}}},{"type":"raw","value":"</a>","position":{"start":{"line":1226,"column":114,"offset":59189},"end":{"line":1226,"column":118,"offset":59193}}}],"position":{"start":{"line":1226,"column":1,"offset":59076},"end":{"line":1226,"column":118,"offset":59193}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Pictorial Presentation of SQL Joins:","position":{"start":{"line":1228,"column":3,"offset":59197},"end":{"line":1228,"column":39,"offset":59233}}}],"position":{"start":{"line":1228,"column":1,"offset":59195},"end":{"line":1228,"column":41,"offset":59235}}}],"position":{"start":{"line":1228,"column":1,"offset":59195},"end":{"line":1228,"column":41,"offset":59235}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/0*2DcsnJXF_FOGhUtL.gif\" class=\"graf-image\" /></figure>**Example:**","position":{"start":{"line":1230,"column":1,"offset":59237},"end":{"line":1230,"column":125,"offset":59361}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: company","position":{"start":{"line":1232,"column":3,"offset":59365},"end":{"line":1232,"column":24,"offset":59386}}}],"position":{"start":{"line":1232,"column":1,"offset":59363},"end":{"line":1232,"column":26,"offset":59388}}}],"position":{"start":{"line":1232,"column":1,"offset":59363},"end":{"line":1232,"column":26,"offset":59388}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sample table: foods","position":{"start":{"line":1234,"column":3,"offset":59392},"end":{"line":1234,"column":22,"offset":59411}}}],"position":{"start":{"line":1234,"column":1,"offset":59390},"end":{"line":1234,"column":24,"offset":59413}}}],"position":{"start":{"line":1234,"column":1,"offset":59390},"end":{"line":1234,"column":24,"offset":59413}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To join two tables 'company' and 'foods', the following SQL statement can be used :","position":{"start":{"line":1236,"column":1,"offset":59415},"end":{"line":1236,"column":84,"offset":59498}}}],"position":{"start":{"line":1236,"column":1,"offset":59415},"end":{"line":1236,"column":84,"offset":59498}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"SQL Code:","position":{"start":{"line":1238,"column":3,"offset":59502},"end":{"line":1238,"column":12,"offset":59511}}}],"position":{"start":{"line":1238,"column":1,"offset":59500},"end":{"line":1238,"column":14,"offset":59513}}}],"position":{"start":{"line":1238,"column":1,"offset":59500},"end":{"line":1238,"column":14,"offset":59513}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SELECT  company.company_id,company.company_name,\nfoods.item_id,foods.item_name\nFROM company,foods;\n"}],"position":{"start":{"line":1240,"column":1,"offset":59515},"end":{"line":1242,"column":24,"offset":59625}}}],"position":{"start":{"line":1240,"column":1,"offset":59515},"end":{"line":1242,"column":24,"offset":59625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Copy","position":{"start":{"line":1244,"column":1,"offset":59627},"end":{"line":1244,"column":5,"offset":59631}}}],"position":{"start":{"line":1244,"column":1,"offset":59627},"end":{"line":1244,"column":5,"offset":59631}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Output:","position":{"start":{"line":1246,"column":1,"offset":59633},"end":{"line":1246,"column":8,"offset":59640}}}],"position":{"start":{"line":1246,"column":1,"offset":59633},"end":{"line":1246,"column":8,"offset":59640}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"COMPAN COMPANY_NAME              ITEM_ID  ITEM_NAME\n------ ------------------------- -------- ---------------\n18     Order All                 1        Chex Mix\n18     Order All                 6        Cheez-It\n18     Order All                 2        BN Biscuit\n18     Order All                 3        Mighty Munch\n18     Order All                 4        Pot Rice\n18     Order All                 5        Jaffa Cakes\n18     Order All                 7        Salt n Shake\n15     Jack Hill Ltd             1        Chex Mix\n15     Jack Hill Ltd             6        Cheez-It\n15     Jack Hill Ltd             2        BN Biscuit\n15     Jack Hill Ltd             3        Mighty Munch\n15     Jack Hill Ltd             4        Pot Rice\n15     Jack Hill Ltd             5        Jaffa Cakes\n15     Jack Hill Ltd             7        Salt n Shake\n16     Akas Foods                1        Chex Mix\n16     Akas Foods                6        Cheez-It\n16     Akas Foods                2        BN Biscuit\n16     Akas Foods                3        Mighty Munch\n16     Akas Foods                4        Pot Rice\n16     Akas Foods                5        Jaffa Cakes\n16     Akas Foods                7        Salt n Shake\n.........\n.........\n.........\n"}],"position":{"start":{"line":1248,"column":1,"offset":59642},"end":{"line":1273,"column":14,"offset":60995}}}],"position":{"start":{"line":1248,"column":1,"offset":59642},"end":{"line":1273,"column":14,"offset":60995}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1275,"column":5,"offset":61001},"end":{"line":1275,"column":13,"offset":61009}}}],"position":{"start":{"line":1275,"column":1,"offset":60997},"end":{"line":1275,"column":13,"offset":61009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we can write database code directly into our endpoints, best practices dictate that all database logic exists in separate, modular methods. These files containing database access helpers are often called ","position":{"start":{"line":1277,"column":1,"offset":61011},"end":{"line":1277,"column":211,"offset":61221}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"models","position":{"start":{"line":1277,"column":213,"offset":61223},"end":{"line":1277,"column":219,"offset":61229}}}],"position":{"start":{"line":1277,"column":211,"offset":61221},"end":{"line":1277,"column":221,"offset":61231}}}],"position":{"start":{"line":1277,"column":1,"offset":61011},"end":{"line":1277,"column":221,"offset":61231}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Follow Along","position":{"start":{"line":1279,"column":5,"offset":61237},"end":{"line":1279,"column":17,"offset":61249}}}],"position":{"start":{"line":1279,"column":1,"offset":61233},"end":{"line":1279,"column":17,"offset":61249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To handle CRUD operations for a single resource, we would want to create a ","position":{"start":{"line":1281,"column":1,"offset":61251},"end":{"line":1281,"column":76,"offset":61326}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"model","position":{"start":{"line":1281,"column":78,"offset":61328},"end":{"line":1281,"column":83,"offset":61333}}}],"position":{"start":{"line":1281,"column":76,"offset":61326},"end":{"line":1281,"column":85,"offset":61335}}},{"type":"text","value":" (or database access file) containing the following methods:","position":{"start":{"line":1281,"column":85,"offset":61335},"end":{"line":1281,"column":145,"offset":61395}}}],"position":{"start":{"line":1281,"column":1,"offset":61251},"end":{"line":1281,"column":145,"offset":61395}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n}\n\nfunction findById(id) {\n}\n\nfunction add(user) {\n}\n\nfunction update(changes, id) {\n}\n\nfunction remove(id) {\n}\n"}],"position":{"start":{"line":1283,"column":1,"offset":61397},"end":{"line":1296,"column":6,"offset":61566}}}],"position":{"start":{"line":1283,"column":1,"offset":61397},"end":{"line":1296,"column":6,"offset":61566}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each of these functions would use Knex logic to perform the necessary database operation.","position":{"start":{"line":1298,"column":1,"offset":61568},"end":{"line":1298,"column":90,"offset":61657}}}],"position":{"start":{"line":1298,"column":1,"offset":61568},"end":{"line":1298,"column":90,"offset":61657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function find() {\n  return db('users');\n}\n"}],"position":{"start":{"line":1300,"column":1,"offset":61659},"end":{"line":1302,"column":6,"offset":61712}}}],"position":{"start":{"line":1300,"column":1,"offset":61659},"end":{"line":1302,"column":6,"offset":61712}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For each method, we can choose what value to return. For example, we may prefer ","position":{"start":{"line":1304,"column":1,"offset":61714},"end":{"line":1304,"column":81,"offset":61794}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":1304,"column":81,"offset":61794},"end":{"line":1304,"column":93,"offset":61806}}},{"type":"text","value":" to return a single ","position":{"start":{"line":1304,"column":93,"offset":61806},"end":{"line":1304,"column":113,"offset":61826}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":1304,"column":113,"offset":61826},"end":{"line":1304,"column":119,"offset":61832}}},{"type":"text","value":" object rather than an array.","position":{"start":{"line":1304,"column":119,"offset":61832},"end":{"line":1304,"column":148,"offset":61861}}}],"position":{"start":{"line":1304,"column":1,"offset":61714},"end":{"line":1304,"column":148,"offset":61861}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function findById(id) {\n// first() returns the first entry in the db matching the query\n  return db('users').where({ id }).first();\n}\n"}],"position":{"start":{"line":1306,"column":1,"offset":61863},"end":{"line":1309,"column":6,"offset":62012}}}],"position":{"start":{"line":1306,"column":1,"offset":61863},"end":{"line":1309,"column":6,"offset":62012}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can also use existing methods like ","position":{"start":{"line":1311,"column":1,"offset":62014},"end":{"line":1311,"column":39,"offset":62052}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"findById()"}],"position":{"start":{"line":1311,"column":39,"offset":62052},"end":{"line":1311,"column":51,"offset":62064}}},{"type":"text","value":" to help ","position":{"start":{"line":1311,"column":51,"offset":62064},"end":{"line":1311,"column":60,"offset":62073}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"add()"}],"position":{"start":{"line":1311,"column":60,"offset":62073},"end":{"line":1311,"column":67,"offset":62080}}},{"type":"text","value":" return the new user (instead of just the id).","position":{"start":{"line":1311,"column":67,"offset":62080},"end":{"line":1311,"column":113,"offset":62126}}}],"position":{"start":{"line":1311,"column":1,"offset":62014},"end":{"line":1311,"column":113,"offset":62126}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"function add(user) {\n  db('users').insert(user)\n    .then(ids => {\n      return findById(ids[0]);\n    });\n}\n"}],"position":{"start":{"line":1313,"column":1,"offset":62128},"end":{"line":1318,"column":6,"offset":62259}}}],"position":{"start":{"line":1313,"column":1,"offset":62128},"end":{"line":1318,"column":6,"offset":62259}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once all methods are written as desired, we can export them like so:","position":{"start":{"line":1320,"column":1,"offset":62261},"end":{"line":1320,"column":69,"offset":62329}}}],"position":{"start":{"line":1320,"column":1,"offset":62261},"end":{"line":1320,"column":69,"offset":62329}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"module.exports = {\n  find,\n  findById,\n  add,\n  update,\n  delete,\n}\n"}],"position":{"start":{"line":1322,"column":1,"offset":62331},"end":{"line":1328,"column":6,"offset":62426}}}],"position":{"start":{"line":1322,"column":1,"offset":62331},"end":{"line":1328,"column":6,"offset":62426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"…and use the helpers in our endpoints","position":{"start":{"line":1330,"column":1,"offset":62428},"end":{"line":1330,"column":38,"offset":62465}}}],"position":{"start":{"line":1330,"column":1,"offset":62428},"end":{"line":1330,"column":38,"offset":62465}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const User = require('./user-model.js');\n\nrouter.get('/', (req, res) => {\n  User.find()\n    .then(users => {\n      res.json(users);\n    })\n    .catch(&nbsp;err => {});\n});\n"}],"position":{"start":{"line":1332,"column":1,"offset":62467},"end":{"line":1340,"column":8,"offset":62670}}}],"position":{"start":{"line":1332,"column":1,"offset":62467},"end":{"line":1340,"column":8,"offset":62670}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There should no be ","position":{"start":{"line":1342,"column":1,"offset":62672},"end":{"line":1342,"column":20,"offset":62691}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex"}],"position":{"start":{"line":1342,"column":20,"offset":62691},"end":{"line":1342,"column":26,"offset":62697}}},{"type":"text","value":" code in the endpoints themselves.","position":{"start":{"line":1342,"column":26,"offset":62697},"end":{"line":1342,"column":60,"offset":62731}}}],"position":{"start":{"line":1342,"column":1,"offset":62672},"end":{"line":1342,"column":60,"offset":62731}}},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[],"position":{"start":{"line":1344,"column":1,"offset":62733},"end":{"line":1344,"column":4,"offset":62736}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1346,"column":1,"offset":62738},"end":{"line":1346,"column":4,"offset":62741}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>###","position":{"start":{"line":1348,"column":1,"offset":62743},"end":{"line":1348,"column":122,"offset":62864}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Normalization"}],"position":{"start":{"line":1350,"column":1,"offset":62866},"end":{"line":1350,"column":16,"offset":62881}}},{"type":"text","value":" is the process of designing or refactoring database tables for maximum consistency and minimum redundancy.","position":{"start":{"line":1350,"column":16,"offset":62881},"end":{"line":1350,"column":123,"offset":62988}}}],"position":{"start":{"line":1350,"column":1,"offset":62866},"end":{"line":1350,"column":123,"offset":62988}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"With objects, we're used to ","position":{"start":{"line":1352,"column":1,"offset":62990},"end":{"line":1352,"column":29,"offset":63018}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"denormalized","position":{"start":{"line":1352,"column":30,"offset":63019},"end":{"line":1352,"column":42,"offset":63031}}}],"position":{"start":{"line":1352,"column":29,"offset":63018},"end":{"line":1352,"column":43,"offset":63032}}},{"type":"text","value":" data, stored with ease of use and speed in mind. Non-normalized tables are considered ineffective in relational databases.","position":{"start":{"line":1352,"column":43,"offset":63032},"end":{"line":1352,"column":166,"offset":63155}}}],"position":{"start":{"line":1352,"column":1,"offset":62990},"end":{"line":1352,"column":166,"offset":63155}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1354,"column":1,"offset":63157},"end":{"line":1354,"column":4,"offset":63160}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Data normalization","position":{"start":{"line":1356,"column":3,"offset":63164},"end":{"line":1356,"column":21,"offset":63182}}}],"position":{"start":{"line":1356,"column":1,"offset":63162},"end":{"line":1356,"column":23,"offset":63184}}},{"type":"text","value":" is a deep topic in database design. To begin thinking about it, we'll explore a few basic guidelines and some data examples that violate these rules.","position":{"start":{"line":1356,"column":23,"offset":63184},"end":{"line":1356,"column":173,"offset":63334}}}],"position":{"start":{"line":1356,"column":1,"offset":63162},"end":{"line":1356,"column":173,"offset":63334}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Normalization Guidelines","position":{"start":{"line":1358,"column":5,"offset":63340},"end":{"line":1358,"column":29,"offset":63364}}}],"position":{"start":{"line":1358,"column":1,"offset":63336},"end":{"line":1358,"column":29,"offset":63364}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each record has a primary key.","position":{"start":{"line":1360,"column":3,"offset":63368},"end":{"line":1360,"column":33,"offset":63398}}}],"position":{"start":{"line":1360,"column":3,"offset":63368},"end":{"line":1360,"column":33,"offset":63398}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1360,"column":1,"offset":63366},"end":{"line":1360,"column":33,"offset":63398}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"No fields are repeated.","position":{"start":{"line":1362,"column":3,"offset":63402},"end":{"line":1362,"column":26,"offset":63425}}}],"position":{"start":{"line":1362,"column":3,"offset":63402},"end":{"line":1362,"column":26,"offset":63425}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1362,"column":1,"offset":63400},"end":{"line":1362,"column":26,"offset":63425}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All fields relate directly to the key data.","position":{"start":{"line":1364,"column":3,"offset":63429},"end":{"line":1364,"column":46,"offset":63472}}}],"position":{"start":{"line":1364,"column":3,"offset":63429},"end":{"line":1364,"column":46,"offset":63472}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1364,"column":1,"offset":63427},"end":{"line":1364,"column":46,"offset":63472}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each field entry contains a single data point.","position":{"start":{"line":1366,"column":3,"offset":63476},"end":{"line":1366,"column":49,"offset":63522}}}],"position":{"start":{"line":1366,"column":3,"offset":63476},"end":{"line":1366,"column":49,"offset":63522}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1366,"column":1,"offset":63474},"end":{"line":1366,"column":49,"offset":63522}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are no redundant entries.","position":{"start":{"line":1368,"column":3,"offset":63526},"end":{"line":1368,"column":34,"offset":63557}}}],"position":{"start":{"line":1368,"column":3,"offset":63526},"end":{"line":1368,"column":34,"offset":63557}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1368,"column":1,"offset":63524},"end":{"line":1368,"column":34,"offset":63557}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Denormalized Data","position":{"start":{"line":1370,"column":5,"offset":63563},"end":{"line":1370,"column":22,"offset":63580}}}],"position":{"start":{"line":1370,"column":1,"offset":63559},"end":{"line":1370,"column":22,"offset":63580}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/19a01f68a659470fb85bbe6906fb4bad\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1372,"column":1,"offset":63582},"end":{"line":1372,"column":106,"offset":63687}}},{"type":"text","value":"Untitled","position":{"start":{"line":1372,"column":106,"offset":63687},"end":{"line":1372,"column":114,"offset":63695}}},{"type":"raw","value":"</a>","position":{"start":{"line":1372,"column":114,"offset":63695},"end":{"line":1372,"column":118,"offset":63699}}}],"position":{"start":{"line":1372,"column":1,"offset":63582},"end":{"line":1372,"column":118,"offset":63699}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This table has two issues. There is no proper id field (as multiple farms may have the same name), and multiple fields are representing the same type of data: animals.","position":{"start":{"line":1374,"column":1,"offset":63701},"end":{"line":1374,"column":168,"offset":63868}}}],"position":{"start":{"line":1374,"column":1,"offset":63701},"end":{"line":1374,"column":168,"offset":63868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/075ad6dd99ac48698625d7b56ca67bef\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1376,"column":1,"offset":63870},"end":{"line":1376,"column":106,"offset":63975}}},{"type":"text","value":"Untitled","position":{"start":{"line":1376,"column":106,"offset":63975},"end":{"line":1376,"column":114,"offset":63983}}},{"type":"raw","value":"</a>","position":{"start":{"line":1376,"column":114,"offset":63983},"end":{"line":1376,"column":118,"offset":63987}}}],"position":{"start":{"line":1376,"column":1,"offset":63870},"end":{"line":1376,"column":118,"offset":63987}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While we have now eliminated the first two issues, we now have multiple entries in one field, separated by commas. This isn't good either, as its another example of denormalization. There is no \"array\" data type in a relational database, so each field must contain only one data point.","position":{"start":{"line":1378,"column":1,"offset":63989},"end":{"line":1378,"column":286,"offset":64274}}}],"position":{"start":{"line":1378,"column":1,"offset":63989},"end":{"line":1378,"column":286,"offset":64274}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/375a15b0cb3f444a8698cd6cb3a08fe0\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1380,"column":1,"offset":64276},"end":{"line":1380,"column":106,"offset":64381}}},{"type":"text","value":"Untitled","position":{"start":{"line":1380,"column":106,"offset":64381},"end":{"line":1380,"column":114,"offset":64389}}},{"type":"raw","value":"</a>","position":{"start":{"line":1380,"column":114,"offset":64389},"end":{"line":1380,"column":118,"offset":64393}}}],"position":{"start":{"line":1380,"column":1,"offset":64276},"end":{"line":1380,"column":118,"offset":64393}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now we've solved the multiple fields issue, but we created repeating data (the farm field), which is also an example of denormalization. As well, we can see that if we were tracking additional ranch information (such as annual revenue), that field is only vaguely related to the animal information.","position":{"start":{"line":1382,"column":1,"offset":64395},"end":{"line":1382,"column":299,"offset":64693}}}],"position":{"start":{"line":1382,"column":1,"offset":64395},"end":{"line":1382,"column":299,"offset":64693}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"When these issues begin arising in your schema design, it means that you should separate information into two or more tables.","position":{"start":{"line":1384,"column":3,"offset":64697},"end":{"line":1384,"column":128,"offset":64822}}}],"position":{"start":{"line":1384,"column":1,"offset":64695},"end":{"line":1384,"column":130,"offset":64824}}}],"position":{"start":{"line":1384,"column":1,"offset":64695},"end":{"line":1384,"column":130,"offset":64824}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Anomalies","position":{"start":{"line":1386,"column":5,"offset":64830},"end":{"line":1386,"column":14,"offset":64839}}}],"position":{"start":{"line":1386,"column":1,"offset":64826},"end":{"line":1386,"column":14,"offset":64839}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Obeying the above guidelines prevent ","position":{"start":{"line":1388,"column":1,"offset":64841},"end":{"line":1388,"column":38,"offset":64878}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"anomalies","position":{"start":{"line":1388,"column":40,"offset":64880},"end":{"line":1388,"column":49,"offset":64889}}}],"position":{"start":{"line":1388,"column":38,"offset":64878},"end":{"line":1388,"column":51,"offset":64891}}},{"type":"text","value":" in your database when inserting, updating, or deleting. For example, imagine if the revenue of Beech Ranch changed. With our denormalized schema, it may get updated in some records but not others:","position":{"start":{"line":1388,"column":51,"offset":64891},"end":{"line":1388,"column":248,"offset":65088}}}],"position":{"start":{"line":1388,"column":1,"offset":64841},"end":{"line":1388,"column":248,"offset":65088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/e05f5b2e8ff141798adc6f188f56f31e\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1390,"column":1,"offset":65090},"end":{"line":1390,"column":106,"offset":65195}}},{"type":"text","value":"Untitled","position":{"start":{"line":1390,"column":106,"offset":65195},"end":{"line":1390,"column":114,"offset":65203}}},{"type":"raw","value":"</a>","position":{"start":{"line":1390,"column":114,"offset":65203},"end":{"line":1390,"column":118,"offset":65207}}}],"position":{"start":{"line":1390,"column":1,"offset":65090},"end":{"line":1390,"column":118,"offset":65207}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Similarly, if Beech Ranch shut down, there would be three (if not more) records that needed to be deleted to remove a single farm.","position":{"start":{"line":1392,"column":1,"offset":65209},"end":{"line":1392,"column":131,"offset":65339}}}],"position":{"start":{"line":1392,"column":1,"offset":65209},"end":{"line":1392,"column":131,"offset":65339}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Thus a denormalized table opens the door for contradictory, confusing, and unusable data.","position":{"start":{"line":1394,"column":1,"offset":65341},"end":{"line":1394,"column":90,"offset":65430}}}],"position":{"start":{"line":1394,"column":1,"offset":65341},"end":{"line":1394,"column":90,"offset":65430}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1396,"column":1,"offset":65432},"end":{"line":1396,"column":4,"offset":65435}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What issues does the following table have?","position":{"start":{"line":1398,"column":1,"offset":65437},"end":{"line":1398,"column":43,"offset":65479}}}],"position":{"start":{"line":1398,"column":1,"offset":65437},"end":{"line":1398,"column":43,"offset":65479}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/2793e8f6b70a47f48f9208779366e69e\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1400,"column":1,"offset":65481},"end":{"line":1400,"column":106,"offset":65586}}},{"type":"text","value":"Untitled","position":{"start":{"line":1400,"column":106,"offset":65586},"end":{"line":1400,"column":114,"offset":65594}}},{"type":"raw","value":"</a>","position":{"start":{"line":1400,"column":114,"offset":65594},"end":{"line":1400,"column":118,"offset":65598}}}],"position":{"start":{"line":1400,"column":1,"offset":65481},"end":{"line":1400,"column":118,"offset":65598}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1402,"column":1,"offset":65600},"end":{"line":1402,"column":4,"offset":65603}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are three types of relationships:","position":{"start":{"line":1404,"column":1,"offset":65605},"end":{"line":1404,"column":40,"offset":65644}}}],"position":{"start":{"line":1404,"column":1,"offset":65605},"end":{"line":1404,"column":40,"offset":65644}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One to one.","position":{"start":{"line":1406,"column":3,"offset":65648},"end":{"line":1406,"column":14,"offset":65659}}}],"position":{"start":{"line":1406,"column":3,"offset":65648},"end":{"line":1406,"column":14,"offset":65659}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1406,"column":1,"offset":65646},"end":{"line":1406,"column":14,"offset":65659}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"One to many.","position":{"start":{"line":1408,"column":3,"offset":65663},"end":{"line":1408,"column":15,"offset":65675}}}],"position":{"start":{"line":1408,"column":3,"offset":65663},"end":{"line":1408,"column":15,"offset":65675}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1408,"column":1,"offset":65661},"end":{"line":1408,"column":15,"offset":65675}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Many to many.","position":{"start":{"line":1410,"column":3,"offset":65679},"end":{"line":1410,"column":16,"offset":65692}}}],"position":{"start":{"line":1410,"column":3,"offset":65679},"end":{"line":1410,"column":16,"offset":65692}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1410,"column":1,"offset":65677},"end":{"line":1410,"column":16,"offset":65692}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Determining how data is related can provide a set of guidelines for table representation and guides the use of foreign keys to connect said tables.","position":{"start":{"line":1412,"column":1,"offset":65694},"end":{"line":1412,"column":148,"offset":65841}}}],"position":{"start":{"line":1412,"column":1,"offset":65694},"end":{"line":1412,"column":148,"offset":65841}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1414,"column":1,"offset":65843},"end":{"line":1414,"column":4,"offset":65846}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"One to One Relationships","position":{"start":{"line":1416,"column":5,"offset":65852},"end":{"line":1416,"column":29,"offset":65876}}}],"position":{"start":{"line":1416,"column":1,"offset":65848},"end":{"line":1416,"column":29,"offset":65876}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Imagine we are storing the financial projections for a series of farms.","position":{"start":{"line":1418,"column":1,"offset":65878},"end":{"line":1418,"column":72,"offset":65949}}}],"position":{"start":{"line":1418,"column":1,"offset":65878},"end":{"line":1418,"column":72,"offset":65949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We may wish to attach fields like farm name, address, description, projected revenue, and projected expenses. We could divide these fields into two categories: information related to the farm directly (name, address, description) and information related to the financial projections (revenue, expenses).","position":{"start":{"line":1420,"column":1,"offset":65951},"end":{"line":1420,"column":304,"offset":66254}}}],"position":{"start":{"line":1420,"column":1,"offset":65951},"end":{"line":1420,"column":304,"offset":66254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We would say that ","position":{"start":{"line":1422,"column":1,"offset":66256},"end":{"line":1422,"column":19,"offset":66274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1422,"column":19,"offset":66274},"end":{"line":1422,"column":26,"offset":66281}}},{"type":"text","value":" and ","position":{"start":{"line":1422,"column":26,"offset":66281},"end":{"line":1422,"column":31,"offset":66286}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1422,"column":31,"offset":66286},"end":{"line":1422,"column":44,"offset":66299}}},{"type":"text","value":" have a ","position":{"start":{"line":1422,"column":44,"offset":66299},"end":{"line":1422,"column":52,"offset":66307}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"one-to-one","position":{"start":{"line":1422,"column":54,"offset":66309},"end":{"line":1422,"column":64,"offset":66319}}}],"position":{"start":{"line":1422,"column":52,"offset":66307},"end":{"line":1422,"column":66,"offset":66321}}},{"type":"text","value":" relationship. This is to say that every farm has exactly one projection, and every project corresponds to exactly one farm.","position":{"start":{"line":1422,"column":66,"offset":66321},"end":{"line":1422,"column":190,"offset":66445}}}],"position":{"start":{"line":1422,"column":1,"offset":66256},"end":{"line":1422,"column":190,"offset":66445}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This data can be represented in two tables: ","position":{"start":{"line":1424,"column":1,"offset":66447},"end":{"line":1424,"column":45,"offset":66491}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1424,"column":45,"offset":66491},"end":{"line":1424,"column":52,"offset":66498}}},{"type":"text","value":" and ","position":{"start":{"line":1424,"column":52,"offset":66498},"end":{"line":1424,"column":57,"offset":66503}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1424,"column":57,"offset":66503},"end":{"line":1424,"column":70,"offset":66516}}}],"position":{"start":{"line":1424,"column":1,"offset":66447},"end":{"line":1424,"column":70,"offset":66516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/944e594f3464473ea06383bfdea13265\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1426,"column":1,"offset":66518},"end":{"line":1426,"column":106,"offset":66623}}},{"type":"text","value":"Untitled","position":{"start":{"line":1426,"column":106,"offset":66623},"end":{"line":1426,"column":114,"offset":66631}}},{"type":"raw","value":"</a>","position":{"start":{"line":1426,"column":114,"offset":66631},"end":{"line":1426,"column":118,"offset":66635}}}],"position":{"start":{"line":1426,"column":1,"offset":66518},"end":{"line":1426,"column":118,"offset":66635}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/de32fcf6760e45f284707274433fee92\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1428,"column":1,"offset":66637},"end":{"line":1428,"column":106,"offset":66742}}},{"type":"text","value":"Untitled","position":{"start":{"line":1428,"column":106,"offset":66742},"end":{"line":1428,"column":114,"offset":66750}}},{"type":"raw","value":"</a>","position":{"start":{"line":1428,"column":114,"offset":66750},"end":{"line":1428,"column":118,"offset":66754}}}],"position":{"start":{"line":1428,"column":1,"offset":66637},"end":{"line":1428,"column":118,"offset":66754}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":1430,"column":1,"offset":66756},"end":{"line":1430,"column":5,"offset":66760}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1430,"column":5,"offset":66760},"end":{"line":1430,"column":14,"offset":66769}}},{"type":"text","value":" is the foreign key that links ","position":{"start":{"line":1430,"column":14,"offset":66769},"end":{"line":1430,"column":45,"offset":66800}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1430,"column":45,"offset":66800},"end":{"line":1430,"column":52,"offset":66807}}},{"type":"text","value":" and ","position":{"start":{"line":1430,"column":52,"offset":66807},"end":{"line":1430,"column":57,"offset":66812}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projections"}],"position":{"start":{"line":1430,"column":57,"offset":66812},"end":{"line":1430,"column":70,"offset":66825}}},{"type":"text","value":" together.","position":{"start":{"line":1430,"column":70,"offset":66825},"end":{"line":1430,"column":80,"offset":66835}}}],"position":{"start":{"line":1430,"column":1,"offset":66756},"end":{"line":1430,"column":80,"offset":66835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notes about one-to-one relationships:","position":{"start":{"line":1432,"column":1,"offset":66837},"end":{"line":1432,"column":38,"offset":66874}}}],"position":{"start":{"line":1432,"column":1,"offset":66837},"end":{"line":1432,"column":38,"offset":66874}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"198d\">","position":{"start":{"line":1434,"column":3,"offset":66878},"end":{"line":1434,"column":19,"offset":66894}}},{"type":"text","value":"The foreign key should always have a ","position":{"start":{"line":1434,"column":19,"offset":66894},"end":{"line":1434,"column":56,"offset":66931}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"unique"}],"position":{"start":{"line":1434,"column":56,"offset":66931},"end":{"line":1434,"column":64,"offset":66939}}},{"type":"text","value":" constraint to prevent duplicate entries. In the example above, we wouldn't want to allow multiple projections records for one farm.","position":{"start":{"line":1434,"column":64,"offset":66939},"end":{"line":1434,"column":196,"offset":67071}}},{"type":"raw","value":"</span>","position":{"start":{"line":1434,"column":196,"offset":67071},"end":{"line":1434,"column":203,"offset":67078}}}],"position":{"start":{"line":1434,"column":1,"offset":66876},"end":{"line":1434,"column":203,"offset":67078}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"25c6\">","position":{"start":{"line":1435,"column":3,"offset":67081},"end":{"line":1435,"column":19,"offset":67097}}},{"type":"text","value":"The foreign key can be in either table. For example, we may have had a ","position":{"start":{"line":1435,"column":19,"offset":67097},"end":{"line":1435,"column":90,"offset":67168}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"projection_id"}],"position":{"start":{"line":1435,"column":90,"offset":67168},"end":{"line":1435,"column":105,"offset":67183}}},{"type":"text","value":" in the ","position":{"start":{"line":1435,"column":105,"offset":67183},"end":{"line":1435,"column":113,"offset":67191}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1435,"column":113,"offset":67191},"end":{"line":1435,"column":120,"offset":67198}}},{"type":"text","value":" table instead. A good rule of thumb is to put the foreign key in whichever table is more auxiliary to the other.","position":{"start":{"line":1435,"column":120,"offset":67198},"end":{"line":1435,"column":233,"offset":67311}}},{"type":"raw","value":"</span>","position":{"start":{"line":1435,"column":233,"offset":67311},"end":{"line":1435,"column":240,"offset":67318}}}],"position":{"start":{"line":1435,"column":1,"offset":67079},"end":{"line":1435,"column":240,"offset":67318}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"960d\">","position":{"start":{"line":1436,"column":3,"offset":67321},"end":{"line":1436,"column":19,"offset":67337}}},{"type":"text","value":"You can represent one-to-one data in a single table ","position":{"start":{"line":1436,"column":19,"offset":67337},"end":{"line":1436,"column":71,"offset":67389}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"without","position":{"start":{"line":1436,"column":72,"offset":67390},"end":{"line":1436,"column":79,"offset":67397}}}],"position":{"start":{"line":1436,"column":71,"offset":67389},"end":{"line":1436,"column":80,"offset":67398}}},{"type":"text","value":" creating anomalies. However, it is sometimes prudent to use two tables as shown above to keep separate concerns in separate tables.","position":{"start":{"line":1436,"column":80,"offset":67398},"end":{"line":1436,"column":212,"offset":67530}}},{"type":"raw","value":"</span>","position":{"start":{"line":1436,"column":212,"offset":67530},"end":{"line":1436,"column":219,"offset":67537}}}],"position":{"start":{"line":1436,"column":1,"offset":67319},"end":{"line":1436,"column":219,"offset":67537}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1434,"column":1,"offset":66876},"end":{"line":1436,"column":219,"offset":67537}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"One to Many Relationships","position":{"start":{"line":1438,"column":5,"offset":67543},"end":{"line":1438,"column":30,"offset":67568}}}],"position":{"start":{"line":1438,"column":1,"offset":67539},"end":{"line":1438,"column":30,"offset":67568}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now imagine, we are storing the full-time ranchers employed at each farm. In this case, each rancher would only work at one farm however, each farm may have multiple ranchers.","position":{"start":{"line":1440,"column":1,"offset":67570},"end":{"line":1440,"column":176,"offset":67745}}}],"position":{"start":{"line":1440,"column":1,"offset":67570},"end":{"line":1440,"column":176,"offset":67745}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is called a ","position":{"start":{"line":1442,"column":1,"offset":67747},"end":{"line":1442,"column":18,"offset":67764}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"one-to-many","position":{"start":{"line":1442,"column":20,"offset":67766},"end":{"line":1442,"column":31,"offset":67777}}}],"position":{"start":{"line":1442,"column":18,"offset":67764},"end":{"line":1442,"column":33,"offset":67779}}},{"type":"text","value":" relationship.","position":{"start":{"line":1442,"column":33,"offset":67779},"end":{"line":1442,"column":47,"offset":67793}}}],"position":{"start":{"line":1442,"column":1,"offset":67747},"end":{"line":1442,"column":47,"offset":67793}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is the most common type of relationship between entities. Some other examples:","position":{"start":{"line":1444,"column":1,"offset":67795},"end":{"line":1444,"column":84,"offset":67878}}}],"position":{"start":{"line":1444,"column":1,"offset":67795},"end":{"line":1444,"column":84,"offset":67878}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"5627\">","position":{"start":{"line":1446,"column":3,"offset":67882},"end":{"line":1446,"column":19,"offset":67898}}},{"type":"text","value":"One ","position":{"start":{"line":1446,"column":19,"offset":67898},"end":{"line":1446,"column":23,"offset":67902}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"customer"}],"position":{"start":{"line":1446,"column":23,"offset":67902},"end":{"line":1446,"column":33,"offset":67912}}},{"type":"text","value":" can have many ","position":{"start":{"line":1446,"column":33,"offset":67912},"end":{"line":1446,"column":48,"offset":67927}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"orders"}],"position":{"start":{"line":1446,"column":48,"offset":67927},"end":{"line":1446,"column":56,"offset":67935}}},{"type":"text","value":".","position":{"start":{"line":1446,"column":56,"offset":67935},"end":{"line":1446,"column":57,"offset":67936}}},{"type":"raw","value":"</span>","position":{"start":{"line":1446,"column":57,"offset":67936},"end":{"line":1446,"column":64,"offset":67943}}}],"position":{"start":{"line":1446,"column":1,"offset":67880},"end":{"line":1446,"column":64,"offset":67943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"cc42\">","position":{"start":{"line":1447,"column":3,"offset":67946},"end":{"line":1447,"column":19,"offset":67962}}},{"type":"text","value":"One ","position":{"start":{"line":1447,"column":19,"offset":67962},"end":{"line":1447,"column":23,"offset":67966}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"user"}],"position":{"start":{"line":1447,"column":23,"offset":67966},"end":{"line":1447,"column":29,"offset":67972}}},{"type":"text","value":" can have many ","position":{"start":{"line":1447,"column":29,"offset":67972},"end":{"line":1447,"column":44,"offset":67987}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"posts"}],"position":{"start":{"line":1447,"column":44,"offset":67987},"end":{"line":1447,"column":51,"offset":67994}}},{"type":"text","value":".","position":{"start":{"line":1447,"column":51,"offset":67994},"end":{"line":1447,"column":52,"offset":67995}}},{"type":"raw","value":"</span>","position":{"start":{"line":1447,"column":52,"offset":67995},"end":{"line":1447,"column":59,"offset":68002}}}],"position":{"start":{"line":1447,"column":1,"offset":67944},"end":{"line":1447,"column":59,"offset":68002}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"dae3\">","position":{"start":{"line":1448,"column":3,"offset":68005},"end":{"line":1448,"column":19,"offset":68021}}},{"type":"text","value":"One ","position":{"start":{"line":1448,"column":19,"offset":68021},"end":{"line":1448,"column":23,"offset":68025}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"post"}],"position":{"start":{"line":1448,"column":23,"offset":68025},"end":{"line":1448,"column":29,"offset":68031}}},{"type":"text","value":" can have many ","position":{"start":{"line":1448,"column":29,"offset":68031},"end":{"line":1448,"column":44,"offset":68046}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"comments"}],"position":{"start":{"line":1448,"column":44,"offset":68046},"end":{"line":1448,"column":54,"offset":68056}}},{"type":"text","value":".","position":{"start":{"line":1448,"column":54,"offset":68056},"end":{"line":1448,"column":55,"offset":68057}}},{"type":"raw","value":"</span>","position":{"start":{"line":1448,"column":55,"offset":68057},"end":{"line":1448,"column":62,"offset":68064}}}],"position":{"start":{"line":1448,"column":1,"offset":68003},"end":{"line":1448,"column":62,"offset":68064}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1446,"column":1,"offset":67880},"end":{"line":1448,"column":62,"offset":68064}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Manage this type of relationship by adding a foreign key on the \"many\" table of the relationship that points to the primary key on the \"one\" table. Consider the ","position":{"start":{"line":1450,"column":1,"offset":68066},"end":{"line":1450,"column":162,"offset":68227}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1450,"column":162,"offset":68227},"end":{"line":1450,"column":169,"offset":68234}}},{"type":"text","value":" and ","position":{"start":{"line":1450,"column":169,"offset":68234},"end":{"line":1450,"column":174,"offset":68239}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1450,"column":174,"offset":68239},"end":{"line":1450,"column":184,"offset":68249}}},{"type":"text","value":" tables.","position":{"start":{"line":1450,"column":184,"offset":68249},"end":{"line":1450,"column":192,"offset":68257}}}],"position":{"start":{"line":1450,"column":1,"offset":68066},"end":{"line":1450,"column":192,"offset":68257}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/7dfd2e69c9804a01845f2e9b716a5ac2\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1452,"column":1,"offset":68259},"end":{"line":1452,"column":106,"offset":68364}}},{"type":"text","value":"Untitled","position":{"start":{"line":1452,"column":106,"offset":68364},"end":{"line":1452,"column":114,"offset":68372}}},{"type":"raw","value":"</a>","position":{"start":{"line":1452,"column":114,"offset":68372},"end":{"line":1452,"column":118,"offset":68376}}}],"position":{"start":{"line":1452,"column":1,"offset":68259},"end":{"line":1452,"column":118,"offset":68376}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/c95f3d418db94ab4b4532eeba0e4f918\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1454,"column":1,"offset":68378},"end":{"line":1454,"column":106,"offset":68483}}},{"type":"text","value":"Untitled","position":{"start":{"line":1454,"column":106,"offset":68483},"end":{"line":1454,"column":114,"offset":68491}}},{"type":"raw","value":"</a>","position":{"start":{"line":1454,"column":114,"offset":68491},"end":{"line":1454,"column":118,"offset":68495}}}],"position":{"start":{"line":1454,"column":1,"offset":68378},"end":{"line":1454,"column":118,"offset":68495}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In a many-to-many relationship, the foreign key (in this case ","position":{"start":{"line":1456,"column":1,"offset":68497},"end":{"line":1456,"column":63,"offset":68559}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_id"}],"position":{"start":{"line":1456,"column":63,"offset":68559},"end":{"line":1456,"column":72,"offset":68568}}},{"type":"text","value":") should ","position":{"start":{"line":1456,"column":72,"offset":68568},"end":{"line":1456,"column":81,"offset":68577}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not","position":{"start":{"line":1456,"column":82,"offset":68578},"end":{"line":1456,"column":85,"offset":68581}}}],"position":{"start":{"line":1456,"column":81,"offset":68577},"end":{"line":1456,"column":86,"offset":68582}}},{"type":"text","value":" be unique.","position":{"start":{"line":1456,"column":86,"offset":68582},"end":{"line":1456,"column":97,"offset":68593}}}],"position":{"start":{"line":1456,"column":1,"offset":68497},"end":{"line":1456,"column":97,"offset":68593}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Many to Many Relationships","position":{"start":{"line":1458,"column":5,"offset":68599},"end":{"line":1458,"column":31,"offset":68625}}}],"position":{"start":{"line":1458,"column":1,"offset":68595},"end":{"line":1458,"column":31,"offset":68625}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we want to track animals on a farm as well, we must explore the ","position":{"start":{"line":1460,"column":1,"offset":68627},"end":{"line":1460,"column":68,"offset":68694}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"many-to-many","position":{"start":{"line":1460,"column":70,"offset":68696},"end":{"line":1460,"column":82,"offset":68708}}}],"position":{"start":{"line":1460,"column":68,"offset":68694},"end":{"line":1460,"column":84,"offset":68710}}},{"type":"text","value":" relationship. A farm has multiple animals, and multiple of each type of animal is present at multiple different farms.","position":{"start":{"line":1460,"column":84,"offset":68710},"end":{"line":1460,"column":203,"offset":68829}}}],"position":{"start":{"line":1460,"column":1,"offset":68627},"end":{"line":1460,"column":203,"offset":68829}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Some other examples:","position":{"start":{"line":1462,"column":1,"offset":68831},"end":{"line":1462,"column":21,"offset":68851}}}],"position":{"start":{"line":1462,"column":1,"offset":68831},"end":{"line":1462,"column":21,"offset":68851}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"d757\">","position":{"start":{"line":1464,"column":3,"offset":68855},"end":{"line":1464,"column":19,"offset":68871}}},{"type":"text","value":"an ","position":{"start":{"line":1464,"column":19,"offset":68871},"end":{"line":1464,"column":22,"offset":68874}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"order"}],"position":{"start":{"line":1464,"column":22,"offset":68874},"end":{"line":1464,"column":29,"offset":68881}}},{"type":"text","value":" can have many ","position":{"start":{"line":1464,"column":29,"offset":68881},"end":{"line":1464,"column":44,"offset":68896}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"products"}],"position":{"start":{"line":1464,"column":44,"offset":68896},"end":{"line":1464,"column":54,"offset":68906}}},{"type":"text","value":" and the same ","position":{"start":{"line":1464,"column":54,"offset":68906},"end":{"line":1464,"column":68,"offset":68920}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"product"}],"position":{"start":{"line":1464,"column":68,"offset":68920},"end":{"line":1464,"column":77,"offset":68929}}},{"type":"text","value":" will appear in many ","position":{"start":{"line":1464,"column":77,"offset":68929},"end":{"line":1464,"column":98,"offset":68950}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"orders"}],"position":{"start":{"line":1464,"column":98,"offset":68950},"end":{"line":1464,"column":106,"offset":68958}}},{"type":"text","value":".","position":{"start":{"line":1464,"column":106,"offset":68958},"end":{"line":1464,"column":107,"offset":68959}}},{"type":"raw","value":"</span>","position":{"start":{"line":1464,"column":107,"offset":68959},"end":{"line":1464,"column":114,"offset":68966}}}],"position":{"start":{"line":1464,"column":1,"offset":68853},"end":{"line":1464,"column":114,"offset":68966}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<span id=\"0256\">","position":{"start":{"line":1465,"column":3,"offset":68969},"end":{"line":1465,"column":19,"offset":68985}}},{"type":"text","value":"a ","position":{"start":{"line":1465,"column":19,"offset":68985},"end":{"line":1465,"column":21,"offset":68987}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"book"}],"position":{"start":{"line":1465,"column":21,"offset":68987},"end":{"line":1465,"column":27,"offset":68993}}},{"type":"text","value":" can have more than one ","position":{"start":{"line":1465,"column":27,"offset":68993},"end":{"line":1465,"column":51,"offset":69017}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"author"}],"position":{"start":{"line":1465,"column":51,"offset":69017},"end":{"line":1465,"column":59,"offset":69025}}},{"type":"text","value":", and an ","position":{"start":{"line":1465,"column":59,"offset":69025},"end":{"line":1465,"column":68,"offset":69034}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"author"}],"position":{"start":{"line":1465,"column":68,"offset":69034},"end":{"line":1465,"column":76,"offset":69042}}},{"type":"text","value":" can write more than one ","position":{"start":{"line":1465,"column":76,"offset":69042},"end":{"line":1465,"column":101,"offset":69067}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"book"}],"position":{"start":{"line":1465,"column":101,"offset":69067},"end":{"line":1465,"column":107,"offset":69073}}},{"type":"text","value":".","position":{"start":{"line":1465,"column":107,"offset":69073},"end":{"line":1465,"column":108,"offset":69074}}},{"type":"raw","value":"</span>","position":{"start":{"line":1465,"column":108,"offset":69074},"end":{"line":1465,"column":115,"offset":69081}}}],"position":{"start":{"line":1465,"column":1,"offset":68967},"end":{"line":1465,"column":115,"offset":69081}}},{"type":"text","value":"\n"}],"position":{"start":{"line":1464,"column":1,"offset":68853},"end":{"line":1465,"column":115,"offset":69081}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To model this relationship, we need to introduce an ","position":{"start":{"line":1467,"column":1,"offset":69083},"end":{"line":1467,"column":53,"offset":69135}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"intermediary table","position":{"start":{"line":1467,"column":55,"offset":69137},"end":{"line":1467,"column":73,"offset":69155}}}],"position":{"start":{"line":1467,"column":53,"offset":69135},"end":{"line":1467,"column":75,"offset":69157}}},{"type":"text","value":" that holds foreign keys that reference the primary key on the related tables. We now have a ","position":{"start":{"line":1467,"column":75,"offset":69157},"end":{"line":1467,"column":168,"offset":69250}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1467,"column":168,"offset":69250},"end":{"line":1467,"column":175,"offset":69257}}},{"type":"text","value":", ","position":{"start":{"line":1467,"column":175,"offset":69257},"end":{"line":1467,"column":177,"offset":69259}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"animals"}],"position":{"start":{"line":1467,"column":177,"offset":69259},"end":{"line":1467,"column":186,"offset":69268}}},{"type":"text","value":", and ","position":{"start":{"line":1467,"column":186,"offset":69268},"end":{"line":1467,"column":192,"offset":69274}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farm_animals"}],"position":{"start":{"line":1467,"column":192,"offset":69274},"end":{"line":1467,"column":206,"offset":69288}}},{"type":"text","value":" table.","position":{"start":{"line":1467,"column":206,"offset":69288},"end":{"line":1467,"column":213,"offset":69295}}}],"position":{"start":{"line":1467,"column":1,"offset":69083},"end":{"line":1467,"column":213,"offset":69295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/3269812d7c2a4578b1a9f6bc27e485b1\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1469,"column":1,"offset":69297},"end":{"line":1469,"column":106,"offset":69402}}},{"type":"text","value":"Untitled","position":{"start":{"line":1469,"column":106,"offset":69402},"end":{"line":1469,"column":114,"offset":69410}}},{"type":"raw","value":"</a>","position":{"start":{"line":1469,"column":114,"offset":69410},"end":{"line":1469,"column":118,"offset":69414}}}],"position":{"start":{"line":1469,"column":1,"offset":69297},"end":{"line":1469,"column":118,"offset":69414}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/c2642c7f632f489cb1b9639c80b8400d\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1471,"column":1,"offset":69416},"end":{"line":1471,"column":106,"offset":69521}}},{"type":"text","value":"Untitled","position":{"start":{"line":1471,"column":106,"offset":69521},"end":{"line":1471,"column":114,"offset":69529}}},{"type":"raw","value":"</a>","position":{"start":{"line":1471,"column":114,"offset":69529},"end":{"line":1471,"column":118,"offset":69533}}}],"position":{"start":{"line":1471,"column":1,"offset":69416},"end":{"line":1471,"column":118,"offset":69533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<a href=\"https://www.notion.so/d0b0042c5e104edd9ed55e122af89084\" class=\"markup--anchor markup--p-anchor\">","position":{"start":{"line":1473,"column":1,"offset":69535},"end":{"line":1473,"column":106,"offset":69640}}},{"type":"text","value":"Untitled","position":{"start":{"line":1473,"column":106,"offset":69640},"end":{"line":1473,"column":114,"offset":69648}}},{"type":"raw","value":"</a>","position":{"start":{"line":1473,"column":114,"offset":69648},"end":{"line":1473,"column":118,"offset":69652}}}],"position":{"start":{"line":1473,"column":1,"offset":69535},"end":{"line":1473,"column":118,"offset":69652}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While each foreign key on the intermediary table is not unique, the combinations of keys should be unique.","position":{"start":{"line":1475,"column":1,"offset":69654},"end":{"line":1475,"column":107,"offset":69760}}}],"position":{"start":{"line":1475,"column":1,"offset":69654},"end":{"line":1475,"column":107,"offset":69760}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1477,"column":1,"offset":69762},"end":{"line":1477,"column":4,"offset":69765}}},{"type":"text","value":"\n"},{"type":"raw","value":"<figure><img src=\"https://cdn-images-1.medium.com/max/800/1*9xpwm_56lgvHkFTKsmoMqg.gif\" class=\"graf-image\" /></figure>The Knex query builder library also allows us to create multi-table schemas include foreign keys. However, there are a few extra things to keep in mind when designing a multi-table schema, such as using the correct order when creating tables, dropping tables, seeding data, and removing data.","position":{"start":{"line":1479,"column":1,"offset":69767},"end":{"line":1479,"column":411,"offset":70177}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We have to consider the way that ","position":{"start":{"line":1481,"column":1,"offset":70179},"end":{"line":1481,"column":34,"offset":70212}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"delete"}],"position":{"start":{"line":1481,"column":34,"offset":70212},"end":{"line":1481,"column":42,"offset":70220}}},{"type":"text","value":" and ","position":{"start":{"line":1481,"column":42,"offset":70220},"end":{"line":1481,"column":47,"offset":70225}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"updates"}],"position":{"start":{"line":1481,"column":47,"offset":70225},"end":{"line":1481,"column":56,"offset":70234}}},{"type":"text","value":" through our API will impact related data.","position":{"start":{"line":1481,"column":56,"offset":70234},"end":{"line":1481,"column":98,"offset":70276}}}],"position":{"start":{"line":1481,"column":1,"offset":70179},"end":{"line":1481,"column":98,"offset":70276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[],"position":{"start":{"line":1483,"column":1,"offset":70278},"end":{"line":1483,"column":4,"offset":70281}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Foreign Key Setup","position":{"start":{"line":1485,"column":5,"offset":70287},"end":{"line":1485,"column":22,"offset":70304}}}],"position":{"start":{"line":1485,"column":1,"offset":70283},"end":{"line":1485,"column":22,"offset":70304}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Knex, foreign key restrictions don't automatically work. Whenever using foreign keys in your schema, add the following code to your ","position":{"start":{"line":1487,"column":1,"offset":70306},"end":{"line":1487,"column":136,"offset":70441}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knexfile"}],"position":{"start":{"line":1487,"column":136,"offset":70441},"end":{"line":1487,"column":146,"offset":70451}}},{"type":"text","value":". This will prevent users from entering bad data into a foreign key column.","position":{"start":{"line":1487,"column":146,"offset":70451},"end":{"line":1487,"column":221,"offset":70526}}}],"position":{"start":{"line":1487,"column":1,"offset":70306},"end":{"line":1487,"column":221,"offset":70526}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"development: {\n  client: 'sqlite3',\n  useNullAsDefault: true,\n  connection: {\n    filename: './data/database.db3',\n  },\n  // needed when using foreign keys\n  pool: {\n    afterCreate: (conn, done) => {\n      // runs after a connection is made to the sqlite engine\n      conn.run('PRAGMA foreign_keys = ON', done); // turn on FK enforcement\n    },\n  },\n},\n"}],"position":{"start":{"line":1489,"column":1,"offset":70528},"end":{"line":1502,"column":7,"offset":70937}}}],"position":{"start":{"line":1489,"column":1,"offset":70528},"end":{"line":1502,"column":7,"offset":70937}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Migrations","position":{"start":{"line":1504,"column":5,"offset":70943},"end":{"line":1504,"column":15,"offset":70953}}}],"position":{"start":{"line":1504,"column":1,"offset":70939},"end":{"line":1504,"column":15,"offset":70953}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's look at how we might track our ","position":{"start":{"line":1506,"column":1,"offset":70955},"end":{"line":1506,"column":38,"offset":70992}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"farms"}],"position":{"start":{"line":1506,"column":38,"offset":70992},"end":{"line":1506,"column":45,"offset":70999}}},{"type":"text","value":" and ","position":{"start":{"line":1506,"column":45,"offset":70999},"end":{"line":1506,"column":50,"offset":71004}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1506,"column":50,"offset":71004},"end":{"line":1506,"column":60,"offset":71014}}},{"type":"text","value":" using Knex. In our migration file's ","position":{"start":{"line":1506,"column":60,"offset":71014},"end":{"line":1506,"column":97,"offset":71051}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"up"}],"position":{"start":{"line":1506,"column":97,"offset":71051},"end":{"line":1506,"column":101,"offset":71055}}},{"type":"text","value":" function, we would want to create two tables:","position":{"start":{"line":1506,"column":101,"offset":71055},"end":{"line":1506,"column":147,"offset":71101}}}],"position":{"start":{"line":1506,"column":1,"offset":70955},"end":{"line":1506,"column":147,"offset":71101}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.up = function(knex, Promise) {\n  return knex.schema\n    .createTable('farms', tbl => {\n      tbl.increments();\n      tbl.string('farm_name', 128)\n        .notNullable();\n    })\n    // we can chain together createTable\n    .createTable('ranchers', tbl => {\n      tbl.increments();\n      tbl.string('rancher_name', 128);\n      tbl.integer('farm_id')\n        // forces integer to be positive\n        .unsigned()\n        .notNullable()\n        .references('id')\n        // this table must exist already\n        .inTable('farms')\n    })\n};\n"}],"position":{"start":{"line":1508,"column":1,"offset":71103},"end":{"line":1527,"column":7,"offset":71725}}}],"position":{"start":{"line":1508,"column":1,"offset":71103},"end":{"line":1527,"column":7,"offset":71725}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the foreign key can only be created ","position":{"start":{"line":1529,"column":1,"offset":71727},"end":{"line":1529,"column":47,"offset":71773}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"after","position":{"start":{"line":1529,"column":48,"offset":71774},"end":{"line":1529,"column":53,"offset":71779}}}],"position":{"start":{"line":1529,"column":47,"offset":71773},"end":{"line":1529,"column":54,"offset":71780}}},{"type":"text","value":" the reference table.","position":{"start":{"line":1529,"column":54,"offset":71780},"end":{"line":1529,"column":75,"offset":71801}}}],"position":{"start":{"line":1529,"column":1,"offset":71727},"end":{"line":1529,"column":75,"offset":71801}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the down function, the opposite is true. We always want to drop a table with a foreign key ","position":{"start":{"line":1531,"column":1,"offset":71803},"end":{"line":1531,"column":95,"offset":71897}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"before","position":{"start":{"line":1531,"column":96,"offset":71898},"end":{"line":1531,"column":102,"offset":71904}}}],"position":{"start":{"line":1531,"column":95,"offset":71897},"end":{"line":1531,"column":103,"offset":71905}}},{"type":"text","value":" dropping the table it references.","position":{"start":{"line":1531,"column":103,"offset":71905},"end":{"line":1531,"column":137,"offset":71939}}}],"position":{"start":{"line":1531,"column":1,"offset":71803},"end":{"line":1531,"column":137,"offset":71939}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"exports.down = function(knex, Promise) {\n  // drop in the opposite order\n  return knex.schema\n    .dropTableIfExists('ranchers')\n    .dropTableIfExists('farms')\n};\n"}],"position":{"start":{"line":1533,"column":1,"offset":71941},"end":{"line":1538,"column":7,"offset":72128}}}],"position":{"start":{"line":1533,"column":1,"offset":71941},"end":{"line":1538,"column":7,"offset":72128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In the case of a many-to-many relationship, the syntax for creating an intermediary table is identical, except for one additional piece. We need a way to make sure our combination of foreign keys is unique.","position":{"start":{"line":1540,"column":1,"offset":72130},"end":{"line":1540,"column":207,"offset":72336}}}],"position":{"start":{"line":1540,"column":1,"offset":72130},"end":{"line":1540,"column":207,"offset":72336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".createTable('farm_animals', tbl => {\n  tbl.integer('farm_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    // this table must exist already\n    .inTable('farms')\n  tbl.integer('animal_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    // this table must exist already\n    .inTable('animals')\n\n// the combination of the two keys becomes our primary key\n  // will enforce unique combinations of ids\n  tbl.primary(['farm_id', 'animal_id']);\n});\n"}],"position":{"start":{"line":1542,"column":1,"offset":72338},"end":{"line":1559,"column":8,"offset":72879}}}],"position":{"start":{"line":1542,"column":1,"offset":72338},"end":{"line":1559,"column":8,"offset":72879}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Seeds","position":{"start":{"line":1561,"column":5,"offset":72885},"end":{"line":1561,"column":10,"offset":72890}}}],"position":{"start":{"line":1561,"column":1,"offset":72881},"end":{"line":1561,"column":10,"offset":72890}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Order is also a concern when seeding. We want to create seeds in the ","position":{"start":{"line":1563,"column":1,"offset":72892},"end":{"line":1563,"column":70,"offset":72961}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"same","position":{"start":{"line":1563,"column":72,"offset":72963},"end":{"line":1563,"column":76,"offset":72967}}}],"position":{"start":{"line":1563,"column":70,"offset":72961},"end":{"line":1563,"column":78,"offset":72969}}},{"type":"text","value":" order we created our tables. In other words, don't create a seed with a foreign key, until that reference record exists.","position":{"start":{"line":1563,"column":78,"offset":72969},"end":{"line":1563,"column":199,"offset":73090}}}],"position":{"start":{"line":1563,"column":1,"offset":72892},"end":{"line":1563,"column":199,"offset":73090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In our example, make sure to write the ","position":{"start":{"line":1565,"column":1,"offset":73092},"end":{"line":1565,"column":40,"offset":73131}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"01-farms"}],"position":{"start":{"line":1565,"column":40,"offset":73131},"end":{"line":1565,"column":50,"offset":73141}}},{"type":"text","value":" seed file and then the ","position":{"start":{"line":1565,"column":50,"offset":73141},"end":{"line":1565,"column":74,"offset":73165}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"02-ranchers"}],"position":{"start":{"line":1565,"column":74,"offset":73165},"end":{"line":1565,"column":87,"offset":73178}}},{"type":"text","value":" seed file.","position":{"start":{"line":1565,"column":87,"offset":73178},"end":{"line":1565,"column":98,"offset":73189}}}],"position":{"start":{"line":1565,"column":1,"offset":73092},"end":{"line":1565,"column":98,"offset":73189}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, we run into a problem with truncating our seeds, because we want to truncate ","position":{"start":{"line":1567,"column":1,"offset":73191},"end":{"line":1567,"column":87,"offset":73277}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"02-ranchers"}],"position":{"start":{"line":1567,"column":87,"offset":73277},"end":{"line":1567,"column":100,"offset":73290}}},{"type":"text","value":" ","position":{"start":{"line":1567,"column":100,"offset":73290},"end":{"line":1567,"column":101,"offset":73291}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"before","position":{"start":{"line":1567,"column":102,"offset":73292},"end":{"line":1567,"column":108,"offset":73298}}}],"position":{"start":{"line":1567,"column":101,"offset":73291},"end":{"line":1567,"column":109,"offset":73299}}},{"type":"text","value":" ","position":{"start":{"line":1567,"column":109,"offset":73299},"end":{"line":1567,"column":110,"offset":73300}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"01-farms"}],"position":{"start":{"line":1567,"column":110,"offset":73300},"end":{"line":1567,"column":120,"offset":73310}}},{"type":"text","value":". A library called ","position":{"start":{"line":1567,"column":120,"offset":73310},"end":{"line":1567,"column":139,"offset":73329}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex-cleaner"}],"position":{"start":{"line":1567,"column":139,"offset":73329},"end":{"line":1567,"column":153,"offset":73343}}},{"type":"text","value":" provides an easy solution for us.","position":{"start":{"line":1567,"column":153,"offset":73343},"end":{"line":1567,"column":187,"offset":73377}}}],"position":{"start":{"line":1567,"column":1,"offset":73191},"end":{"line":1567,"column":187,"offset":73377}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run ","position":{"start":{"line":1569,"column":1,"offset":73379},"end":{"line":1569,"column":5,"offset":73383}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"knex seed:make 00-cleanup"}],"position":{"start":{"line":1569,"column":5,"offset":73383},"end":{"line":1569,"column":32,"offset":73410}}},{"type":"text","value":" and ","position":{"start":{"line":1569,"column":32,"offset":73410},"end":{"line":1569,"column":37,"offset":73415}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"npm install knex-cleaner"}],"position":{"start":{"line":1569,"column":37,"offset":73415},"end":{"line":1569,"column":63,"offset":73441}}},{"type":"text","value":". Inside the cleanup seed, use the following code.","position":{"start":{"line":1569,"column":63,"offset":73441},"end":{"line":1569,"column":113,"offset":73491}}}],"position":{"start":{"line":1569,"column":1,"offset":73379},"end":{"line":1569,"column":113,"offset":73491}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const cleaner = require('knex-cleaner');\n\nexports.seed = function(knex) {\n  return cleaner.clean(knex, {\n    mode: 'truncate', // resets ids\n    ignoreTables: ['knex_migrations', 'knex_migrations_lock'], // don't empty migration tables\n  });\n};\n"}],"position":{"start":{"line":1571,"column":1,"offset":73493},"end":{"line":1578,"column":7,"offset":73765}}}],"position":{"start":{"line":1571,"column":1,"offset":73493},"end":{"line":1578,"column":7,"offset":73765}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This removes all tables (excluding the two tables that track migrations) in the correct order before any seed files run.","position":{"start":{"line":1580,"column":1,"offset":73767},"end":{"line":1580,"column":121,"offset":73887}}}],"position":{"start":{"line":1580,"column":1,"offset":73767},"end":{"line":1580,"column":121,"offset":73887}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cascading","position":{"start":{"line":1582,"column":5,"offset":73893},"end":{"line":1582,"column":14,"offset":73902}}}],"position":{"start":{"line":1582,"column":1,"offset":73889},"end":{"line":1582,"column":14,"offset":73902}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If a user attempt to delete a record that is referenced by another record (such as attempting to delete ","position":{"start":{"line":1584,"column":1,"offset":73904},"end":{"line":1584,"column":105,"offset":74008}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Morton Ranch"}],"position":{"start":{"line":1584,"column":105,"offset":74008},"end":{"line":1584,"column":119,"offset":74022}}},{"type":"text","value":" when entries in our ","position":{"start":{"line":1584,"column":119,"offset":74022},"end":{"line":1584,"column":140,"offset":74043}}},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ranchers"}],"position":{"start":{"line":1584,"column":140,"offset":74043},"end":{"line":1584,"column":150,"offset":74053}}},{"type":"text","value":" table reference that record), by default, the database will block the action. The same thing can happen when updating a record when a foreign key reference.","position":{"start":{"line":1584,"column":150,"offset":74053},"end":{"line":1584,"column":307,"offset":74210}}}],"position":{"start":{"line":1584,"column":1,"offset":73904},"end":{"line":1584,"column":307,"offset":74210}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If we want that to override this default, we can delete or update with ","position":{"start":{"line":1586,"column":1,"offset":74212},"end":{"line":1586,"column":72,"offset":74283}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"cascade","position":{"start":{"line":1586,"column":74,"offset":74285},"end":{"line":1586,"column":81,"offset":74292}}}],"position":{"start":{"line":1586,"column":72,"offset":74283},"end":{"line":1586,"column":83,"offset":74294}}},{"type":"text","value":". With cascade, deleting a record also deletes all referencing records, we can set that up in our schema.","position":{"start":{"line":1586,"column":83,"offset":74294},"end":{"line":1586,"column":188,"offset":74399}}}],"position":{"start":{"line":1586,"column":1,"offset":74212},"end":{"line":1586,"column":188,"offset":74399}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".createTable('ranchers', tbl => {\n    tbl.increments();\n    tbl.string('rancher_name', 128);\n    tbl.integer('farm_id')\n    .unsigned()\n    .notNullable()\n    .references('id')\n    .inTable('farms')\n    .onUpdate('CASCADE');\n    .onDelete('CASCADE')\n})\n"}],"position":{"start":{"line":1588,"column":1,"offset":74401},"end":{"line":1598,"column":7,"offset":74697}}}],"position":{"start":{"line":1588,"column":1,"offset":74401},"end":{"line":1598,"column":7,"offset":74697}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1599,"column":1,"offset":74698}}}}